/*! For license information please see main.9924e2c4.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var F,M=Object.assign;function U(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function B(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case S:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function $(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ie=null;function Se(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function De(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==_e||null!==Ie)&&(Ae(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Pe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Fe=!1,Me=null,Ue=!1,je=null,Ve={onError:function(e){Fe=!0,Me=e}};function Be(e,t,n,r,i,a,o,u,s){Fe=!1,Me=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,It,St,Et=!1,Tt=[],Ct=null,At=null,Nt=null,Dt=new Map,Rt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Ft(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Vt(){Et=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==At&&Ut(At)&&(At=null),null!==Nt&&Ut(Nt)&&(Nt=null),Dt.forEach(jt),Rt.forEach(jt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==At&&Bt(At,e),null!==Nt&&Bt(Nt,e),Dt.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){if(Kt){var i=Yt(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Ft(Ct,e,t,n,r,i),!0;case"dragenter":return At=Ft(At,e,t,n,r,i),!0;case"mouseover":return Nt=Ft(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Ft(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Ft(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),mn=an(M({},fn,{relatedTarget:0})),yn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Sn(){return In}var En=M({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Dn),Pn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Fn=l&&"TextEvent"in window&&!Ln,Mn=l&&(!On||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ee(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Qn(e){Ur(e,0)}function Yn(e){if(W(bi(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(l){var $n;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Xn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Wn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Gn(t,Wn,e,we(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Ir={};function Sr(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return _r[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Sr("animationend"),Tr=Sr("animationiteration"),Cr=Sr("animationstart"),Ar=Sr("transitionend"),Nr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Nr.set(e,t),s(t,[e])}for(var Pr=0;Pr<Dr.length;Pr++){var Or=Dr[Pr];Rr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Rr(Er,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Fe){if(!Fe)throw Error(a(198));var l=Me;Fe=!1,Me=null,Ue||(Ue=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var i=Gt;break;case 4:i=Ht;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}De((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Er:case Tr:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Wr(d))p++;for(d=0,v=h;v;v=Wr(v))d++;for(;0<p-d;)l=Wr(l),p--;for(;0<d-p;)h=Wr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Wr(l),h=Wr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Jn;else if(Kn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):($t="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Fn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=$t=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Re(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Re(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=Re(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function $r(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Ii(e){return{current:e}}function Si(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ai=Ii(!1),Ni=Ti;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Si(Ai),Si(Ci)}function Oi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return M({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Ei(Ci,e),Ei(Ai,Ai.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Si(Ai),Si(Ci),Ei(Ci,e)):Si(Ai),Ei(Ai,n)}var Ui=null,ji=!1,Vi=!1;function Bi(e){null===Ui?Ui=[e]:Ui.push(e)}function zi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),We(Ze,zi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Ki=0,Gi=null,Hi=0,Wi=[],Qi=0,Yi=null,Ji=1,Xi="";function $i(e,t){qi[Ki++]=Hi,qi[Ki++]=Gi,Gi=e,Hi=t}function Zi(e,t,n){Wi[Qi++]=Ji,Wi[Qi++]=Xi,Wi[Qi++]=Yi,Yi=e;var r=Ji;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Ji=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ta(e){for(;e===Gi;)Gi=qi[--Ki],qi[Ki]=null,Hi=qi[--Ki],qi[Ki]=null;for(;e===Yi;)Yi=Wi[--Qi],Wi[Qi]=null,Xi=Wi[--Qi],Wi[Qi]=null,Ji=Wi[--Qi],Wi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ii(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Si(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&As)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Ri(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Ri(t)?Ni:Ci.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Fc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Fc(t,e.mode,n,null)).return=e,t;Wa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Wa(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&$i(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&$i(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&$i(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&$i(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&$i(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&$i(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Fc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case R:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Wa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Uc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ja=Ya(!0),Xa=Ya(!1),$a={},Za=Ii($a),eo=Ii($a),to=Ii($a);function no(e){if(e===$a)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ei(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(){}function Ro(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,jo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Fo(t)&&Mo(e)}function Lo(e,t,n){return n((function(){Fo(t)&&Mo(e)}))}function Fo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Mo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function Uo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function Bo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ko(e,t){return zo(2048,8,e,t)}function Go(e,t){return zo(4,2,e,t)}function Ho(e,t){return zo(4,4,e,t)}function Wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Wo.bind(null,t,e),n)}function Yo(){}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Uo,useDebugValue:Yo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Ns.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Sa,useCallback:Jo,useContext:Sa,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){return $o(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Sa,useCallback:Jo,useContext:Sa,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:$o(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,Hs=r),hu(0,t)},n}function vu(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ja(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=So(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Gu(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Os,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Os,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Os,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Os,Ps),Ps|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Ri(n)?Ni:Ci.current;return a=Di(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=So(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function Cu(e,t,n,r,i){if(Ri(n)){var a=!0;Fi(t)}else a=!1;if(Ia(t,i),null===t.stateNode)Ku(e,t),qa(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Di(t,c=Ri(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Na?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Na||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Sa(s):s=Di(t,s=Ri(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Na||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Gu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ja(t,e.child,null,a),t.child=Ja(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Du(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ru,Pu,Ou,Lu,Fu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Fc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Fu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Fc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ja(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Fu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return mc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Wi[Qi++]=Ji,Wi[Qi++]=Xi,Wi[Qi++]=Yi,Ji=e.id,Xi=e.overflow,Yi=t),t=ju(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Oc(r,u):(u=Fc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Fu,i}return e=(u=e.child).sibling,i=Oc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),Ja(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bu(e,n,t);else if(19===e.tag)Bu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ku(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wu(t),null;case 1:case 17:return Ri(t.type)&&Pi(),Wu(t),null;case 3:return r=t.stateNode,io(),Si(Ai),Si(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Pu(e,t),Wu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ou(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":J(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ru(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wu(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wu(t),null;case 13:if(Si(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wu(t),null);case 4:return io(),Pu(e,t),null===e&&zr(t.stateNode.containerInfo),Wu(t),null;case 10:return xa(t.type._context),Wu(t),null;case 19:if(Si(uo),null===(o=t.memoizedState))return Wu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Hu(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Hu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qs&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Wu(t),null}else 2*Xe()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Wu(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Wu(t),6&t.subtreeFlags&&(t.flags|=8192)):Wu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Yu(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ai),Si(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ru=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pu=function(){},Ou=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ju=!1,Xu=!1,$u="function"===typeof WeakSet?WeakSet:Set,Zu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Xu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sc(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,ds(e,t,n),Xu=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $u),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Sc(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":$(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Xe())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(l=Xu)||f,ms(t,e),Xu=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(p=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){xs(h);continue}}null!==p?(p.return=d,Zu=p):xs(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Sc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){Zu=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ju;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=Ju;var c=Xu;if(Ju=o,(Xu=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,Zu=s):_s(i);for(;null!==a;)Zu=a,bs(a,t,n),a=a.sibling;Zu=i,Ju=u,Xu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):ws(e)}}function ws(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&as(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function _s(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var a=t.return;try{as(t)}catch(s){Sc(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Sc(t,o,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var Is,Ss=Math.ceil,Es=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Cs=b.ReactCurrentBatchConfig,As=0,Ns=null,Ds=null,Rs=0,Ps=0,Os=Ii(0),Ls=0,Fs=null,Ms=0,Us=0,js=0,Vs=null,Bs=null,zs=0,qs=1/0,Ks=null,Gs=!1,Hs=null,Ws=null,Qs=!1,Ys=null,Js=0,Xs=0,$s=null,Zs=-1,ec=0;function tc(){return 0!==(6&As)?Xe():-1!==Zs?Zs:Zs=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&As)&&0!==Rs?Rs&-Rs:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,n,r){if(50<Xs)throw Xs=0,$s=null,Error(a(185));yt(e,n,r),0!==(2&As)&&e===Ns||(e===Ns&&(0===(2&As)&&(Us|=n),4===Ls&&sc(e,Rs)),ic(e,r),1===n&&0===As&&0===(1&t.mode)&&(qs=Xe()+500,ji&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Rs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),oi((function(){0===(6&As)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zs=-1,ec=0,0!==(6&As))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Rs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=As;As|=2;var o=vc();for(Ns===e&&Rs===t||(Ks=null,qs=Xe()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}wa(),Es.current=o,As=i,null!==Ds?t=0:(Ns=null,Rs=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Fs,dc(e,0),sc(e,r),ic(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Fs,dc(e,0),sc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,Bs,Ks);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=zs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Bs,Ks),t);break}xc(e,Bs,Ks);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Bs,Ks),r);break}xc(e,Bs,Ks);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bs,Bs=n,null!==t&&uc(t)),e}function uc(e){null===Bs?Bs=e:Bs.push.apply(Bs,e)}function sc(e,t){for(t&=~js,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&As))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Fs,dc(e,0),sc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bs,Ks),ic(e,Xe()),null}function lc(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(qs=Xe()+500,ji&&zi())}}function fc(e){null!==Ys&&0===Ys.tag&&0===(6&As)&&_c();var t=As;As|=1;var n=Cs.transition,r=kt;try{if(Cs.transition=null,kt=1,e)return e()}finally{kt=r,Cs.transition=n,0===(6&(As=t))&&zi()}}function hc(){Ps=Os.current,Si(Os)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Si(Ai),Si(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(uo);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Ns=e,Ds=e=Oc(e.current,null),Rs=Ps=t,Ls=0,Fs=null,js=Us=Ms=0,Bs=Vs=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function pc(e,t){for(;;){var n=Ds;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ts.current=null,null===n||null===n.return){Ls=1,Fs=t,Ds=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Rs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Fa(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ws||!Ws.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Fa(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function vc(){var e=Es.current;return Es.current=ou,null===e?ou:e}function mc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===Ns||0===(268435455&Ms)&&0===(268435455&Us)||sc(Ns,Rs)}function yc(e,t){var n=As;As|=2;var r=vc();for(Ns===e&&Rs===t||(Ks=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),As=n,Es.current=r,null!==Ds)throw Error(a(261));return Ns=null,Rs=0,Ls}function gc(){for(;null!==Ds;)bc(Ds)}function kc(){for(;null!==Ds&&!Ye();)bc(Ds)}function bc(e){var t=Is(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?wc(e):Ds=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Ps)))return void(Ds=n)}else{if(null!==(n=Yu(n,t)))return n.flags&=32767,void(Ds=n);if(null===e)return Ls=6,void(Ds=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Ls&&(Ls=5)}function xc(e,t,n){var r=kt,i=Cs.transition;try{Cs.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Ys);if(0!==(6&As))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(Ds=Ns=null,Rs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Nc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=kt;kt=1;var s=As;As|=4,Ts.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),Je(),As=s,kt=u,Cs.transition=o}else e.current=n;if(Qs&&(Qs=!1,Ys=e,Js=i),o=e.pendingLanes,0===o&&(Ws=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gs)throw Gs=!1,e=Hs,Hs=null,e;0!==(1&Js)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===$s?Xs++:(Xs=0,$s=e):Xs=0,zi()}(e,t,n,r)}finally{Cs.transition=i,kt=r}return null}function _c(){if(null!==Ys){var e=bt(Js),t=Cs.transition,n=kt;try{if(Cs.transition=null,kt=16>e?16:e,null===Ys)var r=!1;else{if(e=Ys,Ys=null,Js=0,0!==(6&As))throw Error(a(331));var i=As;for(As|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,p=f.return;if(os(f),f===l){Zu=null;break}if(null!==d){d.return=p,Zu=d;break}Zu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var k=e.current;for(Zu=k;null!==Zu;){var b=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Zu=b;else e:for(u=k;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(x){Sc(s,s.return,x)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(As=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Cs.transition=t}}return!1}function Ic(e,t,n){e=Oa(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Sc(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){t=Oa(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Rs&n)===n&&(4===Ls||3===Ls&&(130023424&Rs)===Rs&&500>Xe()-zs?dc(e,0):js|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return We(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Dc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Fc(n.children,i,o,t);case I:u=8,i|=8;break;case S:return(e=Rc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case A:return(e=Rc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Rc(19,n,t,i)).elementType=N,e.lanes=o,e;case P:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case D:u=14;break e;case R:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Fc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Bc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Pa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Kc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Is=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Fi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Uu(e,t,n):(Ei(uo,1&uo.current),null!==(e=Gu(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Gu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ku(e,t),e=t.pendingProps;var i=Di(t,Ci.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Fi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ku(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===D)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Ma(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Du(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Du(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Gu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Uu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ja(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Gu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Sa(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_u(e,t,r,i=ma(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ku(e,t),t.tag=1,Ri(r)?(e=!0,Fi(t)):e=!1,Ia(t,n),qa(t,r,i),Ga(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),fc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}Jc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},Jc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Kc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&As)&&(qs=Xe()+500,zi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Wc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Wc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Wc(e,t)}},It=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));W(r),$(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,P(x);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,I=!1,S=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?_():(I=!1,S=null)}}else I=!1}if("function"===typeof k)_=function(){k(N)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,R=D.port2;D.port1.onmessage=N,_=function(){R.postMessage(null)}}else _=function(){y(N,0)};function P(e){S=e,I||(I=!0,_())}function O(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,O(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,P(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".d096c4c1.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="teamsearch:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/TeamSearch/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkteamsearch=self.webpackChunkteamsearch||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){var e={};n.r(e),n.d(e,{FirebaseError:function(){return nn},SDK_VERSION:function(){return yr},_DEFAULT_ENTRY_NAME:function(){return er},_addComponent:function(){return ar},_addOrOverwriteComponent:function(){return or},_apps:function(){return nr},_clearComponents:function(){return hr},_components:function(){return ir},_getProvider:function(){return sr},_isFirebaseApp:function(){return lr},_isFirebaseServerApp:function(){return fr},_registerComponent:function(){return ur},_removeServiceInstance:function(){return cr},_serverApps:function(){return rr},deleteApp:function(){return xr},getApp:function(){return br},getApps:function(){return wr},initializeApp:function(){return gr},initializeServerApp:function(){return kr},onLog:function(){return Sr},registerVersion:function(){return Ir},setLogLevel:function(){return Er}});var t,r=n(791),i=n.t(r,2),a=n(250);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function c(e){return function(e){if(Array.isArray(e))return o(e)}(e)||u(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}function w(e){var t=g();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function x(e,t,n){return x=g()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&v(i,n.prototype),i},x.apply(null,arguments)}function _(e){var t="function"===typeof Map?new Map:void 0;return _=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return x(e,arguments,y(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),v(n,e)},_(e)}function I(e){if(Array.isArray(e))return e}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){return I(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||s(e,t)||S()}function T(e){return I(e)||u(e)||s(e)||S()}function C(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var N,D="popstate";function R(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function P(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function O(e,t){return{usr:e.state,key:e.key,idx:t}}function L(e,t,n,r){return void 0===n&&(n=null),A({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?M(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function F(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function M(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function U(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=t.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-d;d=e,h&&h({action:f,location:y.location,delta:n})}function m(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:F(e);return R(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(A({},l.state,{idx:d}),""));var y={get action(){return f},get location(){return e(u,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(D,v),h=e,function(){u.removeEventListener(D,v),h=null}},createHref:function(e){return n(u,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=L(y.location,e,n);r&&r(i,e);var a=O(i,d=p()+1),o=y.createHref(i);try{l.pushState(a,"",o)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;u.location.assign(o)}c&&h&&h({action:f,location:y.location,delta:1})},replace:function(e,n){f=t.Replace;var i=L(y.location,e,n);r&&r(i,e);var a=O(i,d=p()),o=y.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:y.location,delta:0})},go:function(e){return l.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(N||(N={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function j(e,t,n){void 0===n&&(n="/");var r=Z(("string"===typeof t?M(t):t).pathname||"/",n);if(null==r)return null;var i=V(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=J(i[o],$(r));return a}function V(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(R(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=ie([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(R(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),V(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:Y(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=C(B(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function B(e){var t=e.split("/");if(0===t.length)return[];var n=T(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=B(i.join("/")),s=[];return s.push.apply(s,c(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,c(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var z=/^:\w+$/,q=3,K=2,G=1,H=10,W=-2,Q=function(e){return"*"===e};function Y(e,t){var n=e.split("/"),r=n.length;return n.some(Q)&&(r+=W),t&&(r+=K),n.filter((function(e){return!Q(e)})).reduce((function(e,t){return e+(z.test(t)?q:""===t?G:H)}),r)}function J(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=X({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:ie([i,l.pathname]),pathnameBase:ae(ie([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ie([i,l.pathnameBase]))}return a}function X(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);P("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(function(e,t,n){return r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"}));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=E(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){var r=t.paramName,i=t.isOptional;if("*"===r){var a=c[n]||"";s=u.slice(0,u.length-a.length).replace(/(.)\/+$/,"$1")}var o=c[n];return e[r]=i&&!o?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return P(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(o||"",r),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function $(e){try{return decodeURI(e)}catch(t){return P(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ee(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function te(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ne(e){return te(e).map((function(t,n){return n===e.length-1?t.pathname:t.pathnameBase}))}function re(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=M(e):(R(!(i=A({},e)).pathname||!i.pathname.includes("?"),ee("?","pathname","search",i)),R(!i.pathname||!i.pathname.includes("#"),ee("#","pathname","hash",i)),R(!i.search||!i.search.includes("#"),ee("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(null==u)a=n;else if(r){var s=t[t.length-1].replace(/^\//,"").split("/");if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s.pop();i.pathname=c.join("/")}a="/"+s.join("/")}else{var l=t.length-1;if(u.startsWith("..")){for(var f=u.split("/");".."===f[0];)f.shift(),l-=1;i.pathname=f.join("/")}a=l>=0?t[l]:"/"}var h=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?M(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:oe(a),hash:ue(u)}}(i,a),d=u&&"/"!==u&&u.endsWith("/"),p=(o||"."===u)&&n.endsWith("/");return h.pathname.endsWith("/")||!d&&!p||(h.pathname+="/"),h}var ie=function(e){return e.join("/").replace(/\/\/+/g,"/")},ae=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},oe=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ue=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},se=function(e){m(n,e);var t=w(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n)}(_(Error));function ce(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var le=["post","put","patch","delete"],fe=(new Set(le),["get"].concat(le));new Set(fe),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},he.apply(this,arguments)}var de=r.createContext(null);var pe=r.createContext(null);var ve=r.createContext(null);var me=r.createContext(null);var ye=r.createContext(null);var ge=r.createContext({outlet:null,matches:[],isDataRoute:!1});var ke=r.createContext(null);function be(){return null!=r.useContext(ye)}function we(){return be()||R(!1),r.useContext(ye).location}function xe(e){r.useContext(me).static||r.useLayoutEffect(e)}function _e(){return r.useContext(ge).isDataRoute?function(){var e=Pe(De.UseNavigateStable).router,t=Le(Re.UseNavigateStable),n=r.useRef(!1);xe((function(){n.current=!0}));var i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,he({fromRouteId:t},i)))}),[e,t]);return i}():function(){be()||R(!1);var e=r.useContext(de),t=r.useContext(me),n=t.basename,i=t.navigator,a=r.useContext(ge).matches,o=we().pathname,u=JSON.stringify(ne(a)),s=r.useRef(!1);return xe((function(){s.current=!0})),r.useCallback((function(t,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof t){var a=re(t,JSON.parse(u),o,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:ie([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)}else i.go(t)}),[n,i,u,o,e])}()}function Ie(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(ge).matches,a=we().pathname,o=JSON.stringify(ne(i));return r.useMemo((function(){return re(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function Se(e,n,i){be()||R(!1);var a,o=r.useContext(me).navigator,u=r.useContext(ge).matches,s=u[u.length-1],c=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,we());if(n){var h,d="string"===typeof n?M(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||R(!1),a=d}else a=f;var p=a.pathname||"/",v=j(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});var m=Ne(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ie([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ie([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),u,i);return n&&m?r.createElement(ye.Provider,{value:{location:he({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:t.Pop}},m):m}function Ee(){var e=function(){var e,t=r.useContext(ke),n=Oe(Re.UseRouteError),i=Le(Re.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=ce(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Te=r.createElement(Ee,null),Ce=function(e){m(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return p(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(ge.Provider,{value:this.props.routeContext},r.createElement(ke.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(r.Component);function Ae(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(de);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ge.Provider,{value:t},i)}function Ne(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,u=null==(i=n)?void 0:i.errors;if(null!=u){var s=o.findIndex((function(e){return e.route.id&&(null==u?void 0:u[e.route.id])}));s>=0||R(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((function(e,i,a){var s=i.route.id?null==u?void 0:u[i.route.id]:null,c=null;n&&(c=i.route.errorElement||Te);var l=t.concat(o.slice(0,a+1)),f=function(){var t;return t=s?c:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Ae,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(Ce,{location:n.location,revalidation:n.revalidation,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}var De=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(De||{}),Re=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Re||{});function Pe(e){var t=r.useContext(de);return t||R(!1),t}function Oe(e){var t=r.useContext(pe);return t||R(!1),t}function Le(e){var t=function(e){var t=r.useContext(ge);return t||R(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||R(!1),n.route.id}i.startTransition;function Fe(e){R(!1)}function Me(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;be()&&R(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=M(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,x=v.state,_=void 0===x?null:x,I=v.key,S=void 0===I?"default":I,E=r.useMemo((function(){var e=Z(y,d);return null==e?null:{location:{pathname:e,search:k,hash:w,state:_,key:S},navigationType:c}}),[d,y,k,w,_,S,c]);return null==E?null:r.createElement(me.Provider,{value:p},r.createElement(ye.Provider,{children:o,value:E}))}function Ue(e){var t=e.children,n=e.location;return Se(Be(t),n)}var je=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(je||{}),Ve=new Promise((function(){}));r.Component;function Be(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var a=[].concat(c(t),[i]);if(e.type!==r.Fragment){e.type!==Fe&&R(!1),e.props.index&&e.props.children&&R(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Be(e.props.children,a)),n.push(o)}else n.push.apply(n,Be(e.props.children,a))}})),n}var ze=n(184),qe=function(e){var t=e.title,n=e.discription;return(0,ze.jsxs)("div",{className:"card",children:[(0,ze.jsx)("div",{className:"title",children:t}),(0,ze.jsx)("div",{className:"lineincard"}),(0,ze.jsx)("div",{className:"discription",children:n})]})};var Ke=function(){return(0,ze.jsxs)("div",{className:"txt",children:[(0,ze.jsx)("div",{className:"Welcome",children:"Welcome to TeamSearch"}),(0,ze.jsx)("div",{className:"Servis",children:"\u0421\u0435\u0440\u0432\u0438\u0441 \u043f\u043e \u043f\u043e\u0438\u0441\u043a\u0443 \u0441\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u044b\u0445 \u043a\u043e\u043c\u0430\u043d\u0434"}),(0,ze.jsx)("div",{className:"Line1"}),(0,ze.jsx)("div",{className:"Why",children:"\u041f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u0441\u0442\u043e\u0438\u0442 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0438\u043c\u0435\u043d\u043d\u043e \u043d\u0430\u0441:"})]})},Ge=n(164),He=n.t(Ge,2);function We(){return We=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},We.apply(this,arguments)}function Qe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var Ye=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;var Je=i.startTransition;He.flushSync;function Xe(e){var t,n=e.basename,i=e.children,a=e.future,o=e.window,u=r.useRef();null==u.current&&(u.current=(void 0===(t={window:o,v5Compat:!0})&&(t={}),U((function(e,t){var n=M(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,u=n.hash,s=void 0===u?"":u;return i.startsWith("/")||i.startsWith(".")||(i="/"+i),L("",{pathname:i,search:o,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:F(t))}),(function(e,t){P("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),t)));var s=u.current,c=E(r.useState({action:s.action,location:s.location}),2),l=c[0],f=c[1],h=(a||{}).v7_startTransition,d=r.useCallback((function(e){h&&Je?Je((function(){return f(e)})):f(e)}),[f,h]);return r.useLayoutEffect((function(){return s.listen(d)}),[s,d]),r.createElement(Me,{basename:n,children:i,location:l.location,navigationType:l.action,navigator:s})}var $e="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ze=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=r.forwardRef((function(e,t){var n,i=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=e.unstable_viewTransition,d=Qe(e,Ye),p=r.useContext(me).basename,v=!1;if("string"===typeof l&&Ze.test(l)&&(n=l,$e))try{var m=new URL(window.location.href),y=l.startsWith("//")?new URL(m.protocol+l):new URL(l),g=Z(y.pathname,p);y.origin===m.origin&&null!=g?l=g+y.search+y.hash:v=!0}catch(w){}var k=function(e,t){var n=(void 0===t?{}:t).relative;be()||R(!1);var i=r.useContext(me),a=i.basename,o=i.navigator,u=Ie(e,{relative:n}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:ie([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),b=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=n.preventScrollReset,s=n.relative,c=n.unstable_viewTransition,l=_e(),f=we(),h=Ie(e,{relative:s});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:F(f)===F(h);l(e,{replace:n,state:o,preventScrollReset:u,relative:s,unstable_viewTransition:c})}}),[f,l,h,a,o,i,e,u,s,c])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a,unstable_viewTransition:h});return r.createElement("a",We({},d,{href:n||k,onClick:v||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var tt,nt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(tt||(tt={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(nt||(nt={}));var rt=Object.defineProperty,it=Object.defineProperties,at=Object.getOwnPropertyDescriptors,ot=Object.getOwnPropertySymbols,ut=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable,ct=function(e,t,n){return t in e?rt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},lt=function(e,t){for(var n in t||(t={}))ut.call(t,n)&&ct(e,n,t[n]);if(ot){var r,i=C(ot(t));try{for(i.s();!(r=i.n()).done;){n=r.value;st.call(t,n)&&ct(e,n,t[n])}}catch(a){i.e(a)}finally{i.f()}}return e},ft=function(e,t){return it(e,at(t))},ht=function(e){m(n,e);var t=w(n);function n(e){var i;l(this,n),(i=t.call(this,e)).ref=r.createRef(),i.state={style:{}};return i.width=null,i.height=null,i.left=null,i.top=null,i.transitionTimeout=null,i.updateCall=null,i.element=null,i.settings=Object.assign({},{reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1.1",speed:"1000",transition:!0,axis:null,reset:!0},i.props.options),i.reverse=i.settings.reverse?-1:1,i.onMouseEnter=i.onMouseEnter.bind(k(i),i.props.onMouseEnter),i.onMouseMove=i.onMouseMove.bind(k(i),i.props.onMouseMove),i.onMouseLeave=i.onMouseLeave.bind(k(i),i.props.onMouseLeave),i}return p(n,[{key:"componentDidMount",value:function(){var e=this;this.element=this.ref.current,setTimeout((function(){e.element.parentElement.querySelector(":hover")===e.element&&e.onMouseEnter()}),0)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.transitionTimeout),cancelAnimationFrame(this.updateCall)}},{key:"onMouseEnter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1?arguments[1]:void 0;return this.updateElementPosition(),this.setState(Object.assign({},this.state,{style:ft(lt({},this.state.style),{willChange:"transform"})})),this.setTransition(),e(t)}},{key:"reset",value:function(){var e=this;window.requestAnimationFrame((function(){e.setState(Object.assign({},e.state,{style:ft(lt({},e.state.style),{transform:"perspective(".concat(e.settings.perspective,"px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)")})}))}))}},{key:"onMouseMove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1?arguments[1]:void 0;return t.persist(),null!==this.updateCall&&window.cancelAnimationFrame(this.updateCall),this.event=t,this.updateCall=requestAnimationFrame(this.update.bind(this,t)),e(t)}},{key:"setTransition",value:function(){var e=this;clearTimeout(this.transitionTimeout),this.setState(Object.assign({},this.state,{style:ft(lt({},this.state.style),{transition:"".concat(this.settings.speed,"ms ").concat(this.settings.easing)})})),this.transitionTimeout=setTimeout((function(){e.setState(Object.assign({},e.state,{style:ft(lt({},e.state.style),{transition:""})}))}),this.settings.speed)}},{key:"onMouseLeave",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1?arguments[1]:void 0;return this.setTransition(),this.settings.reset&&this.reset(),e(t)}},{key:"getValues",value:function(e){var t=(e.nativeEvent.clientX-this.left)/this.width,n=(e.nativeEvent.clientY-this.top)/this.height,r=Math.min(Math.max(t,0),1),i=Math.min(Math.max(n,0),1);return{tiltX:(this.reverse*(this.settings.max/2-r*this.settings.max)).toFixed(2),tiltY:(this.reverse*(i*this.settings.max-this.settings.max/2)).toFixed(2),percentageX:100*r,percentageY:100*i}}},{key:"updateElementPosition",value:function(){var e=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=e.left,this.top=e.top}},{key:"update",value:function(e){var t=this.getValues(e);this.setState(Object.assign({},this.state,{style:ft(lt({},this.state.style),{transform:"perspective(".concat(this.settings.perspective,"px) rotateX(").concat("x"===this.settings.axis?0:t.tiltY,"deg) rotateY(").concat("y"===this.settings.axis?0:t.tiltX,"deg) scale3d(").concat(this.settings.scale,", ").concat(this.settings.scale,", ").concat(this.settings.scale,")")})})),this.updateCall=null}},{key:"render",value:function(){var e=Object.assign({},this.props.style,this.state.style);return(0,ze.jsx)("div",{style:e,ref:this.ref,className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,children:this.props.children})}}]),n}(r.Component),dt={reverse:!1,max:35,perspective:1e3,scale:1.1,speed:1e3,transition:!0,axis:null,reset:!0,easing:"cubic-bezier(.03,.98,.52,.99)"},pt=function(){return(0,ze.jsx)("div",{className:"container1",children:(0,ze.jsxs)("div",{className:"Home",children:[(0,ze.jsx)("div",{className:"TextBox",style:{display:"flex",alignItems:"center",height:"100%",justifyContent:"center"},children:(0,ze.jsx)(Ke,{})}),(0,ze.jsxs)("div",{className:"CardBox Desk",children:[(0,ze.jsx)(ht,{options:dt,children:(0,ze.jsx)(qe,{title:"\u0420\u0430\u0437\u043d\u043e\u043e\u0431\u0440\u0430\u0437\u0438\u0435",discription:"\u0423 \u043d\u0430\u0441 \u0432\u044b \u043d\u0430\u0439\u0434\u0435\u0442\u0435 \u0448\u0438\u0440\u043e\u043a\u0438\u0439 \u0430\u0441\u0441\u043e\u0440\u0442\u0438\u043c\u0435\u043d\u0442 \u0438\u0433\u0440, \u043d\u0430\u0447\u0438\u043d\u0430\u044f \u043e\u0442 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0445 \u0432\u0438\u0434\u043e\u0432 \u0441\u043f\u043e\u0440\u0442\u0430, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u0444\u0443\u0442\u0431\u043e\u043b, \u0431\u0430\u0441\u043a\u0435\u0442\u0431\u043e\u043b, \u0438 \u0437\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u044f \u0443\u0432\u043b\u0435\u043a\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u043c\u0438\u0440\u043e\u043c \u043a\u0438\u0431\u0435\u0440\u0441\u043f\u043e\u0440\u0442\u0430. \u041d\u0430\u0448\u0430 \u0446\u0435\u043b\u044c - \u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0441 \u0432\u0430\u043c\u0438 \u0432\u0441\u0435\u0439 \u044d\u0442\u043e\u0439 \u0443\u0434\u0438\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u043c\u043e\u0437\u0430\u0438\u043a\u043e\u0439 \u0441\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u0441\u0442\u0438 \u0438 \u0432\u0434\u043e\u0445\u043d\u043e\u0432\u0435\u043d\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u044f\u0435\u0442 \u043c\u0438\u043b\u043b\u0438\u043e\u043d\u044b \u043b\u044e\u0434\u0435\u0439 \u043f\u043e \u0432\u0441\u0435\u043c\u0443 \u043c\u0438\u0440\u0443."})}),(0,ze.jsx)(ht,{options:dt,children:(0,ze.jsx)(qe,{title:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",discription:"\u041d\u0430 \u043d\u0430\u0448\u0435\u043c \u0441\u0430\u0439\u0442\u0435 \u043e\u0441\u043e\u0431\u043e\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u0443\u0434\u0435\u043b\u0435\u043d\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f\u043c \u0438\u0433\u0440\u043e\u043a\u043e\u0432, \u0438\u0445 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044f\u043c \u0438 \u043e\u043f\u044b\u0442\u0443. \u041c\u044b \u0432\u0435\u0440\u0438\u043c, \u0447\u0442\u043e \u0432\u0441\u0435\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0435\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0431 \u0438\u0433\u0440\u043e\u043a\u0430\u0445 \u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u0430\u0445 \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u0432\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043f\u043e\u043d\u044f\u0442\u044c \u0438\u0445 \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u0438 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0435\u0445 \u0441\u043e\u0440\u0430\u0442\u043d\u0438\u043a\u043e\u0432 \u043f\u043e \u0438\u0433\u0440\u0435, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u0434\u043e\u0439\u0434\u0443\u0442 \u0438\u043c\u0435\u043d\u043d\u043e \u0432\u0430\u043c, \u0438 \u0445\u043e\u0440\u043e\u0448\u043e \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u0432\u0440\u0435\u043c\u044f \u0441 \u043d\u0438\u043c\u0438."})}),(0,ze.jsx)(ht,{options:dt,children:(0,ze.jsx)(qe,{title:"\u0423\u0434\u043e\u0431\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441",discription:"\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u0438 \u0438 \u0447\u0435\u0442\u043a\u043e\u043c\u0443 \u0434\u0438\u0437\u0430\u0439\u043d\u0443 \u0432\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043b\u0435\u0433\u043a\u043e \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c \u0432\u0441\u044e \u043d\u0443\u0436\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e - \u0432\u0441\u0435 \u044d\u0442\u043e \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0432\u0430\u0448\u0435 \u043f\u043e\u0433\u0440\u0443\u0436\u0435\u043d\u0438\u0435 \u0432 \u043c\u0438\u0440 \u0441\u043f\u043e\u0440\u0442\u0430 \u0431\u044b\u043b\u043e \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u043f\u0440\u0438\u044f\u0442\u043d\u044b\u043c \u0438 \u0436\u0438\u0432\u044b\u043c. \u0421 \u043d\u0430\u043c\u0438 \u0432\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0433\u0440\u0443\u0437\u0438\u0442\u0435\u0441\u044c \u0432 \u0437\u0430\u0445\u0432\u0430\u0442\u044b\u0432\u0430\u044e\u0449\u0438\u0439 \u043c\u0438\u0440 \u0441\u043f\u043e\u0440\u0442\u0430 \u0438 \u043a\u0438\u0431\u0435\u0440\u0441\u043f\u043e\u0440\u0442\u0430 \u0431\u0435\u0437 \u043b\u0438\u0448\u043d\u0438\u0445 \u0445\u043b\u043e\u043f\u043e\u0442!"})})]}),(0,ze.jsxs)("div",{className:"CardBox Mobile",children:[(0,ze.jsx)(qe,{title:"\u0420\u0430\u0437\u043d\u043e\u043e\u0431\u0440\u0430\u0437\u0438\u0435",discription:"\u0423 \u043d\u0430\u0441 \u0432\u044b \u043d\u0430\u0439\u0434\u0435\u0442\u0435 \u0448\u0438\u0440\u043e\u043a\u0438\u0439 \u0430\u0441\u0441\u043e\u0440\u0442\u0438\u043c\u0435\u043d\u0442 \u0438\u0433\u0440, \u043d\u0430\u0447\u0438\u043d\u0430\u044f \u043e\u0442 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0445 \u0432\u0438\u0434\u043e\u0432 \u0441\u043f\u043e\u0440\u0442\u0430, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u0444\u0443\u0442\u0431\u043e\u043b, \u0431\u0430\u0441\u043a\u0435\u0442\u0431\u043e\u043b, \u0438 \u0437\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u044f \u0443\u0432\u043b\u0435\u043a\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u043c\u0438\u0440\u043e\u043c \u043a\u0438\u0431\u0435\u0440\u0441\u043f\u043e\u0440\u0442\u0430. \u041d\u0430\u0448\u0430 \u0446\u0435\u043b\u044c - \u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0441 \u0432\u0430\u043c\u0438 \u0432\u0441\u0435\u0439 \u044d\u0442\u043e\u0439 \u0443\u0434\u0438\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u043c\u043e\u0437\u0430\u0438\u043a\u043e\u0439 \u0441\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u0441\u0442\u0438 \u0438 \u0432\u0434\u043e\u0445\u043d\u043e\u0432\u0435\u043d\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u044f\u0435\u0442 \u043c\u0438\u043b\u043b\u0438\u043e\u043d\u044b \u043b\u044e\u0434\u0435\u0439 \u043f\u043e \u0432\u0441\u0435\u043c\u0443 \u043c\u0438\u0440\u0443."}),(0,ze.jsx)(qe,{title:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",discription:"\u041d\u0430 \u043d\u0430\u0448\u0435\u043c \u0441\u0430\u0439\u0442\u0435 \u043e\u0441\u043e\u0431\u043e\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u0443\u0434\u0435\u043b\u0435\u043d\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f\u043c \u0438\u0433\u0440\u043e\u043a\u043e\u0432, \u0438\u0445 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044f\u043c \u0438 \u043e\u043f\u044b\u0442\u0443. \u041c\u044b \u0432\u0435\u0440\u0438\u043c, \u0447\u0442\u043e \u0432\u0441\u0435\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0435\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0431 \u0438\u0433\u0440\u043e\u043a\u0430\u0445 \u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u0430\u0445 \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u0432\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043f\u043e\u043d\u044f\u0442\u044c \u0438\u0445 \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u0438 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0435\u0445 \u0441\u043e\u0440\u0430\u0442\u043d\u0438\u043a\u043e\u0432 \u043f\u043e \u0438\u0433\u0440\u0435, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u0434\u043e\u0439\u0434\u0443\u0442 \u0438\u043c\u0435\u043d\u043d\u043e \u0432\u0430\u043c, \u0438 \u0445\u043e\u0440\u043e\u0448\u043e \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u0432\u0440\u0435\u043c\u044f \u0441 \u043d\u0438\u043c\u0438."}),(0,ze.jsx)(qe,{title:"\u0423\u0434\u043e\u0431\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441",discription:"\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u0438 \u0438 \u0447\u0435\u0442\u043a\u043e\u043c\u0443 \u0434\u0438\u0437\u0430\u0439\u043d\u0443 \u0432\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043b\u0435\u0433\u043a\u043e \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c \u0432\u0441\u044e \u043d\u0443\u0436\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e - \u0432\u0441\u0435 \u044d\u0442\u043e \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0432\u0430\u0448\u0435 \u043f\u043e\u0433\u0440\u0443\u0436\u0435\u043d\u0438\u0435 \u0432 \u043c\u0438\u0440 \u0441\u043f\u043e\u0440\u0442\u0430 \u0431\u044b\u043b\u043e \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u043f\u0440\u0438\u044f\u0442\u043d\u044b\u043c \u0438 \u0436\u0438\u0432\u044b\u043c. \u0421 \u043d\u0430\u043c\u0438 \u0432\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0433\u0440\u0443\u0437\u0438\u0442\u0435\u0441\u044c \u0432 \u0437\u0430\u0445\u0432\u0430\u0442\u044b\u0432\u0430\u044e\u0449\u0438\u0439 \u043c\u0438\u0440 \u0441\u043f\u043e\u0440\u0442\u0430 \u0438 \u043a\u0438\u0431\u0435\u0440\u0441\u043f\u043e\u0440\u0442\u0430 \u0431\u0435\u0437 \u043b\u0438\u0448\u043d\u0438\u0445 \u0445\u043b\u043e\u043f\u043e\u0442!"})]}),(0,ze.jsx)("div",{className:"menu-btn",children:(0,ze.jsx)(et,{to:"/Menu",className:"menu-btn",children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0430\u043d\u043a\u0435\u0442\u0430\u043c"})})]})})};function vt(){vt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),u=new D(r||[]);return i(o,"_invoke",{value:T(e,n,u)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",p="suspendedYield",v="executing",m="completed",y={};function g(){}function k(){}function b(){}var w={};c(w,o,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(R([])));_&&_!==n&&r.call(_,o)&&(w=_);var I=b.prototype=g.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,u){var s=h(e[i],e,a);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==f(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,n,r){var i=d;return function(a,o){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var u=r.delegate;if(u){var s=C(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var c=h(t,n,r);if("normal"===c.type){if(i=r.done?m:p,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=h(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(f(t)+" is not iterable")}return k.prototype=b,i(I,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:k,configurable:!0}),k.displayName=c(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,s,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},S(E.prototype),c(E.prototype,u,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new E(l(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(I),c(I,s,"Generator"),c(I,o,(function(){return this})),c(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=R,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return u.type="throw",u.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function mt(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function yt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){mt(a,r,i,o,u,"next",e)}function u(e){mt(a,r,i,o,u,"throw",e)}o(void 0)}))}}var gt=n.p+"static/media/logo.2a82a4d790cd29baafdf143a69ff4425.svg",kt=n.p+"static/media/logo_mobile.2757fa6a2c2816c48535.png",bt=n.p+"static/media/sfedu.acb0221c32451c8abc42.png",wt=n.p+"static/media/github.9ca5fd68d342d8696425.png",xt=n.p+"static/media/moodle.dcda4404eddd609f7d93.png",_t=(n.p,n.p,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAsTAAALEwEAmpwYAAADGElEQVR4nO3dwW4TMRDGcb8BiFJAggNPQ9s8Ityqtid4HShw6HOAWsAjYgUhJc3aHo9n9v+TRsqlkr3fl2y23TQpAQAAAAAAAAAAAAAAAAAAAAAAAMASL/NstvPCeC0WVrv/kzw3eR7y/N6OPL7O88xwXaOsev+y+du02/j/8zXPG7PV6ZO9yR737f9LCl4Caf6+zZf5nmKWQPYke3ts/1dWC9Qm57x/X/YOzV2etyar1HFs+OV08Mpmmbrkzc4xByBaCZaEX+bcZKXKLtKygxChBDXhy5xZLFbbklNAhPcEteHf5zk1WO8Qcqmz9IB4LEFt+DKXBusdRi5xDl0GRShBS/hybEJfBoqWAzT7e4LIe+tKLnM+p1gHqiV8L69uXUUqAeFXilACwm/kuQSE34nHEhB+Z55KQPhKPJSA8JXNXALCH2TGEhD+YDOVgPCNzFACwjdmWQLCn4RFCVrC/5YIv7uRJWgN/3XtJnHYiBIQ/uQ0S0D4TmiUgPCd6VkCwneqRwkI37nWa3Wu8wNoeSXgmR/EqBIQ/sS0S0D4DmiVgPAd6V0CwneoVwkI37HWEhC+cy2/I5C5S3N8+AQVWsOnBI71Cp8SONQ7fErgiFb4lMAB7fApwcRGhU8JJsSfg1esx80cM3z4BBV63slDCZzRuI2LEjiheQ8fJZjciBs4KcGkRt69SwkmY3HrNiWYhOV9+5TA2Awf2qAERmYIv6AEg80UfkEJBpkx/IISKJs5/IISKGn9q97Iu3cpQWce/xsXJejEY/gFJWjkOfyCElSKEH5BCRaKFH5BCY4UMfyCEjziJPHFkYcm/BdH3qTY4RctJbgyWO8Qa/vy6NrTwcP2Z8PZpPWEX9SW4Nxisdou0rrCL2pKcGayUmVLTgFRwi+WvCe4z3Nqs0x912l94RfHluDSaoEjyCXObdq/ebkMihh+IXs7dBksp4rQl4HieZ5PeX6l3cbl8cf09/cE0T3N8yHPz7Tb/4887/M8MVzXcPJs2Gwn8rN+HymCvNl7t30MAAAAAAAAAAAAAAAAAAAAAAAAAEf6Axh4sMoXD7U+AAAAAElFTkSuQmCC");n.p;var It=n.p+"static/media/strong1.60c7654e6a7c834e524c0f74275b4803.svg",St=n.p+"static/media/playstick.5518ce5b9492a638fabd.png",Et=n.p+"static/media/logosfedu.ce22f21844c3a6ceb4b1.png";var Tt=n.p+"static/media/user.7a288caeef88149691d4ca5fe8911b57.svg";n.p;var Ct=n.p+"static/media/emailico.666c45dac02cc990de6950fb1c5c951b.svg";var At=n.p+"static/media/lockico.e50c1c0389797eb9a0c696b54b7e2e68.svg";var Nt=n.p+"static/media/eye.35bae406a53b8f4a637b8b6132272fba.svg";var Dt=n.p+"static/media/avatar.74c7b3398f447ad26aac5bfd05b050e7.svg";function Rt(){return Rt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Rt.apply(this,arguments)}function Pt(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ot=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Lt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ot(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new Ft;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ft=function(e){m(n,e);var t=w(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return p(n)}(_(Error)),Mt=function(e){return function(e){var t=Ot(e);return Lt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ut=function(e){try{return Lt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function jt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=jt(e[n],t[n]));return e}var Vt=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Bt=function(){try{return Vt()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/TeamSearch",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Ut(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},zt=function(e){var t,n;return null===(n=null===(t=Bt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},qt=function(e){var t=zt(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},Kt=function(){var e;return null===(e=Bt())||void 0===e?void 0:e.config},Gt=function(e){var t;return null===(t=Bt())||void 0===t?void 0:t["_".concat(e)]},Ht=function(){function e(){var t=this;l(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return p(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Wt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Mt(JSON.stringify({alg:"none",type:"JWT"})),Mt(JSON.stringify(a)),""].join(".")}function Qt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Yt(){var e,t=null===(e=Bt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Jt(){return"object"===typeof self&&self.self===self}function Xt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function $t(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Zt(){var e=Qt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function en(){return!Yt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tn(){try{return"object"===typeof indexedDB}catch(e){return!1}}var nn=function(e){m(n,e);var t=w(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(k(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(k(a),rn.prototype.create),a}return p(n)}(_(Error)),rn=function(){function e(t,n,r){l(this,e),this.service=t,this.serviceName=n,this.errors=r}return p(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(an,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new nn(n,a,t)}}]),e}();var an=/\{\$([^}]+)}/g;function on(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function un(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function sn(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(cn(u)&&cn(s)){if(!sn(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function cn(e){return null!==e&&"object"===typeof e}function ln(e){for(var t=[],n=function(){var e=E(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function fn(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=E(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function hn(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function dn(e,t){var n=new pn(e,t);return n.subscribe.bind(n)}var pn=function(){function e(t,n){var r=this;l(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return p(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=C(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=vn),void 0===r.error&&(r.error=vn),void 0===r.complete&&(r.complete=vn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function vn(){}function mn(e){return e&&e._delegate?e._delegate:e}var yn=function(){function e(t,n,r){l(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return p(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),gn="[DEFAULT]",kn=function(){function e(t,n){l(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return p(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ht;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:gn})}catch(s){}var t,n=C(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=E(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=yt(vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(c(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),c(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=C(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=E(i.value,2),s=u[0],c=u[1];r===this.normalizeInstanceIdentifier(s)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===gn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn;return this.component?this.component.multipleInstances?e:gn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var bn,wn,xn=function(){function e(t){l(this,e),this.name=t,this.providers=new Map}return p(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new kn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),_n=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(wn||(wn={}));var In={debug:wn.DEBUG,verbose:wn.VERBOSE,info:wn.INFO,warn:wn.WARN,error:wn.ERROR,silent:wn.SILENT},Sn=wn.INFO,En=(Pt(bn={},wn.DEBUG,"log"),Pt(bn,wn.VERBOSE,"log"),Pt(bn,wn.INFO,"info"),Pt(bn,wn.WARN,"warn"),Pt(bn,wn.ERROR,"error"),bn),Tn=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=En[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Cn=function(){function e(t){l(this,e),this.name=t,this._logLevel=Sn,this._logHandler=Tn,this._userLogHandler=null,_n.push(this)}return p(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in wn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?In[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wn.DEBUG].concat(t)),this._logHandler.apply(this,[this,wn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,wn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wn.INFO].concat(t)),this._logHandler.apply(this,[this,wn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wn.WARN].concat(t)),this._logHandler.apply(this,[this,wn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wn.ERROR].concat(t)),this._logHandler.apply(this,[this,wn.ERROR].concat(t))}}]),e}();function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){Pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dn,Rn,Pn=function(e,t){return t.some((function(t){return e instanceof t}))};var On=new WeakMap,Ln=new WeakMap,Fn=new WeakMap,Mn=new WeakMap,Un=new WeakMap;var jn={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ln.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Fn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Vn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Rn||(Rn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(qn(this),n),zn(On.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return zn(e.apply(qn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[qn(this),t].concat(r));return Fn.set(a,t.sort?t.sort():[t]),zn(a)}}function Bn(e){return"function"===typeof e?Vn(e):(e instanceof IDBTransaction&&function(e){if(!Ln.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ln.set(e,t)}}(e),Pn(e,Dn||(Dn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,jn):e)}function zn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(zn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&On.set(t,e)})).catch((function(){})),Un.set(t,e),t}(e);if(Mn.has(e))return Mn.get(e);var t=Bn(e);return t!==e&&(Mn.set(e,t),Un.set(t,e)),t}var qn=function(e){return Un.get(e)};var Kn,Gn,Hn=["get","getKey","getAll","getAllKeys","count"],Wn=["put","add","delete","clear"],Qn=new Map;function Yn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Qn.get(t))return Qn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Wn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Hn.includes(n))){var a=function(){var e=yt(vt().mark((function e(t){var a,o,u,s,c,l,f=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Qn.set(t,a),a}}}jn=function(e){return Nn(Nn({},e),{},{get:function(t,n,r){return Yn(t,n)||e.get(t,n,r)},has:function(t,n){return!!Yn(t,n)||e.has(t,n)}})}(jn);var Jn=function(){function e(t){l(this,e),this.container=t}return p(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Xn="@firebase/app",$n="0.10.1",Zn=new Cn("@firebase/app"),er="[DEFAULT]",tr=(Pt(Kn={},Xn,"fire-core"),Pt(Kn,"@firebase/app-compat","fire-core-compat"),Pt(Kn,"@firebase/analytics","fire-analytics"),Pt(Kn,"@firebase/analytics-compat","fire-analytics-compat"),Pt(Kn,"@firebase/app-check","fire-app-check"),Pt(Kn,"@firebase/app-check-compat","fire-app-check-compat"),Pt(Kn,"@firebase/auth","fire-auth"),Pt(Kn,"@firebase/auth-compat","fire-auth-compat"),Pt(Kn,"@firebase/database","fire-rtdb"),Pt(Kn,"@firebase/database-compat","fire-rtdb-compat"),Pt(Kn,"@firebase/functions","fire-fn"),Pt(Kn,"@firebase/functions-compat","fire-fn-compat"),Pt(Kn,"@firebase/installations","fire-iid"),Pt(Kn,"@firebase/installations-compat","fire-iid-compat"),Pt(Kn,"@firebase/messaging","fire-fcm"),Pt(Kn,"@firebase/messaging-compat","fire-fcm-compat"),Pt(Kn,"@firebase/performance","fire-perf"),Pt(Kn,"@firebase/performance-compat","fire-perf-compat"),Pt(Kn,"@firebase/remote-config","fire-rc"),Pt(Kn,"@firebase/remote-config-compat","fire-rc-compat"),Pt(Kn,"@firebase/storage","fire-gcs"),Pt(Kn,"@firebase/storage-compat","fire-gcs-compat"),Pt(Kn,"@firebase/firestore","fire-fst"),Pt(Kn,"@firebase/firestore-compat","fire-fst-compat"),Pt(Kn,"fire-js","fire-js"),Pt(Kn,"firebase","fire-js-all"),Kn),nr=new Map,rr=new Map,ir=new Map;function ar(e,t){try{e.container.addComponent(t)}catch(n){Zn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function or(e,t){e.container.addOrOverwriteComponent(t)}function ur(e){var t=e.name;if(ir.has(t))return Zn.debug("There were multiple attempts to register component ".concat(t,".")),!1;ir.set(t,e);var n,r=C(nr.values());try{for(r.s();!(n=r.n()).done;){ar(n.value,e)}}catch(o){r.e(o)}finally{r.f()}var i,a=C(rr.values());try{for(a.s();!(i=a.n()).done;){ar(i.value,e)}}catch(o){a.e(o)}finally{a.f()}return!0}function sr(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function cr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:er;sr(e,t).clearInstance(n)}function lr(e){return void 0!==e.options}function fr(e){return void 0!==e.settings}function hr(){ir.clear()}var dr=(Pt(Gn={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),Pt(Gn,"bad-app-name","Illegal App name: '{$appName}'"),Pt(Gn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Pt(Gn,"app-deleted","Firebase App named '{$appName}' already deleted"),Pt(Gn,"server-app-deleted","Firebase Server App has been deleted"),Pt(Gn,"no-options","Need to provide options, when not being deployed to hosting via source."),Pt(Gn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Pt(Gn,"invalid-log-argument","First argument to `onLog` must be null or a function."),Pt(Gn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Pt(Gn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Pt(Gn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Pt(Gn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Pt(Gn,"finalization-registry-not-supported","FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry."),Pt(Gn,"invalid-server-app-environment","FirebaseServerApp is not for use in browser environments."),Gn),pr=new rn("app","Firebase",dr),vr=function(){function e(t,n,r){var i=this;l(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yn("app",(function(){return i}),"PUBLIC"))}return p(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}]),e}(),mr=function(e){m(n,e);var t=w(n);function n(e,r,i,a){var o;l(this,n);var u=void 0!==r.automaticDataCollectionEnabled&&r.automaticDataCollectionEnabled,s={name:i,automaticDataCollectionEnabled:u};if(void 0!==e.apiKey)o=t.call(this,e,s,a);else{var c=e;o=t.call(this,c.options,s,a)}return o._serverConfig=Object.assign({automaticDataCollectionEnabled:u},r),o._finalizationRegistry=new FinalizationRegistry((function(){o.automaticCleanup()})),o._refCount=0,o.incRefCount(o._serverConfig.releaseOnDeref),o._serverConfig.releaseOnDeref=void 0,r.releaseOnDeref=void 0,Ir(Xn,$n,"serverapp"),b(o)}return p(n,[{key:"toJSON",value:function(){}},{key:"refCount",get:function(){return this._refCount}},{key:"incRefCount",value:function(e){this.isDeleted||(this._refCount++,void 0!==e&&this._finalizationRegistry.register(e,this))}},{key:"decRefCount",value:function(){return this.isDeleted?0:--this._refCount}},{key:"automaticCleanup",value:function(){xr(this)}},{key:"settings",get:function(){return this.checkDestroyed(),this._serverConfig}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw pr.create("server-app-deleted")}}]),n}(vr),yr="10.11.0";function gr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:er,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw pr.create("bad-app-name",{appName:String(i)});if(n||(n=Kt()),!n)throw pr.create("no-options");var a=nr.get(i);if(a){if(sn(n,a.options)&&sn(r,a.config))return a;throw pr.create("duplicate-app",{appName:i})}var o,u=new xn(i),s=C(ir.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new vr(n,r,u);return nr.set(i,l),l}function kr(e,t){if(Jt())throw pr.create("invalid-server-app-environment");var n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=lr(e)?e.options:e;var r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw pr.create("finalization-registry-not-supported",{});var i=""+c(JSON.stringify(r)).reduce((function(e,t){return Math.imul(31,e)+t.charCodeAt(0)|0}),0),a=rr.get(i);if(a)return a.incRefCount(t.releaseOnDeref),a;var o,u=new xn(i),s=C(ir.values());try{for(s.s();!(o=s.n()).done;){var l=o.value;u.addComponent(l)}}catch(h){s.e(h)}finally{s.f()}var f=new mr(n,t,i,u);return rr.set(i,f),f}function br(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er,t=nr.get(e);if(!t&&e===er&&Kt())return gr();if(!t)throw pr.create("no-app",{appName:e});return t}function wr(){return Array.from(nr.values())}function xr(e){return _r.apply(this,arguments)}function _r(){return(_r=yt(vt().mark((function e(t){var n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,r=t.name,nr.has(r)?(n=!0,nr.delete(r)):rr.has(r)&&t.decRefCount()<=0&&(rr.delete(r),n=!0),!n){e.next=7;break}return e.next=6,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 6:t.isDeleted=!0;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ir(e,t,n){var r,i=null!==(r=tr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Zn.warn(u.join(" "))}ur(new yn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Sr(e,t){if(null!==e&&"function"!==typeof e)throw pr.create("invalid-log-argument");!function(e,t){var n,r=C(_n);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=In[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:wn[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Er(e){var t;t=e,_n.forEach((function(e){e.setLogLevel(t)}))}var Tr="firebase-heartbeat-database",Cr=1,Ar="firebase-heartbeat-store",Nr=null;function Dr(){return Nr||(Nr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=zn(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(zn(u.result),e.oldVersion,e.newVersion,zn(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(Tr,Cr,{upgrade:function(e,t){if(0===t)try{e.createObjectStore(Ar)}catch(n){console.warn(n)}}}).catch((function(e){throw pr.create("idb-open",{originalErrorMessage:e.message})}))),Nr}function Rr(e){return Pr.apply(this,arguments)}function Pr(){return Pr=yt(vt().mark((function e(t){var n,r,i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dr();case 3:return n=e.sent,r=n.transaction(Ar),e.next=7,r.objectStore(Ar).get(Fr(t));case 7:return i=e.sent,e.next=10,r.done;case 10:return e.abrupt("return",i);case 13:e.prev=13,e.t0=e.catch(0),e.t0 instanceof nn?Zn.warn(e.t0.message):(a=pr.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Zn.warn(a.message));case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),Pr.apply(this,arguments)}function Or(e,t){return Lr.apply(this,arguments)}function Lr(){return Lr=yt(vt().mark((function e(t,n){var r,i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dr();case 3:return r=e.sent,i=r.transaction(Ar,"readwrite"),a=i.objectStore(Ar),e.next=8,a.put(n,Fr(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof nn?Zn.warn(e.t0.message):(o=pr.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Zn.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Lr.apply(this,arguments)}function Fr(e){return"".concat(e.name,"!").concat(e.options.appId)}var Mr=function(){function e(t){var n=this;l(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Br(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return p(e,[{key:"triggerHeartbeat",value:function(){var e=yt(vt().mark((function e(){var t,n,r,i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.container.getProvider("platform-logger").getImmediate(),i=r.getPlatformInfoString(),a=Ur(),null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)){e.next=9;break}return e.next=6,this._heartbeatsCachePromise;case 6:if(this._heartbeatsCache=e.sent,null!=(null===(n=this._heartbeatsCache)||void 0===n?void 0:n.heartbeats)){e.next=9;break}return e.abrupt("return");case 9:if(this._heartbeatsCache.lastSentHeartbeatDate!==a&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===a}))){e.next=13;break}return e.abrupt("return");case 13:this._heartbeatsCache.heartbeats.push({date:a,agent:i});case 14:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=yt(vt().mark((function e(){var t,n,r,i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(n=Ur(),r=jr(this._heartbeatsCache.heartbeats),i=r.heartbeatsToSend,a=r.unsentEntries,o=Mt(JSON.stringify({version:2,heartbeats:i})),this._heartbeatsCache.lastSentHeartbeatDate=n,!(a.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=a,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ur(){return(new Date).toISOString().substring(0,10)}function jr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=C(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),zr(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),zr(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Vr,Br=function(){function e(t){l(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return p(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tn()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=yt(vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Rr(this.app);case 9:if(!(null===(t=e.sent)||void 0===t?void 0:t.heartbeats)){e.next=14;break}return e.abrupt("return",t);case 14:return e.abrupt("return",{heartbeats:[]});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=yt(vt().mark((function e(t){var n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Or(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=yt(vt().mark((function e(t){var n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Or(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(c(r.heartbeats),c(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function zr(e){return Mt(JSON.stringify({version:2,heartbeats:e})).length}Vr="",ur(new yn("platform-logger",(function(e){return new Jn(e)}),"PRIVATE")),ur(new yn("heartbeat",(function(e){return new Mr(e)}),"PRIVATE")),Ir(Xn,$n,Vr),Ir(Xn,$n,"esm2017"),Ir("fire-js","");function qr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var Kr,Gr={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Hr="EMAIL_SIGNIN",Wr="PASSWORD_RESET",Qr="RECOVER_EMAIL",Yr="REVERT_SECOND_FACTOR_ADDITION",Jr="VERIFY_AND_CHANGE_EMAIL",Xr="VERIFY_EMAIL";function $r(){return Pt({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Zr=function(){var e;return Pt(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Pt(e,"argument-error",""),Pt(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Pt(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Pt(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Pt(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Pt(e,"cordova-not-ready","Cordova framework is not ready."),Pt(e,"cors-unsupported","This browser is not supported."),Pt(e,"credential-already-in-use","This credential is already associated with a different user account."),Pt(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Pt(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Pt(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Pt(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Pt(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Pt(e,"email-already-in-use","The email address is already in use by another account."),Pt(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Pt(e,"expired-action-code","The action code has expired."),Pt(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Pt(e,"internal-error","An internal AuthError has occurred."),Pt(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Pt(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Pt(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Pt(e,"invalid-auth-event","An internal AuthError has occurred."),Pt(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Pt(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Pt(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Pt(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Pt(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Pt(e,"invalid-email","The email address is badly formatted."),Pt(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Pt(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Pt(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Pt(e,"invalid-credential","The supplied auth credential is incorrect, malformed or has expired."),Pt(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Pt(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Pt(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Pt(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Pt(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Pt(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Pt(e,"wrong-password","The password is invalid or the user does not have a password."),Pt(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Pt(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Pt(e,"invalid-provider-id","The specified provider ID is invalid."),Pt(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Pt(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Pt(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Pt(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Pt(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Pt(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Pt(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Pt(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Pt(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Pt(e,"missing-continue-uri","A continue URL must be provided in the request."),Pt(e,"missing-iframe-start","An internal AuthError has occurred."),Pt(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Pt(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Pt(e,"missing-password","A non-empty password must be provided"),Pt(e,"missing-multi-factor-info","No second factor identifier is provided."),Pt(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Pt(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Pt(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Pt(e,"app-deleted","This instance of FirebaseApp has been deleted."),Pt(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Pt(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Pt(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Pt(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Pt(e,"no-auth-event","An internal AuthError has occurred."),Pt(e,"no-such-provider","User was not linked to an account with the given provider."),Pt(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Pt(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Pt(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Pt(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Pt(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Pt(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Pt(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Pt(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Pt(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Pt(e,"rejected-credential","The request contains malformed or mismatching credentials."),Pt(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Pt(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Pt(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Pt(e,"timeout","The operation has timed out."),Pt(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Pt(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Pt(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Pt(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Pt(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Pt(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Pt(e,"unverified-email","The operation requires a verified email."),Pt(e,"user-cancelled","The user did not grant your application the permissions it requested."),Pt(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Pt(e,"user-disabled","The user account has been disabled by an administrator."),Pt(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Pt(e,"user-signed-out",""),Pt(e,"weak-password","The password must be 6 characters long or more."),Pt(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Pt(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),Pt(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),Pt(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),Pt(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),Pt(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),Pt(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),Pt(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),Pt(e,"invalid-req-type","Invalid request parameters."),Pt(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),Pt(e,"unsupported-password-policy-schema-version","The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK."),Pt(e,"password-does-not-meet-requirements","The password does not meet the requirements."),e},ei=$r,ti=new rn("auth","Firebase",$r()),ni=new Cn("@firebase/auth");function ri(e){if(ni.logLevel<=wn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ni.warn.apply(ni,["Auth (".concat(yr,"): ").concat(e)].concat(n))}}function ii(e){if(ni.logLevel<=wn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ni.error.apply(ni,["Auth (".concat(yr,"): ").concat(e)].concat(n))}}function ai(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw li.apply(void 0,[e].concat(n))}function oi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return li.apply(void 0,[e].concat(n))}function ui(e,t,n){var r=Object.assign(Object.assign({},ei()),Pt({},t,n));return new rn("auth","Firebase",r).create(t,{appName:e.name})}function si(e){return ui(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ci(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ai(e,"argument-error"),ui(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function li(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=c(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(c(o)))}return ti.create.apply(ti,[e].concat(n))}function fi(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw li.apply(void 0,[t].concat(r))}}function hi(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ii(t),new Error(t)}function di(e,t){e||hi(t)}function pi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function vi(){return"http:"===mi()||"https:"===mi()}function mi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var yi=function(){function e(t,n){l(this,e),this.shortDelay=t,this.longDelay=n,di(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())||$t()}return p(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(vi()||Xt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function gi(e,t){di(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ki=function(){function e(){l(this,e)}return p(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}))},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),bi=(Pt(Kr={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Pt(Kr,"MISSING_CUSTOM_TOKEN","internal-error"),Pt(Kr,"INVALID_IDENTIFIER","invalid-email"),Pt(Kr,"MISSING_CONTINUE_URI","internal-error"),Pt(Kr,"INVALID_PASSWORD","wrong-password"),Pt(Kr,"MISSING_PASSWORD","missing-password"),Pt(Kr,"INVALID_LOGIN_CREDENTIALS","invalid-credential"),Pt(Kr,"EMAIL_EXISTS","email-already-in-use"),Pt(Kr,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Pt(Kr,"INVALID_IDP_RESPONSE","invalid-credential"),Pt(Kr,"INVALID_PENDING_TOKEN","invalid-credential"),Pt(Kr,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Pt(Kr,"MISSING_REQ_TYPE","internal-error"),Pt(Kr,"EMAIL_NOT_FOUND","user-not-found"),Pt(Kr,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Pt(Kr,"EXPIRED_OOB_CODE","expired-action-code"),Pt(Kr,"INVALID_OOB_CODE","invalid-action-code"),Pt(Kr,"MISSING_OOB_CODE","internal-error"),Pt(Kr,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Pt(Kr,"INVALID_ID_TOKEN","invalid-user-token"),Pt(Kr,"TOKEN_EXPIRED","user-token-expired"),Pt(Kr,"USER_NOT_FOUND","user-token-expired"),Pt(Kr,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Pt(Kr,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),Pt(Kr,"INVALID_CODE","invalid-verification-code"),Pt(Kr,"INVALID_SESSION_INFO","invalid-verification-id"),Pt(Kr,"INVALID_TEMPORARY_PROOF","invalid-credential"),Pt(Kr,"MISSING_SESSION_INFO","missing-verification-id"),Pt(Kr,"SESSION_EXPIRED","code-expired"),Pt(Kr,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Pt(Kr,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Pt(Kr,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Pt(Kr,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Pt(Kr,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Pt(Kr,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Pt(Kr,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Pt(Kr,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Pt(Kr,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Pt(Kr,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Pt(Kr,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Pt(Kr,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),Pt(Kr,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),Pt(Kr,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),Pt(Kr,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),Pt(Kr,"MISSING_CLIENT_TYPE","missing-client-type"),Pt(Kr,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),Pt(Kr,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),Pt(Kr,"INVALID_REQ_TYPE","invalid-req-type"),Kr),wi=new yi(3e4,6e4);function xi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function _i(e,t,n,r){return Ii.apply(this,arguments)}function Ii(){return Ii=yt(vt().mark((function e(t,n,r,i){var a,o=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Si(t,a,yt(vt().mark((function e(){var a,o,u,s;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=ln(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ki.fetch()(Ai(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Ii.apply(this,arguments)}function Si(e,t,n){return Ei.apply(this,arguments)}function Ei(){return Ei=yt(vt().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},bi),n),e.prev=2,a=new Di(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Ri(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=E(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Ri(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Ri(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Ri(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw ui(t,d,h);case 34:ai(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof nn)){e.next=41;break}throw e.t0;case 41:ai(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Ei.apply(this,arguments)}function Ti(e,t,n,r){return Ci.apply(this,arguments)}function Ci(){return Ci=yt(vt().mark((function e(t,n,r,i){var a,o,u=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,_i(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&ai(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Ci.apply(this,arguments)}function Ai(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?gi(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Ni(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Di=function(){function e(t){var n=this;l(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(oi(n.auth,"network-request-failed"))}),wi.get())}))}return p(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Ri(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=oi(e,t,r);return i.customData._tokenResponse=n,i}function Pi(e){return void 0!==e&&void 0!==e.getResponse}function Oi(e){return void 0!==e&&void 0!==e.enterprise}var Li=function(){function e(t){if(l(this,e),this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}return p(e,[{key:"getProviderEnforcementState",value:function(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;var t,n=C(this.recaptchaEnforcementState);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.provider&&r.provider===e)return Ni(r.enforcementState)}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"isProviderEnabled",value:function(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}]),e}();function Fi(e){return Mi.apply(this,arguments)}function Mi(){return(Mi=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_i(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ui(e,t){return ji.apply(this,arguments)}function ji(){return(ji=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_i(t,"GET","/v2/recaptchaConfig",xi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vi(e,t){return Bi.apply(this,arguments)}function Bi(){return(Bi=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_i(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zi(e,t){return qi.apply(this,arguments)}function qi(){return(qi=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_i(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ki(e,t){return Gi.apply(this,arguments)}function Gi(){return(Gi=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_i(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hi(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Wi(){return Wi=yt(vt().mark((function e(t){var n,r,i,a,o,u,s=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=mn(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,fi((a=Yi(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Hi(Qi(a.auth_time)),issuedAtTime:Hi(Qi(a.iat)),expirationTime:Hi(Qi(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Wi.apply(this,arguments)}function Qi(e){return 1e3*Number(e)}function Yi(e){var t=E(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return ii("JWT malformed, contained fewer than 3 sections"),null;try{var a=Ut(r);return a?JSON.parse(a):(ii("Failed to decode base64 JWT payload"),null)}catch(o){return ii("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Ji(e){var t=Yi(e);return fi(t,"internal-error"),fi("undefined"!==typeof t.exp,"internal-error"),fi("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}function Xi(e,t){return $i.apply(this,arguments)}function $i(){return $i=yt(vt().mark((function e(t,n){var r=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof nn&&Zi(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),$i.apply(this,arguments)}function Zi(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ea=function(){function e(t){l(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return p(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(yt(vt().mark((function t(){return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ta=function(){function e(t,n){l(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return p(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Hi(this.lastLoginAt),this.creationTime=Hi(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function na(e){return ra.apply(this,arguments)}function ra(){return(ra=yt(vt().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Xi(t,Ki(r,{idToken:i}));case 6:fi(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?oa(o.providerUserInfo):[],s=aa(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new ta(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ia(){return(ia=yt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mn(t),e.next=3,na(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aa(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(c(n),c(t))}function oa(e){return e.map((function(e){var t=e.providerId,n=qr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function ua(e,t){return sa.apply(this,arguments)}function sa(){return(sa=yt(vt().mark((function e(t,n){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Si(t,{},yt(vt().mark((function e(){var r,i,a,o,u,s;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ln({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ai(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ki.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ca(e,t){return la.apply(this,arguments)}function la(){return(la=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_i(t,"POST","/v2/accounts:revokeToken",xi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fa=function(){function e(){l(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return p(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){fi(e.idToken,"internal-error"),fi("undefined"!==typeof e.idToken,"internal-error"),fi("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Ji(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"updateFromIdToken",value:function(e){fi(0!==e.length,"internal-error");var t=Ji(e);this.updateTokensAndExpiration(e,null,t)}},{key:"getToken",value:function(){var e=yt(vt().mark((function e(t){var n=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length>1&&void 0!==n[1]&&n[1]||!this.accessToken||this.isExpired){e.next=3;break}return e.abrupt("return",this.accessToken);case 3:if(fi(this.refreshToken,t,"user-token-expired"),!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=yt(vt().mark((function e(t,n){var r,i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ua(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return hi("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(fi("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(fi("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(fi("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function ha(e,t){fi("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var da=function(){function e(t){l(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=qr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ea(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?c(a.providerData):[],this.metadata=new ta(a.createdAt||void 0,a.lastLoginAt||void 0)}return p(e,[{key:"getIdToken",value:function(){var e=yt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xi(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(fi(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Wi.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ia.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(fi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){fi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=yt(vt().mark((function e(t){var n,r,i=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,na(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=yt(vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fr(this.auth.app)){e.next=2;break}return e.abrupt("return",Promise.reject(si(this.auth)));case 2:return e.next=4,this.getIdToken();case 4:return t=e.sent,e.next=7,Xi(this,Vi(this.auth,{idToken:t}));case 7:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;fi(k&&_,t,"internal-error");var I=fa.fromJSON(this.name,_);fi("string"===typeof k,t,"internal-error"),ha(f,t.name),ha(h,t.name),fi("boolean"===typeof b,t,"internal-error"),fi("boolean"===typeof w,t,"internal-error"),ha(d,t.name),ha(p,t.name),ha(v,t.name),ha(m,t.name),ha(y,t.name),ha(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=yt(vt().mark((function t(n,r){var i,a,o,u=arguments;return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new fa).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,na(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"_fromGetAccountInfoResponse",value:function(){var t=yt(vt().mark((function t(n,r,i){var a,o,u,s,c,l;return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return fi(void 0!==(a=r.users[0]).localId,"internal-error"),o=void 0!==a.providerUserInfo?oa(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(null===o||void 0===o?void 0:o.length),(s=new fa).updateFromIdToken(i),c=new e({uid:a.localId,auth:n,stsTokenManager:s,isAnonymous:u}),l={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new ta(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(null===o||void 0===o?void 0:o.length)},Object.assign(c,l),t.abrupt("return",c);case 10:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}(),pa=new Map;function va(e){di(e instanceof Function,"Expected a class definition");var t=pa.get(e);return t?(di(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,pa.set(e,t),t)}var ma=function(){function e(){l(this,e),this.type="NONE",this.storage={}}return p(e,[{key:"_isAvailable",value:function(){var e=yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=yt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ma.type="NONE";var ya=ma;function ga(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var ka=function(){function e(t,n,r){l(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=ga(this.userKey,a.apiKey,o),this.fullPersistenceKey=ga("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return p(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=yt(vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?da._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=yt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=yt(vt().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(va(ya),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||va(ya),u=ga(i,n.config.apiKey,n.name),s=null,c=C(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=da._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function ba(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ia(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(wa(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ea(t))return"Blackberry";if(Ta(t))return"Webos";if(xa(t))return"Safari";if((t.includes("chrome/")||_a(t))&&!t.includes("edge/"))return"Chrome";if(Sa(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function wa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return/firefox\//i.test(e)}function xa(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return/crios\//i.test(e)}function Ia(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return/iemobile/i.test(e)}function Sa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return/android/i.test(e)}function Ea(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return/blackberry/i.test(e)}function Ta(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return/webos/i.test(e)}function Ca(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Aa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return Ca(e)||Sa(e)||Ta(e)||Ea(e)||/windows phone/i.test(e)||Ia(e)}function Na(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ba(Qt());break;case"Worker":t="".concat(ba(Qt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(yr,"/").concat(r)}var Da=function(){function e(t){l(this,e),this.auth=t,this.queue=[]}return p(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=yt(vt().mark((function e(t){var n,r,i,a,o,u,s;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=C(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=C(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ra(e){return Pa.apply(this,arguments)}function Pa(){return Pa=yt(vt().mark((function e(t){var n,r=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",_i(t,"GET","/v2/passwordPolicy",xi(t,n)));case 2:case"end":return e.stop()}}),e)}))),Pa.apply(this,arguments)}var Oa=function(){function e(t){var n,r,i,a;l(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return p(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(t=u.meetsMinPasswordLength)||void 0===t||t),u.isValid&&(u.isValid=null===(n=u.meetsMaxPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.containsLowercaseLetter)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsUppercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(a=u.containsNumericCharacter)||void 0===a||a),u.isValid&&(u.isValid=null===(o=u.containsNonAlphanumericCharacter)||void 0===o||o),u}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),La=function(){function e(t,n,r,i){l(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ma(this),this.idTokenSubscription=new Ma(this),this.beforeStateQueue=new Da(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ti,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return p(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=va(t)),this._initializationPromise=this.queue(yt(vt().mark((function r(){var i,a;return vt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,ka.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=yt(vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUserFromIdToken",value:function(){var e=yt(vt().mark((function e(t){var n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ki(this,{idToken:t});case 3:return n=e.sent,e.next=6,da._fromGetAccountInfoResponse(this,n,t);case 6:return r=e.sent,e.next=9,this.directlySetCurrentUser(r);case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(0),console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e.t0),e.next=16,this.directlySetCurrentUser(null);case 16:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=yt(vt().mark((function e(t){var n,r,i,a,o,u,s,c,l=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fr(this.app)){e.next=7;break}if(!(r=this.app.settings.authIdToken)){e.next=6;break}return e.abrupt("return",new Promise((function(e){setTimeout((function(){return l.initializeCurrentUserFromIdToken(r).then(e,e)}))})));case 6:return e.abrupt("return",this.directlySetCurrentUser(null));case 7:return e.next=9,this.assertedPersistence.getCurrentUser();case 9:if(i=e.sent,a=i,o=!1,!t||!this.config.authDomain){e.next=21;break}return e.next=15,this.getOrInitRedirectPersistenceManager();case 15:return u=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===a||void 0===a?void 0:a._redirectEventId,e.next=19,this.tryRedirectSignIn(t);case 19:c=e.sent,u&&u!==s||!(null===c||void 0===c?void 0:c.user)||(a=c.user,o=!0);case 21:if(a){e.next=23;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 23:if(a._redirectEventId){e.next=39;break}if(!o){e.next=34;break}return e.prev=25,e.next=28,this.beforeStateQueue.runMiddleware(a);case 28:e.next=34;break;case 30:e.prev=30,e.t0=e.catch(25),a=i,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 34:if(!a){e.next=38;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 38:return e.abrupt("return",this.directlySetCurrentUser(null));case 39:return fi(this._popupRedirectResolver,this,"argument-error"),e.next=42,this.getOrInitRedirectPersistenceManager();case 42:if(!this.redirectUser||this.redirectUser._redirectEventId!==a._redirectEventId){e.next=44;break}return e.abrupt("return",this.directlySetCurrentUser(a));case 44:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 45:case"end":return e.stop()}}),e,this,[[25,30]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=yt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,na(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=yt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fr(this.app)){e.next=2;break}return e.abrupt("return",Promise.reject(si(this)));case 2:return(n=t?mn(t):null)&&fi(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=yt(vt().mark((function e(t){var n,r=this,i=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&fi(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fr(this.app)){e.next=2;break}return e.abrupt("return",Promise.reject(si(this)));case 2:return e.next=4,this.beforeStateQueue.runMiddleware(null);case 4:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=7;break}return e.next=7,this._setRedirectUser(null);case 7:return e.abrupt("return",this._updateCurrentUser(null,!0));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return fr(this.app)?Promise.reject(si(this)):this.queue(yt(vt().mark((function n(){return vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(va(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(){var e=yt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var e=yt(vt().mark((function e(){var t,n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ra(this);case 2:t=e.sent,n=new Oa(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new rn("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"revokeAccessToken",value:function(){var e=yt(vt().mark((function e(t){var n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.currentUser){e.next=8;break}return e.next=3,this.currentUser.getIdToken();case 3:return n=e.sent,r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n},null!=this.tenantId&&(r.tenantId=this.tenantId),e.next=8,ca(this,r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=yt(vt().mark((function e(t,n){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=yt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return fi(n=t&&va(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,ka.create(this,[va(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=yt(vt().mark((function e(t){var n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=yt(vt().mark((function e(t){var n=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,u=this._isInitialized?Promise.resolve():this._initializationPromise;if(fi(u,this,"internal-error"),u.then((function(){o||a(i.currentUser)})),"function"===typeof t){var s=e.addObserver(t,n,r);return function(){o=!0,s()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return fi(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Na(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=yt(vt().mark((function e(){var t,n,r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pt({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=yt(vt().mark((function e(){var t,n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&ri("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Fa(e){return mn(e)}var Ma=function(){function e(t){var n=this;l(this,e),this.auth=t,this.observer=null,this.addObserver=dn((function(e){return n.observer=e}))}return p(e,[{key:"next",get:function(){return fi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}(),Ua={loadJS:function(){return yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Unable to load external scripts");case 1:case"end":return e.stop()}}),e)})))()},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ja(e){return Ua.loadJS(e)}function Va(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Ba=function(){function e(t){l(this,e),this.type="recaptcha-enterprise",this.auth=Fa(t)}return p(e,[{key:"verify",value:function(){var e=yt(vt().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Oi(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=yt(vt().mark((function e(n,r){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ui(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Li(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Oi(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));var i=Ua.recaptchaEnterpriseScript;0!==i.length&&(i+=r),ja(i).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function za(e,t,n){return qa.apply(this,arguments)}function qa(){return qa=yt(vt().mark((function e(t,n,r){var i,a,o,u,s=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new Ba(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),qa.apply(this,arguments)}function Ka(e,t,n,r){return Ga.apply(this,arguments)}function Ga(){return Ga=yt(vt().mark((function e(t,n,r,i){var a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(a=t._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))){e.next=7;break}return e.next=3,za(t,n,r,"getOobCode"===r);case 3:return o=e.sent,e.abrupt("return",i(t,o));case 7:return e.abrupt("return",i(t,n).catch(function(){var e=yt(vt().mark((function e(a){var o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("".concat(r," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.")),e.next=4,za(t,n,r,"getOobCode"===r);case 4:return o=e.sent,e.abrupt("return",i(t,o));case 8:return e.abrupt("return",Promise.reject(a));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:case"end":return e.stop()}}),e)}))),Ga.apply(this,arguments)}function Ha(e,t,n){var r=Fa(e);fi(r._canInitEmulator,r,"emulator-config-failed"),fi(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Wa(t),o=function(e){var t=Wa(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Qa(r.substr(a.length+1))}}var o=E(r.split(":"),2);return{host:o[0],port:Qa(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Wa(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Qa(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ya=function(){function e(t,n){l(this,e),this.providerId=t,this.signInMethod=n}return p(e,[{key:"toJSON",value:function(){return hi("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return hi("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return hi("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return hi("not implemented")}}]),e}();function Ja(e,t){return Xa.apply(this,arguments)}function Xa(){return(Xa=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_i(t,"POST","/v1/accounts:resetPassword",xi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $a(e,t){return Za.apply(this,arguments)}function Za(){return(Za=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_i(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eo(e,t){return to.apply(this,arguments)}function to(){return(to=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_i(t,"POST","/v1/accounts:signUp",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function no(e,t){return ro.apply(this,arguments)}function ro(){return(ro=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_i(t,"POST","/v1/accounts:update",xi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function io(e,t){return ao.apply(this,arguments)}function ao(){return(ao=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ti(t,"POST","/v1/accounts:signInWithPassword",xi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oo(e,t){return uo.apply(this,arguments)}function uo(){return(uo=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_i(t,"POST","/v1/accounts:sendOobCode",xi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function so(e,t){return co.apply(this,arguments)}function co(){return(co=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oo(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lo(e,t){return fo.apply(this,arguments)}function fo(){return(fo=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oo(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ho(e,t){return po.apply(this,arguments)}function po(){return(po=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oo(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vo(e,t){return mo.apply(this,arguments)}function mo(){return(mo=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oo(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yo(e,t){return go.apply(this,arguments)}function go(){return(go=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ti(t,"POST","/v1/accounts:signInWithEmailLink",xi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ko(e,t){return bo.apply(this,arguments)}function bo(){return(bo=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ti(t,"POST","/v1/accounts:signInWithEmailLink",xi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wo=function(e){m(n,e);var t=w(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return l(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return p(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=yt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?5:6;break;case 3:return n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},e.abrupt("return",Ka(t,n,"signInWithPassword",io));case 5:return e.abrupt("return",yo(t,{email:this._email,oobCode:this._password}));case 6:ai(t,"internal-error");case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=yt(vt().mark((function e(t,n){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?5:6;break;case 3:return r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},e.abrupt("return",Ka(t,r,"signUpPassword",eo));case 5:return e.abrupt("return",ko(t,{idToken:n,email:this._email,oobCode:this._password}));case 6:ai(t,"internal-error");case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ya);function xo(e,t){return _o.apply(this,arguments)}function _o(){return(_o=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ti(t,"POST","/v1/accounts:signInWithIdp",xi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Io=function(e){m(n,e);var t=w(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return p(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return xo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,xo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,xo(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ln(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ai("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=qr(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ya);function So(e,t){return Eo.apply(this,arguments)}function Eo(){return(Eo=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_i(t,"POST","/v1/accounts:sendVerificationCode",xi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function To(){return(To=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ti(t,"POST","/v1/accounts:signInWithPhoneNumber",xi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Co(){return(Co=yt(vt().mark((function e(t,n){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti(t,"POST","/v1/accounts:signInWithPhoneNumber",xi(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Ri(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ao=Pt({},"USER_NOT_FOUND","user-not-found");function No(){return(No=yt(vt().mark((function e(t,n){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Ti(t,"POST","/v1/accounts:signInWithPhoneNumber",xi(t,r),Ao));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Do=function(e){m(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone","phone")).params=e,r}return p(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return To.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Co.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return No.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ya);var Ro=function(){function e(t){var n,r,i,a,o,u;l(this,e);var s=fn(hn(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,f=null!==(r=s.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);fi(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return p(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=fn(hn(e)).link,n=t?fn(hn(t)).deep_link_id:null,r=fn(hn(e)).deep_link_id;return(r?fn(hn(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Po=function(){function e(){l(this,e),this.providerId=e.PROVIDER_ID}return p(e,null,[{key:"credential",value:function(e,t){return wo._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Ro.parseLink(t);return fi(n,"argument-error"),wo._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Po.PROVIDER_ID="password",Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Oo=function(){function e(t){l(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return p(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Lo=function(e){m(n,e);var t=w(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).scopes=[],e}return p(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return c(this.scopes)}}]),n}(Oo),Fo=function(e){m(n,e);var t=w(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return fi(e.idToken||e.accessToken,"argument-error"),Io._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return fi("providerId"in t&&"signInMethod"in t,"argument-error"),Io._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Lo),Mo=function(e){m(n,e);var t=w(n);function n(){return l(this,n),t.call(this,"facebook.com")}return p(n,null,[{key:"credential",value:function(e){return Io._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Lo);Mo.FACEBOOK_SIGN_IN_METHOD="facebook.com",Mo.PROVIDER_ID="facebook.com";var Uo=function(e){m(n,e);var t=w(n);function n(){var e;return l(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return p(n,null,[{key:"credential",value:function(e,t){return Io._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Lo);Uo.GOOGLE_SIGN_IN_METHOD="google.com",Uo.PROVIDER_ID="google.com";var jo=function(e){m(n,e);var t=w(n);function n(){return l(this,n),t.call(this,"github.com")}return p(n,null,[{key:"credential",value:function(e){return Io._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Lo);jo.GITHUB_SIGN_IN_METHOD="github.com",jo.PROVIDER_ID="github.com";var Vo=function(e){m(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return p(n,[{key:"_getIdTokenResponse",value:function(e){return xo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,xo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,xo(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ya),Bo=function(e){m(n,e);var t=w(n);function n(e){return l(this,n),fi(e.startsWith("saml."),"argument-error"),t.call(this,e)}return p(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Vo.fromJSON(e);return fi(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Vo._create(r,n)}catch(i){return null}}}]),n}(Oo),zo=function(e){m(n,e);var t=w(n);function n(){return l(this,n),t.call(this,"twitter.com")}return p(n,null,[{key:"credential",value:function(e,t){return Io._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Lo);function qo(e,t){return Ko.apply(this,arguments)}function Ko(){return(Ko=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ti(t,"POST","/v1/accounts:signUp",xi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}zo.TWITTER_SIGN_IN_METHOD="twitter.com",zo.PROVIDER_ID="twitter.com";var Go=function(){function e(t){l(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return p(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=yt(vt().mark((function t(n,r,i){var a,o,u,s,c=arguments;return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,da._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Ho(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=yt(vt().mark((function t(n,r,i){var a;return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ho(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ho(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Wo(){return(Wo=yt(vt().mark((function e(t){var n,r,i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fr(t.app)){e.next=2;break}return e.abrupt("return",Promise.reject(si(t)));case 2:return r=Fa(t),e.next=5,r._initializationPromise;case 5:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=7;break}return e.abrupt("return",new Go({user:r.currentUser,providerId:null,operationType:"signIn"}));case 7:return e.next=9,qo(r,{returnSecureToken:!0});case 9:return i=e.sent,e.next=12,Go._fromIdTokenResponse(r,"signIn",i,!0);case 12:return a=e.sent,e.next=15,r._updateCurrentUser(a.user);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qo=function(e){m(n,e);var t=w(n);function n(e,r,i,a){var o,u;return l(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(k(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return p(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(nn);function Yo(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Qo._fromErrorAndOperation(e,n,t,r);throw n}))}function Jo(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Xo(e,t){return $o.apply(this,arguments)}function $o(){return $o=yt(vt().mark((function e(t,n){var r,i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mn(t),e.next=3,tu(!0,r,n);case 3:return e.t0=zi,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Jo(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),$o.apply(this,arguments)}function Zo(e,t){return eu.apply(this,arguments)}function eu(){return eu=yt(vt().mark((function e(t,n){var r,i,a=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Xi,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Go._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}function tu(e,t,n){return nu.apply(this,arguments)}function nu(){return(nu=yt(vt().mark((function e(t,n,r){var i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,na(n);case 2:i=Jo(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",fi(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ru(e,t){return iu.apply(this,arguments)}function iu(){return iu=yt(vt().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]&&c[2],!fr((i=t.auth).app)){e.next=4;break}return e.abrupt("return",Promise.reject(si(i)));case 4:return a="reauthenticate",e.prev=5,e.next=8,Xi(t,Yo(i,a,n,t),r);case 8:return fi((o=e.sent).idToken,i,"internal-error"),fi(u=Yi(o.idToken),i,"internal-error"),s=u.sub,fi(t.uid===s,i,"user-mismatch"),e.abrupt("return",Go._forOperation(t,a,o));case 17:throw e.prev=17,e.t0=e.catch(5),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&ai(i,"user-mismatch"),e.t0;case 21:case"end":return e.stop()}}),e,null,[[5,17]])}))),iu.apply(this,arguments)}function au(e,t){return ou.apply(this,arguments)}function ou(){return ou=yt(vt().mark((function e(t,n){var r,i,a,o,u=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]&&u[2],!fr(t.app)){e.next=3;break}return e.abrupt("return",Promise.reject(si(t)));case 3:return i="signIn",e.next=6,Yo(t,i,n);case 6:return a=e.sent,e.next=9,Go._fromIdTokenResponse(t,i,a);case 9:if(o=e.sent,r){e.next=13;break}return e.next=13,t._updateCurrentUser(o.user);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)}))),ou.apply(this,arguments)}function uu(e,t){return su.apply(this,arguments)}function su(){return(su=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",au(Fa(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cu(e,t){return lu.apply(this,arguments)}function lu(){return(lu=yt(vt().mark((function e(t,n){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mn(t),e.next=3,tu(!1,r,n.providerId);case 3:return e.abrupt("return",Zo(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fu(e,t){return hu.apply(this,arguments)}function hu(){return(hu=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ru(mn(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function du(e,t){return pu.apply(this,arguments)}function pu(){return(pu=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ti(t,"POST","/v1/accounts:signInWithCustomToken",xi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vu(){return(vu=yt(vt().mark((function e(t,n){var r,i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fr(t.app)){e.next=2;break}return e.abrupt("return",Promise.reject(si(t)));case 2:return r=Fa(t),e.next=5,du(r,{token:n,returnSecureToken:!0});case 5:return i=e.sent,e.next=8,Go._fromIdTokenResponse(r,"signIn",i);case 8:return a=e.sent,e.next=11,r._updateCurrentUser(a.user);case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mu=function(){function e(t,n){l(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return p(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?yu._fromServerResponse(e,t):"totpInfo"in t?gu._fromServerResponse(e,t):ai(e,"internal-error")}}]),e}(),yu=function(e){m(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return p(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(mu),gu=function(e){m(n,e);var t=w(n);function n(e){return l(this,n),t.call(this,"totp",e)}return p(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(mu);function ku(e,t,n){var r;fi((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),fi("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(fi(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(fi(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function bu(e){return wu.apply(this,arguments)}function wu(){return(wu=yt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=Fa(t))._getPasswordPolicyInternal()){e.next=4;break}return e.next=4,n._updatePasswordPolicy();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xu(){return(xu=yt(vt().mark((function e(t,n,r){var i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fa(t),a={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},r&&ku(i,a,r),e.next=5,Ka(i,a,"getOobCode",lo);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _u(){return _u=yt(vt().mark((function e(t,n,r){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ja(mn(t),{oobCode:n,newPassword:r}).catch(function(){var e=yt(vt().mark((function e(n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&bu(t),n;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),_u.apply(this,arguments)}function Iu(){return(Iu=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,no(mn(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Su(e,t){return Eu.apply(this,arguments)}function Eu(){return(Eu=yt(vt().mark((function e(t,n){var r,i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mn(t),e.next=3,Ja(r,{oobCode:n});case 3:i=e.sent,fi(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return fi(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:fi(i.mfaInfo,r,"internal-error");case 13:fi(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=mu._fromServerResponse(Fa(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tu(){return(Tu=yt(vt().mark((function e(t,n){var r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Su(mn(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cu(e,t,n){return Au.apply(this,arguments)}function Au(){return(Au=yt(vt().mark((function e(t,n,r){var i,a,o,u;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fr(t.app)){e.next=2;break}return e.abrupt("return",Promise.reject(si(t)));case 2:return i=Fa(t),a=Ka(i,{returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qo),e.next=7,a.catch((function(e){throw e.code==="auth/".concat("password-does-not-meet-requirements")&&bu(t),e}));case 7:return o=e.sent,e.next=10,Go._fromIdTokenResponse(i,"signIn",o);case 10:return u=e.sent,e.next=13,i._updateCurrentUser(u.user);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nu(e,t,n){return fr(e.app)?Promise.reject(si(e)):uu(mn(e),Po.credential(t,n)).catch(function(){var t=yt(vt().mark((function t(n){return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&bu(e),n;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}function Du(){return(Du=yt(vt().mark((function e(t,n,r){var i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e,t){fi(t.handleCodeInApp,i,"argument-error"),t&&ku(i,e,t)},i=Fa(t),o(a={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},r),e.next=6,Ka(i,a,"getOobCode",ho);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ru(){return(Ru=yt(vt().mark((function e(t,n,r){var i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fr(t.app)){e.next=2;break}return e.abrupt("return",Promise.reject(si(t)));case 2:return i=mn(t),fi((a=Po.credentialWithLink(n,r||pi()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",uu(i,a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pu(e,t){return Ou.apply(this,arguments)}function Ou(){return(Ou=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_i(t,"POST","/v1/accounts:createAuthUri",xi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lu(){return(Lu=yt(vt().mark((function e(t,n){var r,i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vi()?pi():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Pu(mn(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fu(){return(Fu=yt(vt().mark((function e(t,n){var r,i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mn(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&ku(r.auth,a,n),e.next=8,so(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mu(){return(Mu=yt(vt().mark((function e(t,n,r){var i,a,o,u;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mn(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&ku(i.auth,o,r),e.next=8,vo(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uu(e,t){return ju.apply(this,arguments)}function ju(){return(ju=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_i(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vu(){return(Vu=yt(vt().mark((function e(t,n){var r,i,a,o,u,s,c;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=mn(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Xi(a,Uu(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bu(e,t,n){return zu.apply(this,arguments)}function zu(){return(zu=yt(vt().mark((function e(t,n,r){var i,a,o,u;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Xi(t,$a(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qu=p((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};l(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Ku=function(e){m(n,e);var t=w(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this,e,r,i)).username=a,o}return p(n)}(qu),Gu=function(e){m(n,e);var t=w(n);function n(e,r){return l(this,n),t.call(this,e,"facebook.com",r)}return p(n)}(qu),Hu=function(e){m(n,e);var t=w(n);function n(e,r){return l(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return p(n)}(Ku),Wu=function(e){m(n,e);var t=w(n);function n(e,r){return l(this,n),t.call(this,e,"google.com",r)}return p(n)}(qu),Qu=function(e){m(n,e);var t=w(n);function n(e,r,i){return l(this,n),t.call(this,e,"twitter.com",r,i)}return p(n)}(Ku);function Yu(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Yi(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new qu(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Gu(a,i);case"github.com":return new Hu(a,i);case"google.com":return new Wu(a,i);case"twitter.com":return new Qu(a,i,e.screenName||null);case"custom":case"anonymous":return new qu(a,null);default:return new qu(a,r,i)}}(n)}var Ju=function(){function e(t,n,r){l(this,e),this.type=t,this.credential=n,this.user=r}return p(e,[{key:"toJSON",value:function(){return{multiFactorSession:Pt({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Xu=function(){function e(t,n,r){l(this,e),this.session=t,this.hints=n,this.signInResolver=r}return p(e,[{key:"resolveSignIn",value:function(){var e=yt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Fa(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return mu._fromServerResponse(r,e)}));fi(i.mfaPendingCredential,r,"internal-error");var o=Ju._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=yt(vt().mark((function e(t){var a,u,s;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Go._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return fi(n.user,r,"internal-error"),e.abrupt("return",Go._forOperation(n.user,n.operationType,u));case 17:ai(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function $u(e,t){return _i(e,"POST","/v2/accounts/mfaEnrollment:start",xi(e,t))}function Zu(e,t){return _i(e,"POST","/v2/accounts/mfaEnrollment:finalize",xi(e,t))}var es=function(){function e(t){var n=this;l(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return mu._fromServerResponse(t.auth,e)})))}))}return p(e,[{key:"getSession",value:function(){var e=yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ju,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=yt(vt().mark((function e(t,n){var r,i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Xi(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=yt(vt().mark((function e(t){var n,r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Xi(this.user,_i(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",xi(a,{idToken:r,mfaEnrollmentId:n})));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}var a}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),ts=new WeakMap;var ns="__sak",rs=function(){function e(t,n){l(this,e),this.storageRetriever=t,this.type=n}return p(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ns,"1"),this.storage.removeItem(ns),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var is=function(e){m(n,e);var t=w(n);function n(){var e;return l(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Qt();return xa(e)||Ca(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Aa(),e._shouldAllowMigration=!0,e}return p(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Zt()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=yt(vt().mark((function e(t,r){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rt(y(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=yt(vt().mark((function e(t){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rt(y(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rt(y(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(rs);is.type="LOCAL";var as=is,os=function(e){m(n,e);var t=w(n);function n(){return l(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return p(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(rs);os.type="SESSION";var us=os;function ss(e){return Promise.all(e.map(function(){var e=yt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var cs=function(){function e(t){l(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return p(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=yt(vt().mark((function e(t){var n,r,i,a,o,u,s,c;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,ss(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function ls(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}cs.receivers=[];var fs=function(){function e(t){l(this,e),this.target=t,this.handlers=new Set}return p(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=yt(vt().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=ls("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function hs(){return window}function ds(e){hs().location.href=e}function ps(){return"undefined"!==typeof hs().WorkerGlobalScope&&"function"===typeof hs().importScripts}function vs(){return ms.apply(this,arguments)}function ms(){return(ms=yt(vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ys(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var gs="firebaseLocalStorageDb",ks="firebaseLocalStorage",bs="fbase_key",ws=function(){function e(t){l(this,e),this.request=t}return p(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function xs(e,t){return e.transaction([ks],t?"readwrite":"readonly").objectStore(ks)}function _s(){var e=indexedDB.deleteDatabase(gs);return new ws(e).toPromise()}function Is(){var e=indexedDB.open(gs,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ks,{keyPath:bs})}catch(r){n(r)}})),e.addEventListener("success",yt(vt().mark((function n(){var r;return vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ks)){n.next=12;break}return r.close(),n.next=5,_s();case 5:return n.t0=t,n.next=8,Is();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ss(e,t,n){return Es.apply(this,arguments)}function Es(){return Es=yt(vt().mark((function e(t,n,r){var i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=xs(t,!0).put((Pt(i={},bs,n),Pt(i,"value",r),i)),e.abrupt("return",new ws(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}function Ts(e,t){return Cs.apply(this,arguments)}function Cs(){return Cs=yt(vt().mark((function e(t,n){var r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xs(t,!1).get(n),e.next=3,new ws(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Cs.apply(this,arguments)}function As(e,t){var n=xs(e,!0).delete(t);return new ws(n).toPromise()}var Ns=function(){function e(){l(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return p(e,[{key:"_openDb",value:function(){var e=yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Is();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=yt(vt().mark((function e(t){var n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ps()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=yt(vt().mark((function e(){var t=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=cs._getInstance(ps()?self:null),this.receiver._subscribe("keyChanged",function(){var e=yt(vt().mark((function e(n,r){var i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=yt(vt().mark((function e(){var t,n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vs();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new fs(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&ys()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=yt(vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Is();case 5:return t=e.sent,e.next=8,Ss(t,ns,"1");case 8:return e.next=10,As(t,ns);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=yt(vt().mark((function e(t,n){var r=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ss(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=yt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ts(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=yt(vt().mark((function e(t){var n=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return As(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=yt(vt().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=xs(e,!1).getAll();return new ws(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:if(n=[],r=new Set,0!==t.length){i=C(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(yt(vt().mark((function t(){return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ns.type="LOCAL";var Ds=Ns;function Rs(e,t){return _i(e,"POST","/v2/accounts/mfaSignIn:start",xi(e,t))}function Ps(e,t){return _i(e,"POST","/v2/accounts/mfaSignIn:finalize",xi(e,t))}var Os=1e12,Ls=function(){function e(t){l(this,e),this.auth=t,this.counter=Os,this._widgets=new Map}return p(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Fs(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Os;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Os;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=yt(vt().mark((function e(t){var n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Os,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Fs=function(){function e(t,n,r){var i=this;l(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;fi(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return p(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Ms=Va("rcb"),Us=new yi(3e4,6e4),js=function(){function e(){var t;l(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=hs().grecaptcha)||void 0===t?void 0:t.render)}return p(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return fi(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Pi(hs().grecaptcha)?Promise.resolve(hs().grecaptcha):new Promise((function(r,i){var a=hs().setTimeout((function(){i(oi(e,"network-request-failed"))}),Us.get());hs()[Ms]=function(){hs().clearTimeout(a),delete hs()[Ms];var o=hs().grecaptcha;if(o&&Pi(o)){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(oi(e,"internal-error"))},ja("".concat(Ua.recaptchaV2Script,"?").concat(ln({onload:Ms,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(oi(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=hs().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Vs=function(){function e(){l(this,e)}return p(e,[{key:"load",value:function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Ls(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Bs="recaptcha",zs={theme:"light",type:"image"},qs=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},zs);l(this,e),this.parameters=r,this.type=Bs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fa(t),this.isInvisible="invisible"===this.parameters.size,fi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof n?document.getElementById(n):n;fi(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Vs:new js,this.validateStartingState()}return p(e,[{key:"verify",value:function(){var e=yt(vt().mark((function e(){var t,n,r,i=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){fi(!this.parameters.sitekey,this.auth,"argument-error"),fi(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),fi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=hs()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){fi(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=yt(vt().mark((function e(){var t,n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=yt(vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fi(vi()&&!ps(),this.auth,"internal-error"),e.next=3,Ks();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Fi(this.auth);case 8:fi(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return fi(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Ks(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Gs=function(){function e(t,n){l(this,e),this.verificationId=t,this.onConfirmation=n}return p(e,[{key:"confirm",value:function(e){var t=Do._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Hs(){return(Hs=yt(vt().mark((function e(t,n,r){var i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fr(t.app)){e.next=2;break}return e.abrupt("return",Promise.reject(si(t)));case 2:return i=Fa(t),e.next=5,Js(i,n,mn(r));case 5:return a=e.sent,e.abrupt("return",new Gs(a,(function(e){return uu(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ws(e,t,n){return Qs.apply(this,arguments)}function Qs(){return(Qs=yt(vt().mark((function e(t,n,r){var i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mn(t),e.next=3,tu(!1,i,"phone");case 3:return e.next=5,Js(i.auth,n,mn(r));case 5:return a=e.sent,e.abrupt("return",new Gs(a,(function(e){return cu(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ys(){return(Ys=yt(vt().mark((function e(t,n,r){var i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fr((i=mn(t)).auth.app)){e.next=3;break}return e.abrupt("return",Promise.reject(si(i.auth)));case 3:return e.next=5,Js(i.auth,n,mn(r));case 5:return a=e.sent,e.abrupt("return",new Gs(a,(function(e){return fu(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Js(e,t,n){return Xs.apply(this,arguments)}function Xs(){return(Xs=yt(vt().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,fi("string"===typeof a,t,"argument-error"),fi(r.type===Bs,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return fi("enroll"===u.type,t,"internal-error"),e.next=13,$u(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return fi("signin"===u.type,t,"internal-error"),fi(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Rs(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,So(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])})))).apply(this,arguments)}function $s(){return($s=yt(vt().mark((function e(t,n){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fr((r=mn(t)).auth.app)){e.next=3;break}return e.abrupt("return",Promise.reject(si(r.auth)));case 3:return e.next=5,Zo(r,n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zs=function(){function e(t){l(this,e),this.providerId=e.PROVIDER_ID,this.auth=Fa(t)}return p(e,[{key:"verifyPhoneNumber",value:function(e,t){return Js(this.auth,e,mn(t))}}],[{key:"credential",value:function(e,t){return Do._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Do._fromTokenResponse(n,r):null}}]),e}();function ec(e,t){return t?va(t):(fi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Zs.PROVIDER_ID="phone",Zs.PHONE_SIGN_IN_METHOD="phone";var tc=function(e){m(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this,"custom","custom")).params=e,r}return p(n,[{key:"_getIdTokenResponse",value:function(e){return xo(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return xo(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return xo(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ya);function nc(e){return au(e.auth,new tc(e),e.bypassAuthState)}function rc(e){var t=e.auth,n=e.user;return fi(n,t,"internal-error"),ru(n,new tc(e),e.bypassAuthState)}function ic(e){return ac.apply(this,arguments)}function ac(){return(ac=yt(vt().mark((function e(t){var n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,fi(r=t.user,n,"internal-error"),e.abrupt("return",Zo(r,new tc(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];l(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return p(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=yt(vt().mark((function t(n,r){return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=yt(vt().mark((function e(t){var n,r,i,a,o,u,s;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nc;case"linkViaPopup":case"linkViaRedirect":return ic;case"reauthViaPopup":case"reauthViaRedirect":return rc;default:ai(this.auth,"internal-error")}}},{key:"resolve",value:function(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),uc=new yi(2e3,1e4);function sc(e,t,n){return cc.apply(this,arguments)}function cc(){return(cc=yt(vt().mark((function e(t,n,r){var i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fr(t.app)){e.next=2;break}return e.abrupt("return",Promise.reject(oi(t,"operation-not-supported-in-this-environment")));case 2:return i=Fa(t),ci(t,n,Oo),a=ec(i,r),o=new dc(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lc(){return(lc=yt(vt().mark((function e(t,n,r){var i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fr((i=mn(t)).auth.app)){e.next=3;break}return e.abrupt("return",Promise.reject(oi(i.auth,"operation-not-supported-in-this-environment")));case 3:return ci(i.auth,n,Oo),a=ec(i.auth,r),o=new dc(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fc(e,t,n){return hc.apply(this,arguments)}function hc(){return(hc=yt(vt().mark((function e(t,n,r){var i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ci((i=mn(t)).auth,n,Oo),a=ec(i.auth,r),o=new dc(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dc=function(e){m(n,e);var t=w(n);function n(e,r,i,a,o){var u;return l(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=k(u),u}return p(n,[{key:"executeNotNull",value:function(){var e=yt(vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return fi(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=yt(vt().mark((function e(){var t,n=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return di(1===this.filter.length,"Popup operations only handle one event"),t=ls(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(oi(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(oi(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(oi(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,uc.get())}()}}]),n}(oc);dc.currentPopupAction=null;var pc="pendingRedirect",vc=new Map,mc=function(e){m(n,e);var t=w(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return p(n,[{key:"execute",value:function(){var e=yt(vt().mark((function e(){var t,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=vc.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,yc(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Rt(y(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:vc.set(this.auth._key(),t);case 21:return this.bypassAuthState||vc.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=yt(vt().mark((function e(t){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Rt(y(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Rt(y(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(oc);function yc(e,t){return gc.apply(this,arguments)}function gc(){return(gc=yt(vt().mark((function e(t,n){var r,i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_c(n),i=xc(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kc(e,t){return bc.apply(this,arguments)}function bc(){return(bc=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xc(t)._set(_c(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wc(e,t){vc.set(e._key(),t)}function xc(e){return va(e._redirectPersistence)}function _c(e){return ga(pc,e.config.apiKey,e.name)}function Ic(e,t,n){return function(e,t,n){return Sc.apply(this,arguments)}(e,t,n)}function Sc(){return(Sc=yt(vt().mark((function e(t,n,r){var i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fr(t.app)){e.next=2;break}return e.abrupt("return",Promise.reject(si(t)));case 2:return i=Fa(t),ci(t,n,Oo),e.next=6,i._initializationPromise;case 6:return a=ec(i,r),e.next=9,kc(a,i);case 9:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ec(e,t,n){return function(e,t,n){return Tc.apply(this,arguments)}(e,t,n)}function Tc(){return(Tc=yt(vt().mark((function e(t,n,r){var i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ci((i=mn(t)).auth,n,Oo),!fr(i.auth.app)){e.next=4;break}return e.abrupt("return",Promise.reject(si(i.auth)));case 4:return e.next=6,i.auth._initializationPromise;case 6:return a=ec(i.auth,r),e.next=9,kc(a,i.auth);case 9:return e.next=11,Oc(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cc(e,t,n){return function(e,t,n){return Ac.apply(this,arguments)}(e,t,n)}function Ac(){return(Ac=yt(vt().mark((function e(t,n,r){var i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ci((i=mn(t)).auth,n,Oo),e.next=4,i.auth._initializationPromise;case 4:return a=ec(i.auth,r),e.next=7,tu(!1,i,n.providerId);case 7:return e.next=9,kc(a,i.auth);case 9:return e.next=11,Oc(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nc(e,t){return Dc.apply(this,arguments)}function Dc(){return(Dc=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fa(t)._initializationPromise;case 2:return e.abrupt("return",Rc(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rc(e,t){return Pc.apply(this,arguments)}function Pc(){return Pc=yt(vt().mark((function e(t,n){var r,i,a,o,u,s=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]&&s[2],!fr(t.app)){e.next=3;break}return e.abrupt("return",Promise.reject(si(t)));case 3:return i=Fa(t),a=ec(i,n),o=new mc(i,a,r),e.next=8,o.execute();case 8:if(!(u=e.sent)||r){e.next=15;break}return delete u.user._redirectEventId,e.next=13,i._persistUserIfCurrent(u.user);case 13:return e.next=15,i._setRedirectUser(null,n);case 15:return e.abrupt("return",u);case 16:case"end":return e.stop()}}),e)}))),Pc.apply(this,arguments)}function Oc(e){return Lc.apply(this,arguments)}function Lc(){return(Lc=yt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ls("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fc=function(){function e(t){l(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return p(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Uc(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(oi(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mc(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Mc(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Mc(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Uc(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function jc(e){return Vc.apply(this,arguments)}function Vc(){return Vc=yt(vt().mark((function e(t){var n,r=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",_i(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Vc.apply(this,arguments)}var Bc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zc=/^https?/;function qc(){return(qc=yt(vt().mark((function e(t){var n,r,i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,jc(t);case 4:n=e.sent,r=n.authorizedDomains,i=C(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Kc(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:ai(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Kc(e){var t=pi(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!zc.test(r))return!1;if(Bc.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Gc=new yi(3e4,6e4);function Hc(){var e=hs().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=c(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}function Wc(e){return new Promise((function(t,n){var r,i,a;function o(){Hc(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Hc(),n(oi(e,"network-request-failed"))},timeout:Gc.get()})}if(null===(i=null===(r=hs().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=hs().gapi)||void 0===a?void 0:a.load)){var u=Va("iframefcb");return hs()[u]=function(){gapi.load?o():n(oi(e,"network-request-failed"))},ja("".concat(Ua.gapiScript,"?onload=").concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Qc=null,e}))}var Qc=null;function Yc(e){return Qc=Qc||Wc(e)}var Jc=new yi(5e3,15e3),Xc="__/auth/iframe",$c="emulator/auth/iframe",Zc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},el=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tl(e){var t=e.config;fi(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?gi(t,$c):"https://".concat(e.config.authDomain,"/").concat(Xc),r={apiKey:t.apiKey,appName:e.name,v:yr},i=el.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ln(r).slice(1))}function nl(e){return rl.apply(this,arguments)}function rl(){return rl=yt(vt().mark((function e(t){var n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yc(t);case 2:return n=e.sent,fi(r=hs().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:tl(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zc,dontclear:!0},(function(e){return new Promise(function(){var n=yt(vt().mark((function n(r,i){var a,o,u;return vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){hs().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=oi(t,"network-request-failed"),o=hs().setTimeout((function(){i(a)}),Jc.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),rl.apply(this,arguments)}var il={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},al=function(){function e(t){l(this,e),this.window=t,this.associatedEvent=null}return p(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function ol(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},il),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Qt().toLowerCase();n&&(u=_a(c)?"_blank":n),wa(c)&&(t=t||"http://localhost",s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=E(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Ca(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new al(null);var f=window.open(t||"",u,l);fi(f,e,"popup-blocked");try{f.focus()}catch(h){}return new al(f)}var ul="__/auth/handler",sl="emulator/auth/handler",cl=encodeURIComponent("fac");function ll(e,t,n,r,i,a){return fl.apply(this,arguments)}function fl(){return(fl=yt(vt().mark((function e(t,n,r,i,a,o){var u,s,c,l,f,h,d,p,v,m,y,g,k;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fi(t.config.authDomain,t,"auth-domain-config-required"),fi(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:yr,eventId:a},n instanceof Oo)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",un(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),s=0,c=Object.entries(o||{});s<c.length;s++)l=E(c[s],2),f=l[0],h=l[1],u[f]=h;for(n instanceof Lo&&(d=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=d.join(",")),t.tenantId&&(u.tid=t.tenantId),p=u,v=0,m=Object.keys(p);v<m.length;v++)y=m[v],void 0===p[y]&&delete p[y];return e.next=10,t._getAppCheckToken();case 10:return g=e.sent,k=g?"#".concat(cl,"=").concat(encodeURIComponent(g)):"",e.abrupt("return","".concat(hl(t),"?").concat(ln(p).slice(1)).concat(k));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hl(e){var t=e.config;return t.emulator?gi(t,sl):"https://".concat(t.authDomain,"/").concat(ul)}var dl="webStorageSupport",pl=function(){function e(){l(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=us,this._completeRedirectFn=Rc,this._overrideRedirectResult=wc}return p(e,[{key:"_openPopup",value:function(){var e=yt(vt().mark((function e(t,n,r,i){var a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return di(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,ll(t,n,r,pi(),i);case 3:return o=e.sent,e.abrupt("return",ol(t,o,ls()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=yt(vt().mark((function e(t,n,r,i){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,ll(t,n,r,pi(),i);case 4:return ds(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(di(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=yt(vt().mark((function e(t){var n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nl(t);case 2:return n=e.sent,r=new Fc(t),n.register("authEvent",(function(e){return fi(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(dl,{type:dl},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[dl];void 0!==i&&t(!!i),ai(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return qc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Aa()||xa()||Ca()}}]),e}(),vl=pl,ml=function(){function e(t){l(this,e),this.factorId=t}return p(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return hi("unexpected MultiFactorSessionType")}}}]),e}(),yl=function(e){m(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone")).credential=e,r}return p(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return _i(e,"POST","/v2/accounts/mfaEnrollment:finalize",xi(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return _i(e,"POST","/v2/accounts/mfaSignIn:finalize",xi(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(ml),gl=function(){function e(){l(this,e)}return p(e,null,[{key:"assertion",value:function(e){return yl._fromCredential(e)}}]),e}();gl.FACTOR_ID="phone";var kl=function(){function e(){l(this,e)}return p(e,null,[{key:"assertionForEnrollment",value:function(e,t){return bl._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return bl._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=yt(vt().mark((function e(t){var n,r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fi("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,a=r.user.auth,o={idToken:r.credential,totpEnrollmentInfo:{}},_i(a,"POST","/v2/accounts/mfaEnrollment:start",xi(a,o));case 4:return i=e.sent,e.abrupt("return",wl._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}var a,o}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();kl.FACTOR_ID="totp";var bl=function(e){m(n,e);var t=w(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return p(n,[{key:"_finalizeEnroll",value:function(){var e=yt(vt().mark((function e(t,n,r){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fi("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Zu(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=yt(vt().mark((function e(t,n){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fi(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Ps(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(ml),wl=function(){function e(t,n,r,i,a,o,u){l(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return p(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(xl(e)||xl(t))&&(r=!0),r&&(xl(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),xl(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function xl(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var _l="@firebase/auth",Il="1.7.1",Sl=function(){function e(t){l(this,e),this.auth=t,this.internalListeners=new Map}return p(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=yt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){fi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var El,Tl,Cl=Gt("authIdTokenMaxAge")||300,Al=null,Nl=function(e){return function(){var t=yt(vt().mark((function t(n){var r,i,a;return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>Cl)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,Al!==a){t.next=12;break}return t.abrupt("return");case 12:return Al=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function Dl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br(),t=sr(e,"auth");if(t.isInitialized())return t.getImmediate();var n=function(e,t){var n=sr(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(sn(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;ai(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:vl,persistence:[Ds,as,us]}),r=Gt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){var i=new URL(r,location.origin);if(location.origin===i.origin){var a=Nl(i.toString());!function(e,t,n){mn(e).beforeAuthStateChanged(t,n)}(n,a,(function(){return a(n.currentUser)})),function(e,t,n,r){mn(e).onIdTokenChanged(t,n,r)}(n,(function(e){return a(e)}))}}var o=zt("auth");return o&&Ha(n,"http://".concat(o)),n}!function(e){Ua=e}({loadJS:function(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=oi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),El="Browser",ur(new yn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;fi(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:El,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Na(El)},l=new La(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(va);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ur(new yn("auth-internal",(function(e){return function(e){return new Sl(e)}(Fa(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(_l,Il,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(El)),Ir(_l,Il,"esm2017");var Rl=function(){function e(t,n){var r=this;l(this,e),this._delegate=t,this.firebase=n,ar(t,new yn("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return p(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),xr(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:er;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:er;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ar(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){or(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Pl=(Pt(Tl={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Pt(Tl,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Tl),Ol=new rn("app-compat","Firebase",Pl);var Ll=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=gr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(on(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ir,setLogLevel:Er,onLog:Sr,apps:null,SDK_VERSION:yr,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(ur(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ol.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&jt(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!on(n,e=e||er))throw Ol.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Rl);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){jt(n,e)},createSubscribe:dn,ErrorFactory:rn,deepExtend:jt}),n}(),Fl=new Cn("@firebase/app-compat");if(Jt()&&void 0!==self.firebase){Fl.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ml=self.firebase.SDK_VERSION;Ml&&Ml.indexOf("LITE")>=0&&Fl.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ul=Ll;!function(e){Ir("@firebase/app-compat","0.2.31",e)}();function jl(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function Vl(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Ul.registerVersion("firebase","10.11.0","app-compat");var Bl,zl=function(){return zl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zl.apply(this,arguments)},ql=function(e){return{loading:void 0===e||null===e,value:e}},Kl=function(e){var t=e?e():void 0,n=(0,r.useReducer)((function(e,t){switch(t.type){case"error":return zl(zl({},e),{error:t.error,loading:!1,value:void 0});case"reset":return ql(t.defaultValue);case"value":return zl(zl({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),ql(t)),i=n[0],a=n[1],o=(0,r.useCallback)((function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})}),[e]),u=(0,r.useCallback)((function(e){a({type:"error",error:e})}),[]),s=(0,r.useCallback)((function(e){a({type:"value",value:e})}),[]);return(0,r.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:s,value:i.value}}),[i.error,i.loading,o,u,s,i.value])},Gl=function(e,t){var n=Kl((function(){return e.currentUser})),i=n.error,a=n.loading,o=n.setError,u=n.setValue,s=n.value;return(0,r.useEffect)((function(){var n=function(e,t,n,r){return mn(e).onAuthStateChanged(t,n,r)}(e,(function(e){return jl(void 0,void 0,void 0,(function(){var n;return Vl(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),o(n),[3,4];case 4:return u(e),[2]}}))}))}),o);return function(){n()}}),[e]),[s,a,i]},Hl="firebasestorage.googleapis.com",Wl="storageBucket",Ql=function(e){m(n,e);var t=w(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return l(this,n),(i=t.call(this,Yl(e),"Firebase Storage: ".concat(r," (").concat(Yl(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(k(i),n.prototype),i}return p(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return Yl(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(nn);function Yl(e){return"storage/"+e}function Jl(){return new Ql(Bl.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Xl(){return new Ql(Bl.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $l(){return new Ql(Bl.CANCELED,"User canceled the upload/download.")}function Zl(){return new Ql(Bl.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ef(e){return new Ql(Bl.INVALID_ARGUMENT,e)}function tf(){return new Ql(Bl.APP_DELETED,"The Firebase app was deleted.")}function nf(e,t){return new Ql(Bl.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function rf(e){throw new Ql(Bl.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Bl||(Bl={}));var af,of=function(){function e(t,n){l(this,e),this.bucket=t,this.path_=n}return p(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new Ql(Bl.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===Hl?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new Ql(Bl.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),uf=function(){function e(t){l(this,e),this.promise_=Promise.reject(t)}return p(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function sf(e){return"string"===typeof e||e instanceof String}function cf(e){return lf()&&e instanceof Blob}function lf(){return"undefined"!==typeof Blob}function ff(e,t,n,r){if(r<t)throw ef("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw ef("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function hf(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function df(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function pf(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(af||(af={}));var vf=function(){function e(t,n,r,i,a,o,u,s,c,f,h){var d=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];l(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return p(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=Jl();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?tf():$l());else i(Xl())}};this.canceled_?t(0,new mf(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new mf(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===af.NO_ERROR,a=r.getStatus();if(!n||pf(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===af.ABORT;t(!1,new mf(!1,null,o))}else{var u=-1!==e.successCodes_.indexOf(a);t(!0,new mf(u,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),mf=p((function e(t,n,r){l(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function yf(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function gf(){for(var e=yf(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(lf())return new Blob(n);throw new Ql(Bl.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function kf(e){if("undefined"===typeof atob)throw t="base-64",new Ql(Bl.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var bf={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},wf=p((function e(t,n){l(this,e),this.data=t,this.contentType=n||null}));function xf(e,t){switch(e){case bf.RAW:return new wf(_f(t));case bf.BASE64:case bf.BASE64URL:return new wf(If(e,t));case bf.DATA_URL:return new wf(function(e){var t=new Sf(e);return t.base64?If(bf.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw nf(bf.DATA_URL,"Malformed data URL.")}return _f(t)}(t.rest)}(t),new Sf(t).contentType)}throw Jl()}function _f(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function If(e,t){switch(e){case bf.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw nf(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case bf.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw nf(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=kf(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw nf(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var Sf=p((function e(t){l(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw nf(bf.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}));var Ef=function(){function e(t,n){l(this,e);var r=0,i="";cf(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return p(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(cf(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(lf()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(gf.apply(null,i))}var a=n.map((function(e){return sf(e)?xf(bf.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function Tf(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Cf(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Af(e,t){return t}var Nf=p((function e(t,n,r,i){l(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Af})),Df=null;function Rf(){if(Df)return Df;var e=[];e.push(new Nf("bucket")),e.push(new Nf("generation")),e.push(new Nf("metageneration")),e.push(new Nf("name","fullPath",!0));var t=new Nf("name");t.xform=function(e,t){return function(e){return!sf(e)||e.length<2?e:Cf(e)}(t)},e.push(t);var n=new Nf("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Nf("timeCreated")),e.push(new Nf("updated")),e.push(new Nf("md5Hash",null,!0)),e.push(new Nf("cacheControl",null,!0)),e.push(new Nf("contentDisposition",null,!0)),e.push(new Nf("contentEncoding",null,!0)),e.push(new Nf("contentLanguage",null,!0)),e.push(new Nf("contentType",null,!0)),e.push(new Nf("metadata","customMetadata",!0)),Df=e}function Pf(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new of(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Of(e,t,n){var r=Tf(t);return null===r?null:Pf(e,r,n)}function Lf(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var Ff=p((function e(t,n,r,i){l(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function Mf(e){if(!e)throw Jl()}function Uf(e,t){return function(n,r){var i=Of(e,r,t);return Mf(null!==i),i}}function jf(e,t){return function(n,r){var i=Of(e,r,t);return Mf(null!==i),function(e,t,n,r){var i=Tf(t);if(null===i)return null;if(!sf(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return hf("/b/"+o(i)+"/o/"+o(a),n,r)+df({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Vf(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Ql(Bl.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Ql(Bl.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new Ql(Bl.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Ql(Bl.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Bf(e){var t=Vf(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new Ql(Bl.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function zf(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function qf(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=zf(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Lf(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=Ef.getBlob(c,r,l);if(null===f)throw Zl();var h={name:s.fullPath},d=hf(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new Ff(d,"POST",Uf(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=Vf(t),v}var Kf=null,Gf=function(){function e(){var t=this;l(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=af.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=af.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=af.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return p(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw rf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw rf("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw rf("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw rf("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw rf("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),Hf=function(e){m(n,e);var t=w(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(Gf);function Wf(){return Kf?Kf():new Hf}var Qf=function(){function e(t,n){l(this,e),this._service=t,this._location=n instanceof of?n:of.makeFromUrl(n,t.host)}return p(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new of(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Cf(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new of(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new Ql(Bl.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function Yf(e,t,n){e._throwIfRoot("uploadBytes");var r=qf(e.storage,e._location,Rf(),new Ef(t,!0),n);return e.storage.makeRequestWithTokens(r,Wf).then((function(t){return{metadata:t,ref:e}}))}function Jf(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=hf(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Ff(r,"GET",jf(e,n),i);return a.errorHandler=Bf(t),a}(e.storage,e._location,Rf());return e.storage.makeRequestWithTokens(t,Wf).then((function(e){if(null===e)throw new Ql(Bl.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Xf(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new of(e._location.bucket,n);return new Qf(e.storage,r)}function $f(e,t){if(e instanceof th){var n=e;if(null==n._bucket)throw new Ql(Bl.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Wl+"' property when initializing the app?");var r=new Qf(n,n._bucket);return null!=t?$f(r,t):r}return void 0!==t?Xf(e,t):e}function Zf(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof th)return new Qf(e,t);throw ef("To use ref(service, url), the first argument must be a Storage instance.")}return $f(e,t)}function eh(e,t){var n=null===t||void 0===t?void 0:t[Wl];return null==n?null:of.makeFromBucketSpec(n,e)}var th=function(){function e(t,n,r,i,a){l(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Hl,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?of.makeFromBucketSpec(i,this._host):eh(this._host,this.app.options)}return p(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=of.makeFromBucketSpec(this._url,e):this._bucket=eh(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){ff("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){ff("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=yt(vt().mark((function e(){var t,n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=yt(vt().mark((function e(){var t,n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Qf(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new uf(tf());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=df(e.urlParams),s=e.url+u,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new vf(s,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=yt(vt().mark((function e(t,n){var r,i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=E(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),nh="@firebase/storage",rh="0.12.4",ih="storage";function ah(e,t,n){return Yf(e=mn(e),t,n)}function oh(e){return Jf(e=mn(e))}function uh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br(),t=arguments.length>1?arguments[1]:void 0,n=sr(e=mn(e),ih).getImmediate({identifier:t}),r=qt("storage");return r&&sh.apply(void 0,[n].concat(c(r))),n}function sh(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Wt(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function ch(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new th(r,i,a,n,yr)}ur(new yn(ih,ch,"PUBLIC").setMultipleInstances(!0)),Ir(nh,rh,""),Ir(nh,rh,"esm2017");var lh=function(){var e=Ul.initializeApp({apiKey:"AIzaSyDuSJaAWnrUzScfksumcWpNazLZOZaVo00",authDomain:"teamsearch-1bd4d.firebaseapp.com",projectId:"teamsearch-1bd4d",storageBucket:"teamsearch-1bd4d.appspot.com",messagingSenderId:"335423463032",appId:"1:335423463032:web:9a1211a5b4d199c9e4178d",measurementId:"G-JQGHQTH1M4"}),t=Dl(e),n=Ul.firestore(),i=uh(e,"gs://teamsearch-1bd4d.appspot.com"),a=E(Gl(t),3),o=a[0],u=(a[1],a[2],E((0,r.useState)(""),2)),s=u[0],c=u[1],l=E((0,r.useState)(""),2),f=l[0],h=l[1],d=E((0,r.useState)(""),2),p=d[0],v=d[1],m=E((0,r.useState)(""),2),y=m[0],g=m[1],k=E((0,r.useState)(""),2),b=k[0],w=k[1],x=E((0,r.useState)(""),2),_=x[0],I=x[1],S=E((0,r.useState)(""),2),T=S[0],C=S[1],A=E((0,r.useState)([]),2),N=A[0],D=A[1],R=E((0,r.useState)(!1),2),P=R[0],O=R[1],L=function(){var e=yt(vt().mark((function e(r,i){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cu(t,r,i).then((function(e){console.log(e),n.collection("users").add({name:"",email:r,age:"",avatarURL:"",city:"",sex:"",sport:""}).then((function(e){c(e.id)}))})).catch((function(e){return O(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=yt(vt().mark((function e(t,r,i,a,o){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.collection("users").doc(s).update({name:t,age:r,city:o,sex:i,sport:a});case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}(),M=function(){var e=yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.collection("users").where("email","==",o.email).get().then((function(e){var t=e.docs[0]._delegate._document.data.value.mapValue.fields;h(t.name.stringValue),v(t.age.stringValue),g(t.sex.stringValue),w(t.city.stringValue),I(t.sport.stringValue),C(t.avatarURL.stringValue),c(e.docs[0].id),O(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=yt(vt().mark((function e(t){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.collection("users").where("email","==",t).get().then((function(e){return e.docs[0]._delegate._document.data.value.mapValue.fields}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=yt(vt().mark((function e(r,i){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nu(t,r,i).then((function(e){n.collection("users").where("email","==",r).get().then((function(e){c(e.docs[0].id)}))})).catch((function(e){return O(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var e=yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.signOut();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=yt(vt().mark((function e(t){var r,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],e.prev=1,u=i,c="avatars/".concat(s),a=Zf(u=mn(u),c),e.next=5,ah(a,r);case 5:return e.next=7,oh(a);case 7:return o=e.sent,C(o),e.next=11,n.collection("users").doc(s).update({avatarURL:o});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}var u,c}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=yt(vt().mark((function e(){var t,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.collection("forms").get();case 2:t=e.sent,r=t.docs.map((function(e){var t=e.data();return{formid:e.id,sport:t.sport,link:t.link,description:t.description,userEmail:t.userEmail}})),D(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=yt(vt().mark((function e(t){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.collection("forms").get();case 2:return r=e.sent,e.abrupt("return",r.docs.find((function(e){return e.id==t})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=yt(vt().mark((function e(t,r,i){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.collection("forms").add({userEmail:o.email,description:t,link:r,sport:i}).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),G=function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.collection("forms").doc(t).delete().then((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=yt(vt().mark((function e(t){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.collection("forms").where("userEmail","==",t).get().then((function(e){return e.docs}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{user:o,GetMyForms:H,CreateUser:L,LoginUser:j,LogOut:V,UpdateUser:F,GetUser:M,UpdateUserAvatar:B,CreateForm:K,GetFormById:q,DeleteForm:G,setNotFound:O,userNotFound:P,username:f,userage:p,usercity:b,usersex:y,usersport:_,userId:s,avatarURL:T,GetForms:z,forms:N,GetUserByEmail:U}},fh=function(e){var t=e.sport,n=e.userEmail,i=lh().GetUserByEmail,a=E((0,r.useState)(),2),o=a[0],u=a[1],s=E((0,r.useState)(),2),c=s[0],l=s[1],f=E((0,r.useState)(),2),h=f[0],d=f[1],p=E((0,r.useState)(),2),v=p[0],m=p[1];return(0,r.useEffect)((function(){i(n).then((function(e){u(e.name.stringValue),l(e.age.stringValue),m(e.avatarURL.stringValue),d(e.sex.stringValue)}))}),[t,n]),(0,ze.jsxs)("div",{className:"item",children:[(0,ze.jsx)("img",{src:""==v?Dt:v,className:"ava",alt:""}),(0,ze.jsxs)("div",{className:"main-info",children:[(0,ze.jsx)("p",{style:{textAlign:"center",marginBottom:"15px"},className:"info-p",children:o}),(0,ze.jsxs)("p",{className:"info-p",children:["\u0412\u043e\u0437\u0440\u0430\u0441\u0442: ",c]}),(0,ze.jsxs)("p",{className:"info-p",children:["\u041f\u043e\u043b: ",h]}),(0,ze.jsxs)("p",{className:"info-p",children:["\u0421\u043f\u043e\u0440\u0442: ",t]})]})]})},hh=function(e){var t=e.forms;return(0,ze.jsx)("div",{className:"items",children:t.map((function(e){return(0,ze.jsx)(et,{className:"link",to:"/form/".concat(e.formid),children:(0,ze.jsx)(fh,{sport:e.sport,userEmail:e.userEmail,className:"form"})})}))})},dh=!0;var ph=function(){var e=lh(),t=e.GetForms,n=e.forms,i=e.CreateForm,a=e.user,o=E((0,r.useState)(n.filter((function(e){return"\u0411\u0430\u0441\u043a\u0435\u0442\u0431\u043e\u043b"==e.sport||"\u0412\u043e\u043b\u0435\u0439\u0431\u043e\u043b"==e.sport||"\u041c\u0438\u043d\u0438-\u0444\u0443\u0442\u0431\u043e\u043b"==e.sport||"\u041d\u0430\u0441\u0442\u043e\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u043d\u043d\u0438\u0441"==e.sport||"\u0411\u0430\u0434\u043c\u0438\u043d\u0442\u043e\u043d"==e.sport}))),2),u=o[0],s=o[1];(0,r.useEffect)((function(){t()}),[]),(0,r.useEffect)((function(){s(n.filter((function(e){return"\u0411\u0430\u0441\u043a\u0435\u0442\u0431\u043e\u043b"==e.sport||"\u0412\u043e\u043b\u0435\u0439\u0431\u043e\u043b"==e.sport||"\u041c\u0438\u043d\u0438-\u0444\u0443\u0442\u0431\u043e\u043b"==e.sport||"\u041d\u0430\u0441\u0442\u043e\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u043d\u043d\u0438\u0441"==e.sport||"\u0411\u0430\u0434\u043c\u0438\u043d\u0442\u043e\u043d"==e.sport})))}),[n]);var c=E((0,r.useState)(!1),2),l=c[0],f=c[1],h=function(){var e=yt(vt().mark((function e(t){var n,r,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a){e.next=13;break}if(n=document.getElementById("area").value,r=document.getElementById("link").value,o=document.getElementById("sport").value,""==r||""==o){e.next=12;break}return e.next=8,i(n,r,o);case 8:x(),console.log(r,n),e.next=13;break;case 12:f(!0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=E((0,r.useState)(!1),2),p=d[0],v=d[1],m=E((0,r.useState)(!1),2),y=m[0],g=m[1],k=E((0,r.useState)(),2),b=k[0],w=k[1];function x(){document.querySelector("body").classList.toggle("no-scroll"),T(!S)}(0,r.useEffect)((function(){p?(s(n.filter((function(e){return"Dota 2"==e.sport||"CS:GO"==e.sport||"The Finals"==e.sport||"Rust"==e.sport}))),console.log(n.filter((function(e){return"Dota 2"==e.sport||"CS:GO"==e.sport||"The Finals"==e.sport||"Rust"==e.sport}))),document.querySelector(".mobile-cyber-filter").classList.add("checked")):(s(n.filter((function(e){return"\u0411\u0430\u0441\u043a\u0435\u0442\u0431\u043e\u043b"==e.sport||"\u0412\u043e\u043b\u0435\u0439\u0431\u043e\u043b"==e.sport||"\u041c\u0438\u043d\u0438-\u0444\u0443\u0442\u0431\u043e\u043b"==e.sport||"\u041d\u0430\u0441\u0442\u043e\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u043d\u043d\u0438\u0441"==e.sport||"\u0411\u0430\u0434\u043c\u0438\u043d\u0442\u043e\u043d"==e.sport}))),document.querySelector(".mobile-cyber-filter").classList.remove("checked")),w("")}),[p]);var _=function(e){s(n.filter((function(t){return t.sport==e}))),g(!1),w(e)},I=E((0,r.useState)(!1),2),S=I[0],T=I[1];return window.scrollTo(0,0),(0,ze.jsx)("div",{children:(0,ze.jsxs)("div",{className:"mainPage",children:[(0,ze.jsxs)("div",{className:"filters",children:[(0,ze.jsxs)("div",{className:"sportlist",children:[(0,ze.jsx)("p",{className:"\u0411\u0430\u0441\u043a\u0435\u0442\u0431\u043e\u043b"==b?"filter select":"filter",onClick:function(){return _("\u0411\u0430\u0441\u043a\u0435\u0442\u0431\u043e\u043b")},children:"\u0411\u0430\u0441\u043a\u0435\u0442\u0431\u043e\u043b"}),(0,ze.jsx)("p",{className:"\u0412\u043e\u043b\u0435\u0439\u0431\u043e\u043b"==b?"filter select":"filter",onClick:function(){return _("\u0412\u043e\u043b\u0435\u0439\u0431\u043e\u043b")},children:"\u0412\u043e\u043b\u0435\u0439\u0431\u043e\u043b"}),(0,ze.jsx)("p",{className:"\u041c\u0438\u043d\u0438-\u0444\u0443\u0442\u0431\u043e\u043b"==b?"filter select":"filter",onClick:function(){return _("\u041c\u0438\u043d\u0438-\u0444\u0443\u0442\u0431\u043e\u043b")},children:"\u041c\u0438\u043d\u0438-\u0444\u0443\u0442\u0431\u043e\u043b"}),(0,ze.jsx)("p",{className:"\u041d\u0430\u0441\u0442\u043e\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u043d\u043d\u0438\u0441"==b?"filter select":"filter",onClick:function(){return _("\u041d\u0430\u0441\u0442\u043e\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u043d\u043d\u0438\u0441")},children:"\u041d\u0430\u0441\u0442\u043e\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u043d\u043d\u0438\u0441"}),(0,ze.jsx)("p",{className:"\u0411\u0430\u0434\u043c\u0438\u043d\u0442\u043e\u043d"==b?"filter select":"filter",onClick:function(){return _("\u0411\u0430\u0434\u043c\u0438\u043d\u0442\u043e\u043d")},children:"\u0411\u0430\u0434\u043c\u0438\u043d\u0442\u043e\u043d"})]}),(0,ze.jsxs)("div",{className:"cybersport close",children:[(0,ze.jsx)("p",{className:"Dota 2"==b?"filter select":"filter",onClick:function(){return _("Dota 2")},children:"Dota 2"}),(0,ze.jsx)("p",{className:"CS:GO"==b?"filter select":"filter",onClick:function(){return _("CS:GO")},children:"CS:GO"}),(0,ze.jsx)("p",{className:"The Finals"==b?"filter select":"filter",onClick:function(){return _("The Finals")},children:"The Finals"}),(0,ze.jsx)("p",{className:"Rust"==b?"filter select":"filter",onClick:function(){return _("Rust")},children:"Rust"})]})]}),(0,ze.jsxs)("div",{className:"applic",children:[(0,ze.jsx)("div",{className:"grey-rect",children:(0,ze.jsx)("div",{className:"black-rect",children:(0,ze.jsxs)("div",{className:"white-rect",onClick:function(){return document.querySelector(".white-rect").classList.toggle("white-rect1"),document.querySelector(".sportlist").classList.toggle("close"),document.querySelector(".cybersport").classList.toggle("close"),v(!p),void(dh?(document.querySelector(".basketballico").classList.add("basketballicoanim"),document.querySelector(".basketballico").classList.remove("basketballicoanimback"),document.querySelector(".gameico").classList.add("gameicoanim"),document.querySelector(".gameico").classList.remove("gameicoanimback"),dh=!1):(document.querySelector(".basketballico").classList.add("basketballicoanimback"),document.querySelector(".basketballico").classList.remove("basketballicoanim"),document.querySelector(".gameico").classList.add("gameicoanimback"),document.querySelector(".gameico").classList.remove("gameicoanim"),dh=!0))},children:[(0,ze.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAhHSURBVHgB7d1ZrF5VGYDhDwXRYkUZ0qKliAnUBEOilmhCIjVqquiFE4rUxDmKYo2aoBERWkFiYgjQoARUvFDUeqGJA4khiAQ0lCEBLhjKUIYyBMpMoZTpjoT34l9Z7LX3v/f53ufuTQukp+djrXX+PURIkiRJkiRJkiRJkiRJkiRJkqSp2SVEu6IPR69Cr0QfjF6C3jNmexR9P/om9FXoS9CXo58LveRVISXmACg1B0CpZTwDHIBeiz4GvTSm7T70H9Bnoe+MRFwBlJoDoNQcAKW2EM8A+6J/hv4CerfIbSf6d+gT0A/EAuIKoNQcAKXmACi1hXAGWIPegH5TqIuH0N9GXxAT5gqg1BwApeYAKLUpnAH4c/qz0V+LfvH6/AvR/J/IZ6LOOehT0cvRh6JXoz+AXhz9Ohd9HHpnjJgrgFJzAJSaA6DUxngGWIT+C/rIaOtW9GnoP6K3o3+E5h6+ZB365OhmD/SX0d9FHxht/Qt9FHp7jIgrgFJzAJSaA6DUdo3548/5W+/5d6BPRJ+JfibqrIhuWl9f/ySa10bxcwde788zTe39Evz72oj+OPrZmCNXAKXmACg1B0CpjeFzAF5L0vranp+gfxpt3YFeHnXeg94U88Wv17poi2eQY2OOXAGUmgOg1BwApTaPMwCvl/9z9IvPw/8i+vdRh+8LuCzqPI7eCz30z8V5rQ7v8e37s6I1hf9+r1wBlJoDoNQcAKU2xBlgH/TN6KGf28M99ufRpTMJr205KurwWqfae4i7+iyaZ6Chrw/bhl5R+PWmXAGUmgOg1BwApTbEfu8UdO2en9fn855bXt9f+jPx10ufA2xFfzq62RDDar3n5xmKfx+19xPsjea1R8dFj1wBlJoDoNQcAKXWx+cAy9C3oWvvMeWeks/t6XuPy/fsLos6V6EPi371/fUofW7CMx/vOS7hPdxvQ98TDbkCKDUHQKk5AEqtjzPAz9HHR50t6Lejd8Rs877W5Xn0Eeja+wdK5r3np93Rm9H7Rx2+57n2TDGTK4BScwCUmgOg1FqcAThEfE5O7c/Nv4n+VXQz9JmA1/qsjbbGtucv+T76F1GH3098n8EL0YErgFJzAJSaA6DUWux/+WzL2j3/E+ja5/SU8J1UD6KXRlvXRFtT2/PTeej16EUx2wHolegrowNXAKXmACg1B0CptTgDvC+6uQj9eOH3L0F/DM33C/CM0jfueZ9Cl/bYU9/z02Po/6I/EnV4bZVnAOmVcgCUmgOg1FqcAbre43oI+lI0P1fgtSBjU/vcoSj8/qnt+Uv+ja49AzS9p9oVQKk5AErNAVBqLc4AB0c3BxW6bzvRp6NvQP8a3fpZpAttz0/XRjddv99exhVAqTkASs0BUGotzgBvjnHje4L/jj4JfV3M9jS69uf2Xb/mU9vz053RTdPvN1cApeYAKDUHQKm1OAPsEcPiO8M2oS9Gn4/eEt2U9titnzs0tj0//zwrC70vuus92IujIVcApeYAKDUHQKkN8Z7gks+h70ZvQ29B855bdcN7bvme3tXopnvyobkCKDUHQKk5AEqtxRngSfRrow6f63JrjNvQ7xuovZ+g9LkAn+N0BvqdMW6l50ZVcQVQag6AUnMAlFqL/epW9N5RZz/02M4AfT+rMyr/faUzwevQ70bzHWxT+5/g1mjIFUCpOQBKzQFQai3OAJvRh0YdXj9+WczX0M/nj47/Pf76+TEs3uPL+zH4/cEzySejzuZoyBVAqTkASs0BUGotzgC8J/dTUeeD6DNiWGN/J1ff1xrRC+iN6DPR/486f41uNkVDrgBKzQFQag6AUmuxn7w0ulmF3hP9aLQ19j0/fz+v7Wn9c37eg300+vLo5g3oD0U3l0RDrgBKzQFQag6AUuvjc4C70PvHbHy26FfQp0c3Y9/zlxwS/eKzOpdFW/z61D5Ldgv6mmjIFUCpOQBKzQFQartEe6ehfxh17kCvQO+I2aa+538X+gp039cCdf3z8rlQN6GXR51T0T+OhlwBlJoDoNQcAKXWxxngLejb0K+JOqU94NT3/PRP9JFR5z70Pui+vx4noE+JOjzjHYi+NxpyBVBqDoBScwCUWh8/U+azG3+DPjbqHI/mnpR7zqnt+d+K/nB081X069FdnzvEf56f0/Dvo9a56KZ7fnIFUGoOgFJzAJRaH58DEN8XcDN6rxjWvPf8tB59YtT5H/rwwu8f+h1nJQ+ieaZ4KHrkCqDUHACl5gAotSH2e9vQfEfVn6JfY9vz06ro5ryoU/rzDn0m4PdDr3t+cgVQag6AUnMAlNoQnwOUnIP+erR1MnpdzNdu6EfQi2I2Pr9/CfqB6IafQ6yPtn6J/lbMkSuAUnMAlJoDoNTGcAbgz5n/hv5odLMTzecW8Z7jZ6JfvNblxqhzC/qgqLM7+nvokwq/v9Y/0J9APxtz5Aqg1BwApeYAKLUxnAGIPwfne2q7ngnodjTfg8t7mp+Ibg5D1773lu9kOwLNe4DXoH+A5nN3uuKen/cfbI8RcQVQag6AUnMAlNoYzwDEzwk2oL8R/XoMfTH6IvTVaL6H9x3oC6MOn7d/PXo1enH0i9f2fAc915/zl7gCKDUHQKk5AEptCmeAkqPRZ6OHfu7QQlO6p3tjTJgrgFJzAJSaA6DUFsIZgPhOLF7v/yU079HNhvc//BbNd7LxTDBprgBKzQFQag6AUluIZ4CS5ei16GPQ+8W03YO+AH0W+q5IxBVAqTkASs0BUGoZzwAlr0a/F/1+9Eo0n/uzFP3GmO1h9P1o3g9wJfo/6CvQz4Ve4gqg1BwApeYASJIkSZIkSZIkSZIkSZIkSZIkaVJeBNUoPJJNEAyuAAAAAElFTkSuQmCC",alt:"",className:"basketballico"}),(0,ze.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN5SURBVHgB1VpJa1UxFP6cFo4Fh6p1QFEUFEHculWpKAi1diUuu9Cqreg/cOlUBUHdiCCoxYUgFqoI7kRXxSpO4FC1ioJYFcdSz2du2/vycm+SO7x33wdfae89Sb6Te5KcJAXcsFDYJRwUDleQd23CJsIOiu8VzkTlMYwM0BVUdFk4DzWIkbAppPjxDjaZfMZq4iqUE1eE81GDWCH8BPeZ45vwvvCQcAoKggVQg/gL/KbBx8JlqDFMFzYJn2LMicJ8CR9w3XgD5cRB1ChaoBy4hxpFHZQDg8gJ4yzvmUZsE24VLhEuEk5Fvvgu7Be+EF4XXhO+hSfmCDuFf1DZ5M3EIeEFeKxB7G3f6bIS/CzcaBO/W/i3AGKjyIjYFSWePT9kKNQnbBeuRv7xj6ANttUhfGjQ80u4Xi/UgPKwoWGbcAKqB7a9T/gbpdq4vpQsjmdRLn4DigPGvu7E6OLIqVKfbdpQPOxHqcYBBNuBPSiP+biwaQkKk81Ijy1QIcG5f3OMHbe/j1CqdR1f3NAetiMeAyHbd0iP/lB9ry22B1CqtYOfQE93eyyVhLeWld7g6Nrq6UCD9tDWC1mjFWMh1GqxfaX9PY0/9HlWx0jM2xYZ1zFhi3nb+3CbZ1wccBHvMyZsMW97X+KAy6lE4WH7Ajugetal97fDDoYFe5m925jgvXcIxVXgYm+D6zpgar8QDvisA3r7icbA+9DvA6gykjjA7HAkldiL9PBZB4zIOiTYKRz4N4UfA/YEz2x7cBekHgNxmCXsRvRM1R3YpEFuDvAgoBf26ZYZZZqj+lwcmA2zeM4qXw3Pe4MySZC5A1HiD0ONh7nCB8jOiUwdiAqbIwa7PmQTTpk5ECX+eIR9Pcp3VEmcyMSBKPEnLeV4z/Ac6Zwoc0C/+51hqSAq5k/DbZ5fDHXumWRM1MEQqnpsNsFf/Dn4LVJLoWYoXyeaNfv/mcAx7eETmBebKPHnkSwlWY6xCxAXJ3hh8kyzXckXq1B+HsqKuZVkOHHfyTTXNAAvIt3JHQWYdnw8UmwM2qaGZoP42+GKOg2V2MhrV5d/VbCBHfjBs+0fwrXhSiZBJVyuFXQFZbLCGrjvvRktO02VUNAJxF9qsDDHTB4Hvrz9uYN48Uy5N9kq4ic9CrX8M4/hxTXj/xRUT+UNHvNfEr4U/oTaa9+CuruYrBv/A4uwpmt9ppUtAAAAAElFTkSuQmCC",alt:"",className:"gameico"})]})})}),(0,ze.jsxs)("div",{className:"filter_for_mobile",children:[(0,ze.jsxs)("div",{className:"mobile-filters",children:[(0,ze.jsx)("button",{className:"create-filter",onClick:function(){return g(!0),document.querySelector("body").classList.toggle("no-scroll")},children:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b"}),(0,ze.jsxs)("div",{className:"mobile-cyber-filter-container",children:[(0,ze.jsx)("img",{src:St,className:"play-ico",alt:""}),(0,ze.jsx)("div",{className:"mobile-cyber-filter",onClick:function(){return v(!p)}})]})]}),(0,ze.jsx)("div",{className:"create-f",children:(0,ze.jsx)("button",{className:"create-f-btn",onClick:x,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043d\u043a\u0435\u0442\u0443+"})}),(0,ze.jsx)("div",{className:"create-f-mobile",children:(0,ze.jsx)("button",{className:"create-f-btn",onClick:x,children:"+"})})]}),y&&(0,ze.jsx)(ze.Fragment,{children:(0,ze.jsx)("div",{className:"filter-window",children:(0,ze.jsxs)("div",{className:"filter-window-title",children:[(0,ze.jsxs)("div",{className:"filters-mobile",children:[!p&&(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("h1",{children:"\u0421\u043f\u043e\u0440\u0442"}),(0,ze.jsx)("p",{className:"\u0411\u0430\u0441\u043a\u0435\u0442\u0431\u043e\u043b"==b?"filter-mobile select-mobile":"filter-mobile",onClick:function(){return _("\u0411\u0430\u0441\u043a\u0435\u0442\u0431\u043e\u043b")},children:"\u0411\u0430\u0441\u043a\u0435\u0442\u0431\u043e\u043b"}),(0,ze.jsx)("p",{className:"\u0412\u043e\u043b\u0435\u0439\u0431\u043e\u043b"==b?"filter-mobile select-mobile":"filter-mobile",onClick:function(){return _("\u0412\u043e\u043b\u0435\u0439\u0431\u043e\u043b")},children:"\u0412\u043e\u043b\u0435\u0439\u0431\u043e\u043b"}),(0,ze.jsx)("p",{className:"\u041c\u0438\u043d\u0438-\u0424\u0443\u0442\u0431\u043e\u043b"==b?"filter-mobile select-mobile":"filter-mobile",onClick:function(){return _("\u041c\u0438\u043d\u0438-\u0444\u0443\u0442\u0431\u043e\u043b")},children:"\u041c\u0438\u043d\u0438-\u0424\u0443\u0442\u0431\u043e\u043b"}),(0,ze.jsx)("p",{className:"\u041d\u0430\u0441\u0442\u043e\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u043d\u043d\u0438\u0441"==b?"filter-mobile select-mobile":"filter-mobile",onClick:function(){return _("\u041d\u0430\u0441\u0442\u043e\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u043d\u043d\u0438\u0441")},children:"\u041d\u0430\u0441\u0442\u043e\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u043d\u043d\u0438\u0441"}),(0,ze.jsx)("p",{className:"\u0411\u0430\u0434\u043c\u0438\u043d\u0442\u043e\u043d"==b?"filter-mobile select-mobile":"filter-mobile",onClick:function(){return _("\u0411\u0430\u0434\u043c\u0438\u043d\u0442\u043e\u043d")},children:"\u0411\u0430\u0434\u043c\u0438\u043d\u0442\u043e\u043d"})]}),p&&(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("h1",{children:"\u041a\u0438\u0431\u0435\u0440\u0441\u043f\u043e\u0440\u0442"}),(0,ze.jsx)("p",{className:"Dota 2"==b?"filter-mobile select-mobile":"filter-mobile",onClick:function(){return _("Dota 2")},children:"Dota 2"}),(0,ze.jsx)("p",{className:"CS:GO"==b?"filter-mobile select-mobile":"filter-mobile",onClick:function(){return _("CS:GO")},children:"CS:GO"}),(0,ze.jsx)("p",{className:"The Finals"==b?"filter-mobile select-mobile":"filter-mobile",onClick:function(){return _("The Finals")},children:"The Finals"}),(0,ze.jsx)("p",{className:"Rust"==b?"filter-mobile select-mobile":"filter-mobile",onClick:function(){return _("Rust")},children:"Rust"})]})]}),(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,ze.jsx)("img",{src:_t,onClick:function(){return g(!1),document.querySelector("body").classList.toggle("no-scroll")},className:"cross-img-filter",alt:""}),(0,ze.jsx)("p",{style:{margin:"0",cursor:"pointer"},onClick:function(){s(p?n.filter((function(e){return"Dota 2"==e.sport||"CS:GO"==e.sport||"The Finals"==e.sport||"Rust"==e.sport})):n.filter((function(e){return"\u0411\u0430\u0441\u043a\u0435\u0442\u0431\u043e\u043b"==e.sport||"\u0412\u043e\u043b\u0435\u0439\u0431\u043e\u043b"==e.sport||"\u041c\u0438\u043d\u0438-\u0444\u0443\u0442\u0431\u043e\u043b"==e.sport||"\u041d\u0430\u0441\u0442\u043e\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u043d\u043d\u0438\u0441"==e.sport||"\u0411\u0430\u0434\u043c\u0438\u043d\u0442\u043e\u043d"==e.sport}))),g(!1),w("")},children:"\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0432\u0441\u0435 \u0444\u0438\u043b\u044c\u0442\u044b"})]})]})})}),(0,ze.jsx)("div",{className:"forms",children:(0,ze.jsx)(hh,{forms:u})}),S&&(0,ze.jsx)(ze.Fragment,{children:(0,ze.jsx)("div",{className:"createWindow",children:(0,ze.jsxs)("div",{className:"createField",children:[(0,ze.jsx)("img",{src:_t,className:"createFieldClose",onClick:x,alt:""}),(0,ze.jsx)("h1",{className:"createFieldTitle",children:"\u0410\u043d\u043a\u0435\u0442\u0430 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430"}),(0,ze.jsxs)("form",{className:"createForm",onSubmit:h,children:[(0,ze.jsxs)("select",{className:"createFormInput reg_filter",name:"",id:"sport",children:[(0,ze.jsx)("option",{value:"\u041c\u0438\u043d\u0438-\u0444\u0443\u0442\u0431\u043e\u043b",children:"\u041c\u0438\u043d\u0438-\u0444\u0443\u0442\u0431\u043e\u043b"}),(0,ze.jsx)("option",{value:"\u0411\u0430\u0441\u043a\u0435\u0442\u0431\u043e\u043b",children:"\u0411\u0430\u0441\u043a\u0435\u0442\u0431\u043e\u043b"}),(0,ze.jsx)("option",{value:"\u0412\u043e\u043b\u0435\u0439\u0431\u043e\u043b",children:"\u0412\u043e\u043b\u0435\u0439\u0431\u043e\u043b"}),(0,ze.jsx)("option",{value:"Dota 2",children:"Dota 2"}),(0,ze.jsx)("option",{value:"The Finals",children:"The Finals"})]}),(0,ze.jsx)("input",{className:"createFormInput",id:"link",type:"text",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043b\u044e\u0431\u0443\u044e \u0441\u043e\u0446 \u0441\u0435\u0442\u044c"}),(0,ze.jsx)("textarea",{className:"createFormArea",name:"",id:"area",placeholder:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0430\u043d\u043a\u0435\u0442\u044b"}),(0,ze.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,ze.jsx)("input",{type:"submit",className:"createFormBtn",value:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"}),l&&(0,ze.jsx)("p",{className:"err-txt",children:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f!"})]})]})]})})})]})]})})},vh=p((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Network Error";l(this,e),this.status=t,this.text=n})),mh={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:function(){if("undefined"!==typeof localStorage)return{get:function(e){return Promise.resolve(localStorage.getItem(e))},set:function(e,t){return Promise.resolve(localStorage.setItem(e,t))},remove:function(e){return Promise.resolve(localStorage.removeItem(e))}}}()},yh=function(e){return e?"string"===typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{}},gh=function(){var e=yt(vt().mark((function e(t,n){var r,i,a,o,u=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:{},e.next=3,fetch(mh.origin+t,{method:"POST",headers:r,body:n});case 3:return i=e.sent,e.next=6,i.text();case 6:if(a=e.sent,o=new vh(i.status,a),!i.ok){e.next=10;break}return e.abrupt("return",o);case 10:throw o;case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),kh=function(e,t,n){if(!e||"string"!==typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!==typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||"string"!==typeof n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},bh=function(e){if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},wh=function(e){return e.webdriver||!e.languages||0===e.languages.length},xh=function(){return new vh(451,"Unavailable For Headless Browser")},_h=function(e,t){if(function(e){var t;return!(null!==(t=e.list)&&void 0!==t&&t.length)||!e.watchVariable}(e))return!1;!function(e,t){if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!==typeof t)throw"The BlockList watchVariable has to be a string"}(e.list,e.watchVariable);var n,r,i=(n=t,r=e.watchVariable,n instanceof FormData?n.get(r):n[r]);return"string"===typeof i&&e.list.includes(i)},Ih=function(){return new vh(403,"Forbidden")},Sh=function(e,t){if("number"!==typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!==typeof t)throw"The LimitRate ID has to be a string"},Eh=function(){var e=yt(vt().mark((function e(t,n,r){var i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Number,e.next=3,r.get(t);case 3:if(e.t1=e.sent,e.t1){e.next=6;break}e.t1=0;case 6:return e.t2=e.t1,i=(0,e.t0)(e.t2),e.abrupt("return",n-Date.now()+i);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Th=function(){var e=yt(vt().mark((function e(t,n,r){var i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.throttle&&r){e.next=2;break}return e.abrupt("return",!1);case 2:return Sh(n.throttle,n.id),i=n.id||t,e.next=6,Eh(i,n.throttle,r);case 6:if(!(e.sent>0)){e.next=9;break}return e.abrupt("return",!0);case 9:return e.next=11,r.set(i,Date.now().toString());case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ch=function(){return new vh(429,"Too Many Requests")},Ah=function(){var e=yt(vt().mark((function e(t,n,r,i){var a,o,u,s,c,l,f;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=yh(i),o=a.publicKey||mh.publicKey,u=a.blockHeadless||mh.blockHeadless,s=mh.storageProvider||a.storageProvider,c=Nn(Nn({},mh.blockList),a.blockList),l=Nn(Nn({},mh.limitRate),a.limitRate),!u||!wh(navigator)){e.next=8;break}return e.abrupt("return",Promise.reject(xh()));case 8:if(kh(o,t,n),bh(r),!r||!_h(c,r)){e.next=12;break}return e.abrupt("return",Promise.reject(Ih()));case 12:return e.next=14,Th(location.pathname,l,s);case 14:if(!e.sent){e.next=16;break}return e.abrupt("return",Promise.reject(Ch()));case 16:return f={lib_version:"4.3.3",user_id:o,service_id:t,template_id:n,template_params:r},e.abrupt("return",gh("/api/v1.0/email/send",JSON.stringify(f),{"Content-type":"application/json"}));case 18:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),Nh=function(e){if(!e||"FORM"!==e.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},Dh=function(e){return"string"===typeof e?document.querySelector(e):e},Rh=function(){var e=yt(vt().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=yh(i),o=a.publicKey||mh.publicKey,u=a.blockHeadless||mh.blockHeadless,s=mh.storageProvider||a.storageProvider,c=Nn(Nn({},mh.blockList),a.blockList),l=Nn(Nn({},mh.limitRate),a.limitRate),!u||!wh(navigator)){e.next=8;break}return e.abrupt("return",Promise.reject(xh()));case 8:if(f=Dh(r),kh(o,t,n),Nh(f),h=new FormData(f),!_h(c,h)){e.next=14;break}return e.abrupt("return",Promise.reject(Ih()));case 14:return e.next=16,Th(location.pathname,l,s);case 16:if(!e.sent){e.next=18;break}return e.abrupt("return",Promise.reject(Ch()));case 18:return h.append("lib_version","4.3.3"),h.append("service_id",t),h.append("template_id",n),h.append("user_id",o),e.abrupt("return",gh("/api/v1.0/email/send-form",h));case 23:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),Ph={init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://api.emailjs.com";if(e){var n=yh(e);mh.publicKey=n.publicKey,mh.blockHeadless=n.blockHeadless,mh.storageProvider=n.storageProvider,mh.blockList=n.blockList,mh.limitRate=n.limitRate,mh.origin=n.origin||t}},send:Ah,sendForm:Rh,EmailJSResponseStatus:vh};var Oh=function(){var e=/^(((?:(?![\t-\r "\(\),\.:-<>@\[\]\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[\s\S]|[\uD800-\uDBFF][\uDC00-\uDFFF])+(\.(?:(?![\t-\r "\(\),\.:-<>@\[\]\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[\s\S]|[\uD800-\uDBFF][\uDC00-\uDFFF])+)*)|("(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+"))@(((?:(?![\t-\r "\(\),\.:-<>@\[\]\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[\s\S]|[\uD800-\uDBFF][\uDC00-\uDFFF])+\.)+(?:(?![\t-\r "\(\),\.:-<>@\[\]\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[\s\S]|[\uD800-\uDBFF][\uDC00-\uDFFF]){2,})$/i,t=(0,r.useRef)(null),n=function(){var n=yt(vt().mark((function n(r){var i,a,o;return vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),i=document.querySelector(".name-input").value,a=document.querySelector(".email-input").value,o=document.querySelector(".fitback-input").value,null==i||""==i||null==a||""==a||(u=a,!e.test(u))||""==o||null==o){n.next=13;break}if(document.querySelector(".send-btn").classList.add("close"),document.querySelector(".send-label").classList.remove("close"),document.querySelector(".warning1").classList.add("close"),!t.current){n.next=11;break}return n.next=11,Ph.sendForm("service_lfy69vd","template_ofk1i5e",t.current,{publicKey:"_gou7K9fSLK-5td8t"}).then((function(e){console.log("SUCCESS!",e.status,e.text)}),(function(e){console.error("FAILED...",e.text)}));case 11:n.next=14;break;case 13:document.querySelector(".warning1").classList.remove("close");case 14:case"end":return n.stop()}var u}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,ze.jsxs)("div",{className:"About",children:[(0,ze.jsx)("h1",{className:"about-txt",children:"\u041e \u043d\u0430\u0441"}),(0,ze.jsxs)("div",{className:"section",children:[(0,ze.jsxs)("div",{className:"section1",children:[(0,ze.jsx)("p",{className:"about-txt",children:"\u041d\u0430\u0448\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u043c\u043e\u043b\u043e\u0434\u044b\u0445 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432 \u0441\u043e\u0437\u0434\u0430\u043b\u0430 \u0432\u0435\u0431-\u0441\u0435\u0440\u0432\u0438\u0441 \u043f\u043e \u043f\u043e\u0438\u0441\u043a\u0443 \u0441\u043e\u043a\u043e\u043c\u0435\u043d\u0434\u043d\u0438\u043a\u043e\u0432 \u0432 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0441\u043f\u043e\u0440\u0442\u0438\u043d\u044b\u0435 \u0438 \u043a\u0438\u0431\u0435\u0440\u0441\u043f\u043e\u0440\u0442\u0438\u043d\u044b\u0435 \u0434\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d\u044b. \u0412\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 \u0430\u043d\u043a\u0435\u0442\u044b \u043a\u0430\u0436\u0434\u044b\u0439 \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u0431\u043e\u0431\u0440\u0430\u0442\u044c \u0441\u0435\u0431\u0435 \u0441\u043e\u043a\u043e\u043c\u0430\u043d\u0434\u043d\u0438\u043a\u043e\u0432 \u0438\u043b\u0438 \u043d\u0430\u0439\u0442\u0438 \u0443\u0436\u0435 \u0441\u043e\u0431\u0440\u0430\u043d\u043d\u0443\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u0443. \u0422\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0432 \u0444\u0438\u043b\u044c\u0442\u0440\u0435 \u0441\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u0443\u044e \u0434\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d\u0443, \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0432\u044b \u0438\u0449\u0438\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443. \u041d\u0430\u0448\u0430 \u043c\u0438\u0441\u0441\u0438\u044f - \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0438 \u043f\u043e\u043c\u043e\u0447\u044c \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0435."}),(0,ze.jsx)("img",{src:It,alt:"",className:"strong1"})]}),(0,ze.jsxs)("form",{ref:t,className:"fitback-form",onSubmit:n,children:[(0,ze.jsx)("h2",{className:"about-txt",children:"\u041f\u043e\u043c\u043e\u0433\u0438\u0442\u0435 \u0443\u043b\u0443\u0447\u0448\u0438\u0442\u044c \u043d\u0430\u0441 \u0441\u0435\u0440\u0432\u0438\u0441, \u043e\u0441\u0442\u0430\u0432\u0438\u0432 \u0441\u0432\u043e\u0439 \u043e\u0442\u0437\u044b\u0432"}),(0,ze.jsx)("label",{htmlFor:"name",className:"labels",children:"\u0424\u0418\u041e"}),(0,ze.jsx)("input",{type:"text",name:"username",placeholder:"\u0418\u0432\u0430\u043d\u043e\u0432 \u0418\u0432\u0430\u043d \u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447",className:"name-input"}),(0,ze.jsx)("label",{htmlFor:"name",className:"labels",children:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"}),(0,ze.jsx)("input",{type:"email",name:"usermail",placeholder:"example@mail.ru",className:"email-input"}),(0,ze.jsx)("label",{htmlFor:"name",className:"labels",children:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"}),(0,ze.jsx)("input",{type:"tel",name:"userphone",placeholder:"+79999999999",className:"tel-input"}),(0,ze.jsx)("label",{htmlFor:"name",className:"labels",children:"\u041e\u0442\u0437\u044b\u0432"}),(0,ze.jsx)("textarea",{name:"message",placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u043c\u043d\u0435\u043d\u0438\u0435 \u043e \u0441\u0435\u0440\u0432\u0438\u0441\u0435",id:"",cols:"30",rows:"10",className:"fitback-input"}),(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",gap:"15px"},children:[(0,ze.jsx)("input",{className:"send-btn",type:"submit",value:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",onClick:n}),(0,ze.jsx)("p",{className:"warning1 close",children:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0432\u0435\u0440\u043d\u043e!"}),(0,ze.jsx)("p",{className:"send-label close",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u2713"})]})]})]})]})};var Lh=function(){var e=E((0,r.useState)(!1),2),t=e[0],n=e[1],i=lh().user;function a(){document.querySelector(".nav-toggle").classList.remove("opened"),n(!1),document.querySelector("body").classList.remove("no-scroll"),window.scrollTo(0,0)}return(0,ze.jsxs)("div",{children:[(0,ze.jsxs)("div",{className:"header",children:[(0,ze.jsxs)("div",{className:"container",children:[(0,ze.jsx)(et,{to:"/",children:(0,ze.jsx)("img",{src:gt,alt:"",className:"logo"})}),(0,ze.jsxs)("div",{className:"Info",children:[(0,ze.jsx)("div",{children:(0,ze.jsx)(et,{to:"/",className:"infoTxt",children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})}),(0,ze.jsx)("div",{children:(0,ze.jsx)(et,{to:"/About",className:"infoTxt",children:"\u041e \u043d\u0430\u0441"})}),null!=i&&(0,ze.jsx)("div",{children:(0,ze.jsx)(et,{to:"/Menu",className:"infoTxt",children:"\u0410\u043d\u043a\u0435\u0442\u044b"})}),null===i&&(0,ze.jsx)("div",{children:(0,ze.jsx)(et,{to:"/Login",className:"loginbtn",children:"\u0412\u043e\u0439\u0442\u0438"})}),null!==i&&(0,ze.jsx)(et,{to:"/Login",className:"infoTxt",children:(0,ze.jsx)("img",{src:Tt,className:"userico",alt:""})})]})]}),(0,ze.jsxs)("div",{className:"container_for_mobile",children:[(0,ze.jsx)(et,{to:"/",children:(0,ze.jsx)("img",{src:kt,alt:"",className:"logo_mobile"})}),(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"10px",alignItems:"center"},children:[null===i&&(0,ze.jsx)("div",{children:(0,ze.jsx)(et,{to:"/Login",onClick:a,className:"loginbtn",children:"\u0412\u043e\u0439\u0442\u0438"})}),null!==i&&(0,ze.jsx)(et,{to:"/Login",onClick:a,className:"infoTxt",children:(0,ze.jsx)("img",{src:Tt,className:"userico",alt:""})}),(0,ze.jsxs)("button",{class:"nav-toggle",onClick:function(){document.querySelector(".nav-toggle").classList.toggle("opened"),n(!t),document.querySelector("body").classList.toggle("no-scroll"),window.scrollTo(0,0)},children:[(0,ze.jsx)("span",{class:"bar-top"}),(0,ze.jsx)("span",{class:"bar-mid"}),(0,ze.jsx)("span",{class:"bar-bot"})]})]})]})]}),t&&(0,ze.jsxs)("div",{className:"menu",children:[(0,ze.jsx)(et,{to:"/",onClick:a,className:"menu_title",children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"}),(0,ze.jsx)(et,{to:"/About",onClick:a,className:"menu_title",children:"\u041e \u043d\u0430\u0441"}),null!=i&&(0,ze.jsx)(et,{to:"/Menu",onClick:a,className:"menu_title",children:"\u0410\u043d\u043a\u0435\u0442\u044b"})]})]})};var Fh=function(){return(0,ze.jsx)("div",{className:"footer",children:(0,ze.jsxs)("div",{className:"linkbar",children:[(0,ze.jsx)("a",{href:"https://edu.mmcs.sfedu.ru/",children:(0,ze.jsx)("img",{className:"linkimg moodle",src:xt,alt:""})}),(0,ze.jsx)("a",{href:"https://sfedu.ru",children:(0,ze.jsx)("img",{className:"linkimg sfedu",src:bt,alt:""})}),(0,ze.jsx)("a",{href:"https://github.com/4th-KiNG/TeamSearch",children:(0,ze.jsx)("img",{className:"linkimg github",src:wt,alt:""})})]})})},Mh=function(){var e=E((0,r.useState)("login"),2),t=e[0],n=e[1],i=E((0,r.useState)(!1),2),a=i[0],o=i[1],u=lh(),s=u.user,c=u.GetMyForms,l=u.CreateUser,f=u.userNotFound,h=u.setNotFound,d=u.LoginUser,p=u.LogOut,v=u.UpdateUser,m=u.UpdateUserAvatar,y=u.avatarURL,g=u.username,k=u.userage,b=u.usersex,w=u.usersport,x=u.usercity,_=u.GetUser,I=(u.userId,E((0,r.useState)(""),2)),S=I[0],T=I[1],C=E((0,r.useState)(""),2),A=C[0],N=C[1],D=E((0,r.useState)([]),2),R=D[0],P=D[1],O=E((0,r.useState)(),2),L=O[0],F=O[1],M=function(){"password"==document.querySelector(".password").type?document.querySelector(".password").type="text":document.querySelector(".password").type="password"};(0,r.useEffect)((function(){s?(n("alsologin"),_(),c(s.email).then((function(e){console.log(e),P(e)}))):(T(""),N(""),n("login"))}),[s]);var U=function(){o(!a),F(!1),document.querySelector("body").classList.toggle("no-scroll")},j=function(e){T(e.target.value)},V=function(e){N(e.target.value)},B=function(){var e=yt(vt().mark((function e(){var t,n,r,i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.querySelector(".lk-name").value,n=document.querySelector(".lk-age").value,r=document.querySelector(".lk-sex").value,i=document.querySelector(".lk-sport").value,a=document.querySelector(".lk-city").value,!(""!=n&&n<0)){e.next=9;break}F(!0),e.next=14;break;case 9:return e.next=11,v(t,n,r,i,a);case 11:return e.next=13,_();case 13:U();case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=E((0,r.useState)(g),2),t=e[0],n=e[1],i=E((0,r.useState)(k),2),a=i[0],o=i[1],u=E((0,r.useState)(b),2),s=u[0],c=u[1],l=E((0,r.useState)(w),2),f=l[0],h=l[1],d=E((0,r.useState)(x),2),p=d[0],v=d[1];return(0,ze.jsx)("div",{className:"form1",children:(0,ze.jsxs)("div",{className:"form-container",children:[(0,ze.jsx)("img",{src:_t,onClick:U,className:"close-btn",alt:""}),(0,ze.jsxs)("div",{className:"info-reduct",children:[(0,ze.jsxs)("p",{children:["\u0424\u0418\u041e: ",(0,ze.jsx)("input",{type:"text",value:t,onChange:function(e){return n(e.target.value)},className:"lk-name"})]}),(0,ze.jsxs)("p",{children:["\u0412\u043e\u0437\u0440\u0430\u0441\u0442: ",(0,ze.jsx)("input",{type:"number",value:a,onChange:function(e){return o(e.target.value)},className:"lk-age"})]}),(0,ze.jsxs)("p",{children:["\u041f\u043e\u043b: ",(0,ze.jsx)("input",{type:"text",value:s,onChange:function(e){return c(e.target.value)},className:"lk-sex"})]}),(0,ze.jsxs)("p",{children:["\u041f\u0440\u043e\u0444\u0438\u043b\u044c\u043d\u044b\u0439 \u0441\u043f\u043e\u0440\u0442: ",(0,ze.jsx)("input",{type:"text",value:f,onChange:function(e){return h(e.target.value)},className:"lk-sport",name:"",id:""})]}),(0,ze.jsxs)("p",{children:["\u0413\u043e\u0440\u043e\u0434: ",(0,ze.jsx)("input",{type:"text",value:p,onChange:function(e){return v(e.target.value)},className:"lk-city",name:"",id:""})]})]}),(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,ze.jsx)("button",{className:"save-btn",onClick:B,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),L&&(0,ze.jsx)("p",{style:{color:"#c82f00"},children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c"})]})]})})};return(0,ze.jsxs)("div",{className:"Login",children:["reg"===t&&(0,ze.jsxs)("div",{className:"form",children:[(0,ze.jsx)("div",{className:"formimg",children:(0,ze.jsx)("img",{src:Et,alt:""})}),(0,ze.jsxs)("div",{className:"forminput",children:[(0,ze.jsxs)("div",{className:"inputs",children:[(0,ze.jsx)("h1",{className:"formtxt",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),(0,ze.jsxs)("div",{className:"input-with-ico",children:[(0,ze.jsx)("img",{src:Ct,className:"input-ico",alt:""}),(0,ze.jsx)("input",{type:"email",placeholder:"email",value:S,onChange:j,className:"logininput"})]}),(0,ze.jsxs)("div",{className:"input-with-ico",children:[(0,ze.jsx)("img",{src:At,className:"input-ico",alt:""}),(0,ze.jsx)("input",{type:"password",placeholder:"password",value:A,onChange:V,className:"logininput password"}),(0,ze.jsx)("img",{src:Nt,onClick:M,className:"input-ico",alt:""})]}),f&&(0,ze.jsx)("p",{style:{color:"#c82f00",textAlign:"center"},children:"\u041f\u043e\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e!"})]}),(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[(0,ze.jsx)("button",{className:"mainbutton",onClick:function(){return l(S,A)},children:"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),(0,ze.jsx)("button",{className:"smallbutton",onClick:function(){n("login"),T(""),N(""),h(!1)},children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]}),"login"===t&&(0,ze.jsxs)("div",{className:"form",children:[(0,ze.jsx)("div",{children:(0,ze.jsx)("img",{src:Et,className:"formimg",alt:""})}),(0,ze.jsxs)("div",{className:"forminput",children:[(0,ze.jsxs)("div",{className:"inputs",children:[(0,ze.jsx)("h1",{className:"formtxt",children:"\u0412\u0445\u043e\u0434"}),(0,ze.jsxs)("div",{className:"input-with-ico",children:[(0,ze.jsx)("img",{src:Ct,className:"input-ico",alt:""}),(0,ze.jsx)("input",{type:"email",placeholder:"email",value:S,onChange:j,className:"logininput"})]}),(0,ze.jsxs)("div",{className:"input-with-ico",children:[(0,ze.jsx)("img",{src:At,className:"input-ico",alt:""}),(0,ze.jsx)("input",{type:"password",placeholder:"password",value:A,onChange:V,className:"logininput password"}),(0,ze.jsx)("img",{src:Nt,onClick:M,className:"input-ico",alt:""})]}),f&&(0,ze.jsx)("p",{style:{color:"#c82f00",textAlign:"center"},children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d!"})]}),(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[(0,ze.jsx)("button",{className:"mainbutton",onClick:function(){return d(S,A)},children:"\u0412\u043e\u0439\u0442\u0438"}),(0,ze.jsx)("button",{className:"smallbutton",onClick:function(){n("reg"),T(""),N(""),h(!1)},children:"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]})]}),"alsologin"===t&&(0,ze.jsx)("div",{className:"alsoLog",children:(0,ze.jsxs)("div",{className:"page",children:[(0,ze.jsxs)("div",{className:"avatar-and-buttons",children:[(0,ze.jsxs)("div",{className:"avatar",children:[(0,ze.jsx)("input",{type:"file",onChange:m,className:"input-photo"}),(0,ze.jsx)("img",{src:""==y||null==y?Dt:y,style:{width:"100%",height:"100%",borderRadius:"50%"},alt:""})]}),(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,ze.jsx)("button",{className:"button-lk",onClick:p,children:"\u0412\u044b\u0445\u043e\u0434"}),(0,ze.jsx)("button",{className:"button-lk",onClick:U,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0430\u043d\u043a\u0435\u0442\u0443"})]})]}),(0,ze.jsxs)("div",{className:"contact-information",children:[(0,ze.jsx)("h1",{className:"contact-information-title",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),(0,ze.jsxs)("p",{className:"contact-information-txt",children:["\u0424\u0418\u041e: ",g]}),(0,ze.jsxs)("p",{className:"contact-information-txt",children:["Email: ",s?s.email:""]}),(0,ze.jsxs)("p",{className:"contact-information-txt",children:["\u041f\u043e\u043b: ",b]}),(0,ze.jsxs)("p",{className:"contact-information-txt",children:["\u0412\u043e\u0437\u0440\u0430\u0441\u0442: ",k]}),(0,ze.jsxs)("p",{className:"contact-information-txt",children:["\u041f\u0440\u043e\u0444\u0438\u043b\u044c\u043d\u044b\u0439 \u0441\u043f\u043e\u0440\u0442: ",w]}),(0,ze.jsxs)("p",{className:"contact-information-txt",children:["\u0413\u043e\u0440\u043e\u0434: ",x]})]}),(0,ze.jsxs)("div",{className:"cards",children:[(0,ze.jsx)("h1",{style:{textAlign:"center"},className:"contact-information-title",children:"\u041c\u043e\u0438 \u0430\u043d\u043a\u0435\u0442\u044b"}),R.map((function(e){return(0,ze.jsx)(ze.Fragment,{children:(0,ze.jsx)(et,{style:{textDecoration:"none"},to:"/form/".concat(e.id),children:(0,ze.jsx)("div",{className:"lk-card",children:(0,ze.jsxs)("p",{children:["\u0412\u0438\u0434 \u0441\u043f\u043e\u0440\u0442\u0430: ",e._delegate._document.data.value.mapValue.fields.sport.stringValue]})})})})}))]}),a&&(0,ze.jsx)(z,{})]})})]})};var Uh=function(){var e=function(){var e=r.useContext(ge).matches,t=e[e.length-1];return t?t.params:{}}().id,t=_e(),n=lh(),i=n.GetFormById,a=n.GetUserByEmail,o=n.DeleteForm,u=n.user,s=E((0,r.useState)(),2),c=s[0],l=s[1],f=E((0,r.useState)(),2),h=f[0],d=f[1],p=E((0,r.useState)(),2),v=p[0],m=p[1],y=E((0,r.useState)(),2),g=y[0],k=y[1],b=E((0,r.useState)(),2),w=b[0],x=b[1],_=E((0,r.useState)(),2),I=_[0],S=_[1],T=E((0,r.useState)(),2),C=T[0],A=T[1],N=E((0,r.useState)(),2),D=N[0],R=N[1],P=E((0,r.useState)(),2),O=P[0],L=P[1];return(0,r.useEffect)((function(){h&&a(h).then((function(e){m(e.name.stringValue),k(e.age.stringValue),L(e.avatarURL.stringValue),x(e.sex.stringValue)}))}),[h]),(0,r.useEffect)((function(){i(e).then((function(e){l(e._delegate._document.data.value.mapValue.fields)}))}),[]),(0,r.useEffect)((function(){c&&(d(c.userEmail.stringValue),S(c.sport.stringValue),A(c.link.stringValue),R(c.description.stringValue))}),[c]),(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("h1",{className:"contact-information-title",style:{backgroundColor:"white",marginBottom:"0",paddingTop:"10px",textAlign:"center"},children:"\u0417\u0430\u044f\u0432\u043a\u0430 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430"}),(0,ze.jsxs)("div",{className:"CardPage",children:[(0,ze.jsxs)("div",{className:"CardPageAvatar",children:[(0,ze.jsx)("div",{className:"avatar",children:(0,ze.jsx)("img",{style:{width:"100%",height:"100%",borderRadius:"50%"},src:""==O?Dt:O,alt:""})}),(0,ze.jsx)("p",{style:{textAlign:"center"},className:"contact-information-txt",children:v}),h==u.email&&(0,ze.jsx)("button",{className:"button-lk",onClick:function(){t("/Menu"),o(e)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0430\u043d\u043a\u0435\u0442\u0443"})]}),(0,ze.jsxs)("div",{className:"contact-information in-card",children:[(0,ze.jsxs)("p",{className:"contact-information-txt",children:["\u0412\u0438\u0434 \u0441\u043f\u043e\u0440\u0442\u0430: ",I]}),(0,ze.jsxs)("p",{className:"contact-information-txt",children:["\u0412\u043e\u0437\u0440\u0430\u0441\u0442: ",g]}),(0,ze.jsxs)("p",{className:"contact-information-txt",children:["\u041f\u043e\u043b: ",w]}),(0,ze.jsxs)("p",{className:"contact-information-txt",children:["\u0421\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u0441\u043e\u0446 \u0441\u0435\u0442\u0438: ",C]}),(0,ze.jsx)("p",{className:"contact-information-txt",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"}),(0,ze.jsx)("div",{className:"contact-information-txt",children:""!=D&&(0,ze.jsx)("p",{className:"desc",children:D})})]})]})]})};function jh(){return window}var Vh=2e3;function Bh(e,t,n){return zh.apply(this,arguments)}function zh(){return(zh=yt(vt().mark((function e(t,n,r){var i,a,o,u,s;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=jh(),o=a.BuildInfo,di(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Qh(n.sessionId);case 4:return u=e.sent,s={},Ca()?s.ibi=o.packageName:Sa()?s.apn=o.packageName:ai(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",ll(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qh(){return(qh=yt(vt().mark((function e(t){var n,r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=jh(),r=n.BuildInfo,i={},Ca()?i.iosBundleId=r.packageName:Sa()?i.androidPackageName=r.packageName:ai(t,"operation-not-supported-in-this-environment"),e.next=5,jc(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kh(e){var t=jh().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Gh(e,t,n){return Hh.apply(this,arguments)}function Hh(){return(Hh=yt(vt().mark((function e(t,n,r){var i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jh(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(oi(t,"redirect-cancelled-by-user"))}),Vh))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Sa()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])})))).apply(this,arguments)}function Wh(e){var t,n,r,i,a,o,u,s,c,l,f=jh();fi("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),fi("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),fi("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fi("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fi("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Qh(e){return Yh.apply(this,arguments)}function Yh(){return(Yh=yt(vt().mark((function e(t){var n,r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jh(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jh(e){if(di(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Xh=20,$h=function(e){m(n,e);var t=w(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return p(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Rt(y(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Fc);function Zh(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:id(),postBody:null,tenantId:e.tenantId,error:oi(e,"no-auth-event")}}function ed(e,t){return ad()._set(od(e),t)}function td(e){return nd.apply(this,arguments)}function nd(){return(nd=yt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ad()._get(od(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,ad()._remove(od(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rd(e,t){var n,r,i=function(e){var t=ud(e),n=t.link?decodeURIComponent(t.link):void 0,r=ud(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return ud(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=ud(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?oi(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function id(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Xh;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function ad(){return va(as)}function od(e){return ga("authEvent",e.config.apiKey,e.name)}function ud(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=T(e.split("?"));t[0];return fn(t.slice(1).join("?"))}var sd=function(){function e(){l(this,e),this._redirectPersistence=us,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Rc,this._overrideRedirectResult=wc}return p(e,[{key:"_initialize",value:function(){var e=yt(vt().mark((function e(t){var n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new $h(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){ai(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=yt(vt().mark((function e(t,n,r,i){var a,o,u,s;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wh(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),vc.clear(),e.next=10,this._originValidation(t);case 10:return o=Zh(t,r,i),e.next=13,ed(t,o);case 13:return e.next=15,Bh(t,o,n);case 15:return u=e.sent,e.next=18,Kh(u);case 18:return s=e.sent,e.abrupt("return",Gh(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return qh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=jh(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(yt(vt().mark((function n(){return vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,td(e);case 2:t.onEvent(ld());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=yt(vt().mark((function n(r){var i,a;return vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,td(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=rd(i,r.url)),t.onEvent(a||ld());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");jh().handleOpenURL=function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),cd=sd;function ld(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:oi("no-auth-event")}}var fd=1e3;function hd(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function dd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return!("file:"!==hd()&&"ionic:"!==hd()&&"capacitor:"!==hd()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function pd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return Zt()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return/Edge\/\d+/.test(e)}(e)}function vd(){try{var e=self.localStorage,t=ls();if(e)return e.setItem(t,"1"),e.removeItem(t),!pd()||tn()}catch(n){return md()&&tn()}return!1}function md(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function yd(){return("http:"===hd()||"https:"===hd()||Xt()||dd())&&!($t()||Yt())&&vd()&&!md()}function gd(){return dd()&&"undefined"!==typeof document}function kd(){return bd.apply(this,arguments)}function bd(){return(bd=yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gd()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),fd);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wd={LOCAL:"local",NONE:"none",SESSION:"session"},xd=fi,_d="persistence";function Id(e,t){xd(Object.values(wd).includes(t),e,"invalid-persistence-type"),$t()?xd(t!==wd.SESSION,e,"unsupported-persistence-type"):Yt()?xd(t===wd.NONE,e,"unsupported-persistence-type"):md()?xd(t===wd.NONE||t===wd.LOCAL&&tn(),e,"unsupported-persistence-type"):xd(t===wd.NONE||vd(),e,"unsupported-persistence-type")}function Sd(e){return Ed.apply(this,arguments)}function Ed(){return(Ed=yt(vt().mark((function e(t){var n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Td(),r=ga(_d,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Td(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Cd=fi,Ad=function(){function e(){l(this,e),this.browserResolver=va(vl),this.cordovaResolver=va(cd),this.underlyingResolver=null,this._redirectPersistence=us,this._completeRedirectFn=Rc,this._overrideRedirectResult=wc}return p(e,[{key:"_initialize",value:function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=yt(vt().mark((function e(t,n,r,i){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=yt(vt().mark((function e(t,n,r,i){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return gd()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Cd(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=yt(vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,kd();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Nd(e){return e.unwrap()}function Dd(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Fd(e,function(e,t){var n,r=mn(e),i=t;return fi(t.customData.operationType,r,"argument-error"),fi(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Xu._fromError(r,i)}(e,t));else if(r){var i=Rd(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Rd(e){var t=(e instanceof nn?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof nn)&&"temporaryProof"in t&&"phoneNumber"in t)return Zs.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Gr.PASSWORD)return null;switch(r){case Gr.GOOGLE:n=Uo;break;case Gr.FACEBOOK:n=Mo;break;case Gr.GITHUB:n=jo;break;case Gr.TWITTER:n=zo;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Vo._create(r,u):Io._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Fo(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof nn?n.credentialFromError(e):n.credentialFromResult(e)}function Pd(e,t){return t.catch((function(t){throw t instanceof nn&&Dd(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Rd(t)),additionalUserInfo:Yu(e),user:Md.getOrCreate(r)}}))}function Od(e,t){return Ld.apply(this,arguments)}function Ld(){return(Ld=yt(vt().mark((function e(t,n){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Pd(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fd=function(){function e(t,n){l(this,e),this.resolver=n,this.auth=t.wrapped()}return p(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Pd(Nd(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Md=function(){function e(t){l(this,e),this._delegate=t,this.multiFactor=function(e){var t=mn(e);return ts.has(t)||ts.set(t,es._fromUser(t)),ts.get(t)}(t)}return p(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pd(this.auth,cu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Od(this.auth,Ws(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pd(this.auth,fc(this._delegate,t,Ad)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sd(Fa(this.auth));case 2:return e.abrupt("return",Cc(this._delegate,t,Ad));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pd(this.auth,fu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Od(this.auth,function(e,t,n){return Ys.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Pd(this.auth,function(e,t,n){return lc.apply(this,arguments)}(this._delegate,e,Ad))}},{key:"reauthenticateWithRedirect",value:function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sd(Fa(this.auth));case 2:return e.abrupt("return",Ec(this._delegate,t,Ad));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Fu.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xo(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){var n=mn(e);return fr(n.auth.app)?Promise.reject(si(n.auth)):Bu(n,t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Bu(mn(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return $s.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Vu.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Mu.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Md.USER_MAP=new WeakMap;var Ud=fi,jd=function(){function e(t,n){if(l(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Ud(r,"invalid-api-key",{appName:t.name}),Ud(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Ad:void 0;this._delegate=n.initialize({options:{persistence:Bd(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Zr),this.linkUnderlyingAuth()}return p(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Md.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Ha(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Iu.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Su(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return _u.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pd(this._delegate,Cu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Lu.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Ro.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=yt(vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ud(yd(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Nc(this._delegate,Ad);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Pd(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Fa(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Vd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Vd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Du.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return xu.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=yt(vt().mark((function e(t){var n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Id(this._delegate,t),e.t0=t,e.next=e.t0===wd.SESSION?4:e.t0===wd.LOCAL?6:e.t0===wd.NONE?11:13;break;case 4:return n=us,e.abrupt("break",14);case 6:return e.next=8,va(Ds)._isAvailable();case 8:return r=e.sent,n=r?Ds:as,e.abrupt("break",14);case 11:return n=ya,e.abrupt("break",14);case 13:return e.abrupt("return",ai("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Pd(this._delegate,function(e){return Wo.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Pd(this._delegate,uu(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Pd(this._delegate,function(e,t){return vu.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Pd(this._delegate,Nu(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Pd(this._delegate,function(e,t,n){return Ru.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Od(this._delegate,function(e,t,n){return Hs.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ud(yd(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Pd(this._delegate,sc(this._delegate,t,Ad)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ud(yd(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Sd(this._delegate);case 3:return e.abrupt("return",Ic(this._delegate,t,Ad));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Tu.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Vd(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Md.getOrCreate(e))},error:t,complete:n}}function Bd(e,t){var n=function(e,t){var n=Td();if(!n)return[];var r=ga(_d,e,t);switch(n.getItem(r)){case wd.NONE:return[ya];case wd.LOCAL:return[Ds,us];case wd.SESSION:return[us];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Ds)||n.push(Ds),"undefined"!==typeof window)for(var r=0,i=[as,us];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ya)||n.push(ya),n}jd.Persistence=wd;var zd=function(){function e(){l(this,e),this.providerId="phone",this._delegate=new Zs(Nd(Ul.auth()))}return p(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Zs.credential(e,t)}}]),e}();zd.PHONE_SIGN_IN_METHOD=Zs.PHONE_SIGN_IN_METHOD,zd.PROVIDER_ID=Zs.PROVIDER_ID;var qd,Kd=fi,Gd=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ul.app();l(this,e),Kd(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new qs(i.auth(),t,n),this.type=this._delegate.type}return p(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(qd=Ul).INTERNAL.registerComponent(new yn("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new jd(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Hr,PASSWORD_RESET:Wr,RECOVER_EMAIL:Qr,REVERT_SECOND_FACTOR_ADDITION:Yr,VERIFY_AND_CHANGE_EMAIL:Jr,VERIFY_EMAIL:Xr}},EmailAuthProvider:Po,FacebookAuthProvider:Mo,GithubAuthProvider:jo,GoogleAuthProvider:Uo,OAuthProvider:Fo,SAMLAuthProvider:Bo,PhoneAuthProvider:zd,PhoneMultiFactorGenerator:gl,RecaptchaVerifier:Gd,TwitterAuthProvider:zo,Auth:jd,AuthCredential:Ya,Error:nn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),qd.registerVersion("@firebase/auth-compat","0.5.6");var Hd,Wd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Qd={},Yd=Yd||{},Jd=Wd||self;function Xd(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function $d(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Zd="closure_uid_"+(1e9*Math.random()>>>0),ep=0;function tp(e,t,n){return e.call.apply(e.bind,arguments)}function np(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function rp(e,t,n){return(rp=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tp:np).apply(null,arguments)}function ip(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ap(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function op(){this.s=this.s,this.o=this.o}op.prototype.s=!1,op.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Zd)&&e[Zd]||(e[Zd]=++ep))},op.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var up=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function sp(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function cp(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Xd(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function lp(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}lp.prototype.h=function(){this.defaultPrevented=!0};var fp=function(){if(!Jd.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{var n=function(){};Jd.addEventListener("test",n,t),Jd.removeEventListener("test",n,t)}catch(n){}return e}();function hp(e){return/^[\s\xa0]*$/.test(e)}function dp(){var e=Jd.navigator;return e&&(e=e.userAgent)?e:""}function pp(e){return-1!=dp().indexOf(e)}function vp(e){return vp[" "](e),e}vp[" "]=function(){};var mp,yp,gp=pp("Opera"),kp=pp("Trident")||pp("MSIE"),bp=pp("Edge"),wp=bp||kp,xp=pp("Gecko")&&!(-1!=dp().toLowerCase().indexOf("webkit")&&!pp("Edge"))&&!(pp("Trident")||pp("MSIE"))&&!pp("Edge"),_p=-1!=dp().toLowerCase().indexOf("webkit")&&!pp("Edge");function Ip(){var e=Jd.document;return e?e.documentMode:void 0}e:{var Sp="",Ep=function(){var e=dp();return xp?/rv:([^\);]+)(\)|;)/.exec(e):bp?/Edge\/([\d\.]+)/.exec(e):kp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):_p?/WebKit\/(\S+)/.exec(e):gp?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ep&&(Sp=Ep?Ep[1]:""),kp){var Tp=Ip();if(null!=Tp&&Tp>parseFloat(Sp)){mp=String(Tp);break e}}mp=Sp}if(Jd.document&&kp){var Cp=Ip();yp=Cp||(parseInt(mp,10)||void 0)}else yp=void 0;var Ap=yp;function Np(e,t){if(lp.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(xp){e:{try{vp(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Dp[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Np.$.h.call(this)}}ap(Np,lp);var Dp={2:"touch",3:"pen",4:"mouse"};Np.prototype.h=function(){Np.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Rp="closure_listenable_"+(1e6*Math.random()|0),Pp=0;function Op(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Pp,this.fa=this.ia=!1}function Lp(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Fp(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Mp(e){var t={};for(var n in e)t[n]=e[n];return t}var Up="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jp(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Up.length;a++)n=Up[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Vp(e){this.src=e,this.g={},this.h=0}function Bp(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=up(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Lp(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function zp(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Vp.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=zp(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Op(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var qp="closure_lm_"+(1e6*Math.random()|0),Kp={};function Gp(e,t,n,r,i){if(r&&r.once)return Wp(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Gp(e,t[a],n,r,i);return null}return n=ev(n),e&&e[Rp]?e.O(t,n,$d(r)?!!r.capture:!!r,i):Hp(e,t,n,!1,r,i)}function Hp(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=$d(i)?!!i.capture:!!i,u=$p(e);if(u||(e[qp]=u=new Vp(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Xp;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)fp||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Jp(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Wp(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Wp(e,t[a],n,r,i);return null}return n=ev(n),e&&e[Rp]?e.P(t,n,$d(r)?!!r.capture:!!r,i):Hp(e,t,n,!0,r,i)}function Qp(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Qp(e,t[a],n,r,i);else r=$d(r)?!!r.capture:!!r,n=ev(n),e&&e[Rp]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=zp(a=e.g[t],n,r,i))&&(Lp(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=$p(e))&&(t=e.g[t.toString()],e=-1,t&&(e=zp(t,n,r,i)),(n=-1<e?t[e]:null)&&Yp(n))}function Yp(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Rp])Bp(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Jp(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=$p(t))?(Bp(n,e),0==n.h&&(n.src=null,t[qp]=null)):Lp(e)}}}function Jp(e){return e in Kp?Kp[e]:Kp[e]="on"+e}function Xp(e,t){if(e.fa)e=!0;else{t=new Np(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Yp(e),e=n.call(r,t)}return e}function $p(e){return(e=e[qp])instanceof Vp?e:null}var Zp="__closure_events_fn_"+(1e9*Math.random()>>>0);function ev(e){return"function"===typeof e?e:(e[Zp]||(e[Zp]=function(t){return e.handleEvent(t)}),e[Zp])}function tv(){op.call(this),this.i=new Vp(this),this.S=this,this.J=null}function nv(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new lp(t,e);else if(t instanceof lp)t.target=t.target||e;else{var i=t;jp(t=new lp(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=rv(o,r,!0,t)&&i}if(i=rv(o=t.g=e,r,!0,t)&&i,i=rv(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=rv(o=t.g=n[a],r,!1,t)&&i}function rv(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&Bp(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}ap(tv,op),tv.prototype[Rp]=!0,tv.prototype.removeEventListener=function(e,t,n,r){Qp(this,e,t,n,r)},tv.prototype.N=function(){if(tv.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Lp(n[r]);delete t.g[e],t.h--}}this.J=null},tv.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},tv.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var iv=Jd.JSON.stringify,av=function(){function e(t,n){l(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return p(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function ov(){var e=pv,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var uv=function(){function e(){l(this,e),this.h=this.g=null}return p(e,[{key:"add",value:function(e,t){var n=sv.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),sv=new av((function(){return new cv}),(function(e){return e.reset()})),cv=function(){function e(){l(this,e),this.next=this.g=this.h=null}return p(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function lv(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function fv(e){Jd.setTimeout((function(){throw e}),0)}var hv,dv=!1,pv=new uv,vv=function(){var e=Jd.Promise.resolve(void 0);hv=function(){e.then(mv)}},mv=function(){for(var e;e=ov();){try{e.h.call(e.g)}catch(n){fv(n)}var t=sv;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}dv=!1};function yv(e,t){tv.call(this),this.h=e||1,this.g=t||Jd,this.j=rp(this.qb,this),this.l=Date.now()}function gv(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function kv(e,t,n){if("function"===typeof e)n&&(e=rp(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=rp(e.handleEvent,e)}return 2147483647<Number(t)?-1:Jd.setTimeout(e,t||0)}function bv(e){e.g=kv((function(){e.g=null,e.i&&(e.i=!1,bv(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ap(yv,tv),(Hd=yv.prototype).ga=!1,Hd.T=null,Hd.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),nv(this,"tick"),this.ga&&(gv(this),this.start()))}},Hd.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Hd.N=function(){yv.$.N.call(this),gv(this),delete this.g};var wv=function(e){m(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return p(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:bv(this)}},{key:"N",value:function(){Rt(y(n.prototype),"N",this).call(this),this.g&&(Jd.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(op);function xv(e){op.call(this),this.h=e,this.g={}}ap(xv,op);var _v=[];function Iv(e,t,n,r){Array.isArray(n)||(n&&(_v[0]=n.toString()),n=_v);for(var i=0;i<n.length;i++){var a=Gp(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Sv(e){Fp(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Yp(e)}),e),e.g={}}function Ev(){this.g=!0}function Tv(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return iv(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}xv.prototype.N=function(){xv.$.N.call(this),Sv(this)},xv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ev.prototype.Ea=function(){this.g=!1},Ev.prototype.info=function(){};var Cv={},Av=null;function Nv(){return Av=Av||new tv}function Dv(e){lp.call(this,Cv.Ta,e)}function Rv(e){var t=Nv();nv(t,new Dv(t))}function Pv(e,t){lp.call(this,Cv.STAT_EVENT,e),this.stat=t}function Ov(e){var t=Nv();nv(t,new Pv(t,e))}function Lv(e,t){lp.call(this,Cv.Ua,e),this.size=t}function Fv(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Jd.setTimeout((function(){e()}),t)}Cv.Ta="serverreachability",ap(Dv,lp),Cv.STAT_EVENT="statevent",ap(Pv,lp),Cv.Ua="timingevent",ap(Lv,lp);var Mv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Uv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function jv(){}function Vv(e){return e.h||(e.h=e.i())}function Bv(){}jv.prototype.h=null;var zv,qv={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Kv(){lp.call(this,"d")}function Gv(){lp.call(this,"c")}function Hv(){}function Wv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new xv(this),this.P=Yv,e=wp?125:void 0,this.V=new yv(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Qv}function Qv(){this.i=null,this.g="",this.h=!1}ap(Kv,lp),ap(Gv,lp),ap(Hv,jv),Hv.prototype.g=function(){return new XMLHttpRequest},Hv.prototype.i=function(){return{}},zv=new Hv;var Yv=45e3,Jv={},Xv={};function $v(e,t,n){e.L=1,e.A=ym(hm(t)),e.u=n,e.S=!0,Zv(e,null)}function Zv(e,t){e.G=Date.now(),rm(e),e.B=hm(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Nm(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Qv,e.g=Dy(e.l,n?t:null,!e.u),0<e.O&&(e.M=new wv(rp(e.Pa,e,e.g),e.O)),Iv(e.U,e.g,"readystatechange",e.nb),t=e.I?Mp(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Rv(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function em(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function tm(e,t,n){for(var r,i=!0;!e.J&&e.o<n.length;){if((r=nm(e,n))==Xv){4==t&&(e.s=4,Ov(14),i=!1),Tv(e.j,e.m,null,"[Incomplete Response]");break}if(r==Jv){e.s=4,Ov(15),Tv(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Tv(e.j,e.m,r,null),sm(e,r)}em(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Ov(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),_y(t),t.M=!0,Ov(11))):(Tv(e.j,e.m,n,"[Invalid Chunked Response]"),um(e),om(e))}function nm(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Xv:(n=Number(t.substring(n,r)),isNaN(n)?Jv:(r+=1)+n>t.length?Xv:(t=t.slice(r,r+n),e.o=r+n,t))}function rm(e){e.Y=Date.now()+e.P,im(e,e.P)}function im(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Fv(rp(e.lb,e),t)}function am(e){e.C&&(Jd.clearTimeout(e.C),e.C=null)}function om(e){0==e.l.H||e.J||Ey(e.l,e)}function um(e){am(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,gv(e.V),Sv(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function sm(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Mm(n.i,e)))if(!e.K&&Mm(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Sy(n),vy(n)}xy(n),Ov(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Fv(rp(n.ib,n),6e3));if(1>=Fm(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Cy(n,11)}else if((e.K||n.g==e)&&Sy(n),!hp(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Um(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,mm(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Ny(r,r.J?r.pa:null,r.Y),d.K){jm(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.C&&(am(p),rm(p)),r.g=d}else wy(r);0<n.j.length&&yy(n)}else"stop"!=a[0]&&"close"!=a[0]||Cy(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Cy(n,7):py(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Rv()}catch(a){}}function cm(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Xd(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Xd(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Xd(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Hd=Wv.prototype).setTimeout=function(e){this.P=e},Hd.nb=function(e){e=e.target;var t=this.M;t&&3==sy(e)?t.l():this.Pa(e)},Hd.Pa=function(e){try{if(e==this.g)e:{var t=sy(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||wp||this.g&&(this.h.h||this.g.ja()||cy(this.g)))){this.J||4!=t||7==n||Rv(),am(this);var r=this.g.da();this.ca=r;t:if(em(this)){var i=cy(this.g);e="";var a=i.length,o=4==sy(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){um(this),om(this);var u="";break t}this.h.i=new Jd.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.length=0,this.h.g+=e,this.o=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.v,this.B,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hp(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.s=3,Ov(12),um(this),om(this);break e}Tv(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sm(this,r)}this.S?(tm(this,t,u),wp&&this.i&&3==t&&(Iv(this.U,this.V,"tick",this.mb),this.V.start())):(Tv(this.j,this.m,u,null),sm(this,u)),4==t&&um(this),this.i&&!this.J&&(4==t?Ey(this.l,this):(this.i=!1,rm(this)))}else(function(e){var t={};e=(e.g&&2<=sy(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!hp(e[n])){var r=lv(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<u.indexOf("Unknown SID")?(this.s=3,Ov(12)):(this.s=0,Ov(13)),um(this),om(this)}}}catch(t){}},Hd.mb=function(){if(this.g){var e=sy(this.g),t=this.g.ja();this.o<t.length&&(am(this),tm(this,e,t),this.i&&4!=e&&rm(this))}},Hd.cancel=function(){this.J=!0,um(this)},Hd.lb=function(){this.C=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Rv(),Ov(17)),um(this),this.s=2,om(this)):im(this,this.Y-e)};var lm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fm(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof fm){this.h=e.h,dm(this,e.j),this.s=e.s,this.g=e.g,pm(this,e.m),this.l=e.l;var t=e.i,n=new Em;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),vm(this,n),this.o=e.o}else e&&(t=String(e).match(lm))?(this.h=!1,dm(this,t[1]||"",!0),this.s=gm(t[2]||""),this.g=gm(t[3]||"",!0),pm(this,t[4]),this.l=gm(t[5]||"",!0),vm(this,t[6]||"",!0),this.o=gm(t[7]||"")):(this.h=!1,this.i=new Em(null,this.h))}function hm(e){return new fm(e)}function dm(e,t,n){e.j=n?gm(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function pm(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function vm(e,t,n){t instanceof Em?(e.i=t,function(e,t){t&&!e.j&&(Tm(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Cm(this,t),Nm(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=km(t,Im)),e.i=new Em(t,e.h))}function mm(e,t,n){e.i.set(t,n)}function ym(e){return mm(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function gm(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function km(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,bm),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function bm(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}fm.prototype.toString=function(){var e=[],t=this.j;t&&e.push(km(t,wm,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(km(t,wm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(km(n,"/"==n.charAt(0)?_m:xm,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",km(n,Sm)),e.join("")};var wm=/[#\/\?@]/g,xm=/[#\?:]/g,_m=/[#\?]/g,Im=/[#\?@]/g,Sm=/#/g;function Em(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Tm(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Cm(e,t){Tm(e),t=Dm(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Am(e,t){return Tm(e),t=Dm(e,t),e.g.has(t)}function Nm(e,t,n){Cm(e,t),0<n.length&&(e.i=null,e.g.set(Dm(e,t),sp(n)),e.h+=n.length)}function Dm(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Hd=Em.prototype).add=function(e,t){Tm(this),this.i=null,e=Dm(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Hd.forEach=function(e,t){Tm(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Hd.ta=function(){Tm(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Hd.Z=function(e){Tm(this);var t=[];if("string"===typeof e)Am(this,e)&&(t=t.concat(this.g.get(Dm(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Hd.set=function(e,t){return Tm(this),this.i=null,Am(this,e=Dm(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Hd.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Hd.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Rm=p((function e(t,n){l(this,e),this.g=t,this.map=n}));function Pm(e){this.l=e||Om,Jd.PerformanceNavigationTiming?e=0<(e=Jd.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Jd.g&&Jd.g.Ka&&Jd.g.Ka()&&Jd.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Om=10;function Lm(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Fm(e){return e.h?1:e.g?e.g.size:0}function Mm(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Um(e,t){e.g?e.g.add(t):e.h=t}function jm(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Vm(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=C(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return sp(e.i)}Pm.prototype.cancel=function(){if(this.i=Vm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=C(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Bm,zm=function(){function e(){l(this,e)}return p(e,[{key:"stringify",value:function(e){return Jd.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Jd.JSON.parse(e,void 0)}}]),e}();function qm(){this.g=new zm}function Km(e,t,n){var r=n||"";try{cm(e,(function(e,n){var i=e;$d(e)&&(i=iv(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Gm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Hm(e){this.l=e.ec||null,this.j=e.ob||!1}function Wm(e,t){tv.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Qm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ap(Hm,jv),Hm.prototype.g=function(){return new Wm(this.l,this.j)},Hm.prototype.i=(Bm={},function(){return Bm}),ap(Wm,tv);var Qm=0;function Ym(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Jm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Xm(e)}function Xm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Hd=Wm.prototype).open=function(e,t){if(this.readyState!=Qm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Xm(this)},Hd.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Jd).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Hd.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Jm(this)),this.readyState=Qm},Hd.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Xm(this)),this.g&&(this.readyState=3,Xm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Jd.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ym(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Hd.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Jm(this):Xm(this),3==this.readyState&&Ym(this)}},Hd.Za=function(e){this.g&&(this.response=this.responseText=e,Jm(this))},Hd.Ya=function(e){this.g&&(this.response=e,Jm(this))},Hd.ka=function(){this.g&&Jm(this)},Hd.setRequestHeader=function(e,t){this.v.append(e,t)},Hd.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Hd.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Wm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var $m=Jd.JSON.parse;function Zm(e){tv.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ey,this.L=this.M=!1}ap(Zm,tv);var ey="",ty=/^https?$/i,ny=["POST","PUT"];function ry(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,iy(e),oy(e)}function iy(e){e.F||(e.F=!0,nv(e,"complete"),nv(e,"error"))}function ay(e){if(e.h&&"undefined"!=typeof Yd&&(!e.C[1]||4!=sy(e)||2!=e.da()))if(e.v&&4==sy(e))kv(e.La,0,e);else if(nv(e,"readystatechange"),4==sy(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(lm)[1]||null;!a&&Jd.self&&Jd.self.location&&(a=Jd.self.location.protocol.slice(0,-1)),i=!ty.test(a?a.toLowerCase():"")}t=i}if(t)nv(e,"complete"),nv(e,"success");else{e.m=6;try{var o=2<sy(e)?e.g.statusText:""}catch(u){o=""}e.j=o+" ["+e.da()+"]",iy(e)}}finally{oy(e)}}}function oy(e,t){if(e.g){uy(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||nv(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function uy(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Jd.clearTimeout(e.A),e.A=null)}function sy(e){return e.g?e.g.readyState:0}function cy(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case ey:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(mg){return null}}function ly(e){var t="";return Fp(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function fy(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ly(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):mm(e,t,n))}function hy(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function dy(e){this.Ga=0,this.j=[],this.l=new Ev,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=hy("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=hy("baseRetryDelayMs",5e3,e),this.hb=hy("retryDelaySeedMs",1e4,e),this.eb=hy("forwardChannelMaxRetries",2,e),this.xa=hy("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Pm(e&&e.concurrentRequestLimit),this.Ja=new qm,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function py(e){if(my(e),3==e.H){var t=e.W++,n=hm(e.I);if(mm(n,"SID",e.K),mm(n,"RID",t),mm(n,"TYPE","terminate"),ky(e,n),(t=new Wv(e,e.l,t)).L=2,t.A=ym(hm(n)),n=!1,Jd.navigator&&Jd.navigator.sendBeacon)try{n=Jd.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&Jd.Image&&((new Image).src=t.A,n=!0),n||(t.g=Dy(t.l,null),t.g.ha(t.A)),t.G=Date.now(),rm(t)}Ay(e)}function vy(e){e.g&&(_y(e),e.g.cancel(),e.g=null)}function my(e){vy(e),e.u&&(Jd.clearTimeout(e.u),e.u=null),Sy(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Jd.clearTimeout(e.m),e.m=null)}function yy(e){if(!Lm(e.i)&&!e.m){e.m=!0;var t=e.Na;hv||vv(),dv||(hv(),dv=!0),pv.add(t,e),e.C=0}}function gy(e,t){var n;n=t?t.m:e.W++;var r=hm(e.I);mm(r,"SID",e.K),mm(r,"RID",n),mm(r,"AID",e.V),ky(e,r),e.o&&e.s&&fy(r,e.o,e.s),n=new Wv(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=by(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Um(e.i,n),$v(n,r,t)}function ky(e,t){e.na&&Fp(e.na,(function(e,n){mm(t,n,e)})),e.h&&cm({},(function(e,n){mm(t,n,e)}))}function by(e,t,n){n=Math.min(e.j.length,n);var r=e.h?rp(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].g,l=i[s].map;if(0>(c-=a))a=Math.max(0,i[s].g-100),u=!1;else try{Km(l,o,"req"+c+"_")}catch(Pk){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function wy(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;hv||vv(),dv||(hv(),dv=!0),pv.add(t,e),e.A=0}}function xy(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Fv(rp(e.Ma,e),Ty(e,e.A)),e.A++,!0)}function _y(e){null!=e.B&&(Jd.clearTimeout(e.B),e.B=null)}function Iy(e){e.g=new Wv(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=hm(e.wa);mm(t,"RID","rpc"),mm(t,"SID",e.K),mm(t,"AID",e.V),mm(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&mm(t,"TO",e.qa),mm(t,"TYPE","xmlhttp"),ky(e,t),e.o&&e.s&&fy(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=ym(hm(t)),n.u=null,n.S=!0,Zv(n,e)}function Sy(e){null!=e.v&&(Jd.clearTimeout(e.v),e.v=null)}function Ey(e,t){var n=null;if(e.g==t){Sy(e),_y(e),e.g=null;var r=2}else{if(!Mm(e.i,t))return;n=t.F,jm(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;nv(r=Nv(),new Lv(r,n)),yy(e)}else wy(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Fm(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Fv(rp(e.Na,e,t),Ty(e,e.C)),e.C++,!0))}(e,t)||2==r&&xy(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Cy(e,5);break;case 4:Cy(e,10);break;case 3:Cy(e,6);break;default:Cy(e,2)}}function Ty(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Cy(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=rp(e.pb,e);n||(n=new fm("//www.google.com/images/cleardot.gif"),Jd.location&&"http"==Jd.location.protocol||dm(n,"https"),ym(n)),function(e,t){var n=new Ev;if(Jd.Image){var r=new Image;r.onload=ip(Gm,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ip(Gm,n,r,"TestLoadImage: error",!1,t),r.onabort=ip(Gm,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ip(Gm,n,r,"TestLoadImage: timeout",!1,t),Jd.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ov(2);e.H=0,e.h&&e.h.za(t),Ay(e),my(e)}function Ay(e){if(e.H=0,e.ma=[],e.h){var t=Vm(e.i);0==t.length&&0==e.j.length||(cp(e.ma,t),cp(e.ma,e.j),e.i.i.length=0,sp(e.j),e.j.length=0),e.h.ya()}}function Ny(e,t,n){var r=n instanceof fm?hm(n):new fm(n);if(""!=r.g)t&&(r.g=t+"."+r.g),pm(r,r.m);else{var i=Jd.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new fm(null);r&&dm(a,r),t&&(a.g=t),i&&pm(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&mm(r,n,t),mm(r,"VER",e.ra),ky(e,r),r}function Dy(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Zm(new Hm({ob:n})):new Zm(e.va)).Oa(e.J),t}function Ry(){}function Py(){if(kp&&!(10<=Number(Ap)))throw Error("Environmental error: no available transport.")}function Oy(e,t){tv.call(this),this.g=new dy(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!hp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!hp(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new My(this)}function Ly(e){Kv.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Fy(){Gv.call(this),this.status=1}function My(e){this.g=e}function Uy(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function jy(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Vy(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Hd=Zm.prototype).Oa=function(e){this.M=e},Hd.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zv.g(),this.C=this.u?Vv(this.u):Vv(zv),this.g.onreadystatechange=rp(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void ry(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=C(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Jd.FormData&&e instanceof Jd.FormData,!(0<=up(ny,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=C(n);try{for(c.s();!(s=c.n()).done;){var l=E(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{uy(this),0<this.B&&((this.L=function(e){return kp&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rp(this.ua,this)):this.A=kv(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){ry(this,u)}},Hd.ua=function(){"undefined"!=typeof Yd&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nv(this,"timeout"),this.abort(8))},Hd.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,nv(this,"complete"),nv(this,"abort"),oy(this))},Hd.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),oy(this,!0)),Zm.$.N.call(this)},Hd.La=function(){this.s||(this.G||this.v||this.l?ay(this):this.kb())},Hd.kb=function(){ay(this)},Hd.isActive=function(){return!!this.g},Hd.da=function(){try{return 2<sy(this)?this.g.status:-1}catch(Bm){return-1}},Hd.ja=function(){try{return this.g?this.g.responseText:""}catch(Bm){return""}},Hd.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),$m(t)}},Hd.Ia=function(){return this.m},Hd.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Hd=dy.prototype).ra=8,Hd.H=1,Hd.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Wv(this,this.l,e),n=this.s;if(this.U&&(n?jp(n=Mp(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=by(this,t,r),mm(i=hm(this.I),"RID",e),mm(i,"CVER",22),this.F&&mm(i,"X-HTTP-Session-Id",this.F),ky(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(ly(n)))+"&"+r:this.o&&fy(i,this.o,n)),Um(this.i,t),this.bb&&mm(i,"TYPE","init"),this.P?(mm(i,"$req",r),mm(i,"SID","null"),t.aa=!0,$v(t,i,null)):$v(t,i,r),this.H=2}}else 3==this.H&&(e?gy(this,e):0==this.j.length||Lm(this.i)||gy(this))},Hd.Ma=function(){if(this.u=null,Iy(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Fv(rp(this.jb,this),e)}},Hd.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ov(10),vy(this),Iy(this))},Hd.ib=function(){null!=this.v&&(this.v=null,vy(this),xy(this),Ov(19))},Hd.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ov(2)):(this.l.info("Failed to ping google.com"),Ov(1))},Hd.isActive=function(){return!!this.h&&this.h.isActive(this)},(Hd=Ry.prototype).Ba=function(){},Hd.Aa=function(){},Hd.za=function(){},Hd.ya=function(){},Hd.isActive=function(){return!0},Hd.Va=function(){},Py.prototype.g=function(e,t){return new Oy(e,t)},ap(Oy,tv),Oy.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ov(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Ny(e,null,e.Y),yy(e)},Oy.prototype.close=function(){py(this.g)},Oy.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=iv(e),e=n);t.j.push(new Rm(t.fb++,e)),3==t.H&&yy(t)},Oy.prototype.N=function(){this.g.h=null,delete this.j,py(this.g),delete this.g,Oy.$.N.call(this)},ap(Ly,Kv),ap(Fy,Gv),ap(My,Ry),My.prototype.Ba=function(){nv(this.g,"a")},My.prototype.Aa=function(e){nv(this.g,new Ly(e))},My.prototype.za=function(e){nv(this.g,new Fy)},My.prototype.ya=function(){nv(this.g,"b")},ap(Uy,(function(){this.blockSize=-1})),Uy.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Uy.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)jy(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){jy(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){jy(this,r),i=0;break}}this.h=i,this.i+=t},Uy.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var By={};function zy(e){return-128<=e&&128>e?function(e,t){var n=By;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Vy([0|e],0>e?-1:0)})):new Vy([0|e],0>e?-1:0)}function qy(e){if(isNaN(e)||!isFinite(e))return Gy;if(0>e)return Jy(qy(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Ky;return new Vy(t,0)}var Ky=4294967296,Gy=zy(0),Hy=zy(1),Wy=zy(16777216);function Qy(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Yy(e){return-1==e.h}function Jy(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Vy(n,~e.h).add(Hy)}function Xy(e,t){return e.add(Jy(t))}function $y(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Zy(e,t){this.g=e,this.h=t}function eg(e,t){if(Qy(t))throw Error("division by zero");if(Qy(e))return new Zy(Gy,Gy);if(Yy(e))return t=eg(Jy(e),t),new Zy(Jy(t.g),Jy(t.h));if(Yy(t))return t=eg(e,Jy(t)),new Zy(Jy(t.g),t.h);if(30<e.g.length){if(Yy(e)||Yy(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Hy,r=t;0>=r.X(e);)n=tg(n),r=tg(r);var i=ng(n,1),a=ng(r,1);for(r=ng(r,2),n=ng(n,2);!Qy(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=ng(r,1),n=ng(n,1)}return t=Xy(e,i.R(t)),new Zy(i,t)}for(i=Gy;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=qy(n)).R(t);Yy(o)||0<o.X(e);)o=(a=qy(n-=r)).R(t);Qy(a)&&(a=Hy),i=i.add(a),e=Xy(e,o)}return new Zy(i,e)}function tg(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Vy(n,e.h)}function ng(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Vy(i,e.h)}(Hd=Vy.prototype).ea=function(){if(Yy(this))return-Jy(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Ky+r)*t,t*=Ky}return e},Hd.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Qy(this))return"0";if(Yy(this))return"-"+Jy(this).toString(e);for(var t=qy(Math.pow(e,6)),n=this,r="";;){var i=eg(n,t).g,a=((0<(n=Xy(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Qy(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Hd.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Hd.X=function(e){return Yy(e=Xy(this,e))?-1:Qy(e)?0:1},Hd.abs=function(){return Yy(this)?Jy(this):this},Hd.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Vy(n,-2147483648&n[n.length-1]?-1:0)},Hd.R=function(e){if(Qy(this)||Qy(e))return Gy;if(Yy(this))return Yy(e)?Jy(this).R(Jy(e)):Jy(Jy(this).R(e));if(Yy(e))return Jy(this.R(Jy(e)));if(0>this.X(Wy)&&0>e.X(Wy))return qy(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,$y(n,2*r+2*i),n[2*r+2*i+1]+=a*s,$y(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,$y(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,$y(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Vy(n,0)},Hd.gb=function(e){return eg(this,e).h},Hd.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Vy(n,this.h&e.h)},Hd.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Vy(n,this.h|e.h)},Hd.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Vy(n,this.h^e.h)},Py.prototype.createWebChannel=Py.prototype.g,Oy.prototype.send=Oy.prototype.u,Oy.prototype.open=Oy.prototype.m,Oy.prototype.close=Oy.prototype.close,Mv.NO_ERROR=0,Mv.TIMEOUT=8,Mv.HTTP_ERROR=6,Uv.COMPLETE="complete",Bv.EventType=qv,qv.OPEN="a",qv.CLOSE="b",qv.ERROR="c",qv.MESSAGE="d",tv.prototype.listen=tv.prototype.O,Zm.prototype.listenOnce=Zm.prototype.P,Zm.prototype.getLastError=Zm.prototype.Sa,Zm.prototype.getLastErrorCode=Zm.prototype.Ia,Zm.prototype.getStatus=Zm.prototype.da,Zm.prototype.getResponseJson=Zm.prototype.Wa,Zm.prototype.getResponseText=Zm.prototype.ja,Zm.prototype.send=Zm.prototype.ha,Zm.prototype.setWithCredentials=Zm.prototype.Oa,Uy.prototype.digest=Uy.prototype.l,Uy.prototype.reset=Uy.prototype.reset,Uy.prototype.update=Uy.prototype.j,Vy.prototype.add=Vy.prototype.add,Vy.prototype.multiply=Vy.prototype.R,Vy.prototype.modulo=Vy.prototype.gb,Vy.prototype.compare=Vy.prototype.X,Vy.prototype.toNumber=Vy.prototype.ea,Vy.prototype.toString=Vy.prototype.toString,Vy.prototype.getBits=Vy.prototype.D,Vy.fromNumber=qy,Vy.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Jy(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=qy(Math.pow(n,8)),i=Gy,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=qy(Math.pow(n,o)),i=i.R(o).add(qy(u))):i=(i=i.R(r)).add(qy(u))}return i};var rg=Qd.createWebChannelTransport=function(){return new Py},ig=Qd.getStatEventTarget=function(){return Nv()},ag=Qd.ErrorCode=Mv,og=Qd.EventType=Uv,ug=Qd.Event=Cv,sg=Qd.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},cg=(Qd.FetchXmlHttpFactory=Hm,Qd.WebChannel=Bv),lg=Qd.XhrIo=Zm,fg=Qd.Md5=Uy,hg=Qd.Integer=Vy,dg="@firebase/firestore",pg=function(){function e(t){l(this,e),this.uid=t}return p(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();pg.UNAUTHENTICATED=new pg(null),pg.GOOGLE_CREDENTIALS=new pg("google-credentials-uid"),pg.FIRST_PARTY=new pg("first-party-uid"),pg.MOCK_USER=new pg("mock-user");var vg="10.11.0",mg=new Cn("@firebase/firestore");function yg(){return mg.logLevel}function gg(e){if(mg.logLevel<=wn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(wg);mg.debug.apply(mg,["Firestore (".concat(vg,"): ").concat(e)].concat(c(i)))}}function kg(e){if(mg.logLevel<=wn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(wg);mg.error.apply(mg,["Firestore (".concat(vg,"): ").concat(e)].concat(c(i)))}}function bg(e){if(mg.logLevel<=wn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(wg);mg.warn.apply(mg,["Firestore (".concat(vg,"): ").concat(e)].concat(c(i)))}}function wg(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function xg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(vg,") INTERNAL ASSERTION FAILED: ")+e;throw kg(t),new Error(t)}function _g(e,t){e||xg()}function Ig(e,t){return e}var Sg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Eg=function(e){m(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return p(n)}(nn),Tg=p((function e(){var t=this;l(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Cg=p((function e(t,n){l(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Ag=function(){function e(){l(this,e)}return p(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(pg.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Ng=function(){function e(t){l(this,e),this.token=t,this.changeListener=null}return p(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Dg=function(){function e(t){l(this,e),this.t=t,this.currentUser=pg.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return p(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Tg;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Tg,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){gg("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(gg("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Tg)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(gg("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(_g("string"==typeof n.accessToken),new Cg(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return _g(null===e||"string"==typeof e),new pg(e)}}]),e}(),Rg=function(){function e(t,n,r){l(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=pg.FIRST_PARTY,this.I=new Map}return p(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),Pg=function(){function e(t,n,r){l(this,e),this.l=t,this.h=n,this.P=r}return p(e,[{key:"getToken",value:function(){return Promise.resolve(new Rg(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(pg.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Og=p((function e(t){l(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Lg=function(){function e(t){l(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return p(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&gg("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,gg("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){gg("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):gg("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(_g("string"==typeof t.token),e.R=t.token,new Og(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Fg(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Mg=function(){function e(){l(this,e)}return p(e,null,[{key:"newId",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Fg(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Ug(e,t){return e<t?-1:e>t?1:0}function jg(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Vg(e){return e+"\0"}var Bg=function(){function e(t,n){if(l(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Eg(Sg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Eg(Sg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Eg(Sg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Eg(Sg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return p(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Ug(this.nanoseconds,e.nanoseconds):Ug(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),zg=function(){function e(t){l(this,e),this.timestamp=t}return p(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Bg(0,0))}},{key:"max",value:function(){return new e(new Bg(253402300799,999999999))}}]),e}(),qg=function(){function e(t,n,r){l(this,e),void 0===n?n=0:n>t.length&&xg(),void 0===r?r=t.length-n:r>t.length-n&&xg(),this.segments=t,this.offset=n,this.len=r}return p(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Kg=function(e){m(n,e);var t=w(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"toUriEncodedString",value:function(){return this.toArray().map(encodeURIComponent).join("/")}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Eg(Sg.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,c(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(qg),Gg=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Hg=function(e){m(n,e);var t=w(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Gg.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Eg(Sg.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Eg(Sg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Eg(Sg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Eg(Sg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(qg),Wg=function(){function e(t){l(this,e),this.path=t}return p(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Kg.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Kg.fromString(t))}},{key:"fromName",value:function(t){return new e(Kg.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Kg.emptyPath())}},{key:"comparator",value:function(e,t){return Kg.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Kg(t.slice()))}}]),e}(),Qg=p((function e(t,n,r,i){l(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Yg(e){return e.fields.find((function(e){return 2===e.kind}))}function Jg(e){return e.fields.filter((function(e){return 2!==e.kind}))}Qg.UNKNOWN_ID=-1;var Xg=p((function e(t,n){l(this,e),this.fieldPath=t,this.kind=n}));var $g=function(){function e(t,n){l(this,e),this.sequenceNumber=t,this.offset=n}return p(e,null,[{key:"empty",value:function(){return new e(0,tk.min())}}]),e}();function Zg(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=zg.fromTimestamp(1e9===r?new Bg(n+1,0):new Bg(n,r));return new tk(i,Wg.empty(),t)}function ek(e){return new tk(e.readTime,e.key,-1)}var tk=function(){function e(t,n,r){l(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return p(e,null,[{key:"min",value:function(){return new e(zg.min(),Wg.empty(),-1)}},{key:"max",value:function(){return new e(zg.max(),Wg.empty(),-1)}}]),e}();function nk(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Wg.comparator(e.documentKey,t.documentKey))?n:Ug(e.largestBatchId,t.largestBatchId)}var rk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ik=function(){function e(){l(this,e),this.onCommittedListeners=[]}return p(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function ak(e){return ok.apply(this,arguments)}function ok(){return(ok=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Sg.FAILED_PRECONDITION&&t.message===rk){e.next=2;break}throw t;case 2:gg("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uk=function(){function e(t){var n=this;l(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return p(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&xg(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=C(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),sk=function(){function e(t,n){var r=this;l(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.V=new Tg,this.transaction.oncomplete=function(){r.V.resolve()},this.transaction.onabort=function(){n.error?r.V.reject(new fk(t,n.error)):r.V.resolve()},this.transaction.onerror=function(e){var n=mk(e.target.error);r.V.reject(new fk(t,n))}}return p(e,[{key:"m",get:function(){return this.V.promise}},{key:"abort",value:function(e){e&&this.V.reject(e),this.aborted||(gg("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"g",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new dk(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new fk(n,t)}}}]),e}(),ck=function(){function e(t,n,r){l(this,e),this.name=t,this.version=n,this.p=r,12.2===e.S(Qt())&&kg("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return p(e,[{key:"O",value:function(){var e=yt(vt().mark((function e(t){var n=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return gg("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new fk(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Eg(Sg.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Eg(Sg.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new fk(t,n))},i.onupgradeneeded=function(e){gg("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.p.N(t,i.transaction,e.oldVersion,n.version).next((function(){gg("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.L&&(this.db.onversionchange=function(e){return n.L(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.L=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=yt(vt().mark((function e(t,n,r,i){var a,o,u,s,c=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=vt().mark((function e(){var n,u,s,l;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.O(t);case 4:return c.db=e.sent,n=sk.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.g(),e})).catch((function(e){return n.abort(e),uk.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.m;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,gg("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if(!(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return gg("SimpleDb","Removing database:",e),pk(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!tn())return!1;if(e.C())return!0;var t=Qt(),n=e.S(t),r=0<n&&n<10,i=e.v(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"v",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),lk=function(){function e(t){l(this,e),this.k=t,this.q=!1,this.K=null}return p(e,[{key:"isDone",get:function(){return this.q}},{key:"$",get:function(){return this.K}},{key:"cursor",set:function(e){this.k=e}},{key:"done",value:function(){this.q=!0}},{key:"U",value:function(e){this.K=e}},{key:"delete",value:function(){return pk(this.k.delete())}}]),e}(),fk=function(e){m(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this,Sg.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return p(n)}(Eg);function hk(e){return"IndexedDbTransactionError"===e.name}var dk=function(){function e(t){l(this,e),this.store=t}return p(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(gg("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(gg("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),pk(n)}},{key:"add",value:function(e){return gg("SimpleDb","ADD",this.store.name,e,e),pk(this.store.add(e))}},{key:"get",value:function(e){var t=this;return pk(this.store.get(e)).next((function(n){return void 0===n&&(n=null),gg("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return gg("SimpleDb","DELETE",this.store.name,e),pk(this.store.delete(e))}},{key:"count",value:function(){return gg("SimpleDb","COUNT",this.store.name),pk(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){var i=r.getAll(n.range);return new uk((function(e,t){i.onerror=function(e){t(e.target.error)},i.onsuccess=function(t){e(t.target.result)}}))}var a=this.cursor(n),o=[];return this.G(a,(function(e,t){o.push(t)})).next((function(){return o}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new uk((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){gg("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.J=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"Y",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new uk((function(n,r){t.onerror=function(e){var t=mk(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new uk((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new lk(i),o=t(i.primaryKey,i.value,a);if(o instanceof uk){var u=o.catch((function(e){return a.done(),uk.reject(e)}));n.push(u)}a.isDone?r():null===a.$?i.continue():i.continue(a.$)}else r()}})).next((function(){return uk.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function pk(e){return new uk((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=mk(e.target.error);n(t)}}))}var vk=!1;function mk(e){var t=ck.S(Qt());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Eg("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return vk||(vk=!0,setTimeout((function(){throw r}),0)),r}}return e}var yk=function(){function e(t,n){l(this,e),this.asyncQueue=t,this.X=n,this.task=null}return p(e,[{key:"start",value:function(){this.ee(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"ee",value:function(e){var t=this;gg("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=gg,e.t1="Documents written: ",e.next=6,t.X.te();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackfiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!hk(e.t4)){e.next=17;break}gg("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,ak(e.t4);case 19:return e.next=21,t.ee(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),gk=function(){function e(t,n){l(this,e),this.localStore=t,this.persistence=n}return p(e,[{key:"te",value:function(){var e=yt(vt().mark((function e(){var t,n=this,r=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.ne(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ne",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return uk.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return gg("IndexBackfiller","Processing collection: ".concat(t)),n.re(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"re",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ie(i,n)})).next((function(n){return gg("IndexBackfiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ie",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=ek(t);nk(r,n)>0&&(n=r)})),new tk(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),kk=function(){function e(t,n){var r=this;l(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.se(e)},this.oe=function(e){return n.writeSequenceNumber(e)})}return p(e,[{key:"se",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.oe&&this.oe(e),e}}]),e}();function bk(e){return null==e}function wk(e){return 0===e&&1/e==-1/0}function xk(e){return"number"==typeof e&&Number.isInteger(e)&&!wk(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function _k(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Sk(t)),t=Ik(e.get(n),t);return Sk(t)}function Ik(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Sk(e){return e+"\x01\x01"}function Ek(e){var t=e.length;if(_g(t>=2),2===t)return _g("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Kg.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&xg(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:xg()}a=o+2}return new Kg(r)}kk._e=-1;var Tk=["userId","batchId"];function Ck(e,t){return[e,_k(t)]}function Ak(e,t,n){return[e,_k(t),n]}var Nk={},Dk=["prefixPath","collectionGroup","readTime","documentId"],Rk=["prefixPath","collectionGroup","documentId"],Pk=["collectionGroup","readTime","prefixPath","documentId"],Ok=["canonicalId","targetId"],Lk=["targetId","path"],Fk=["path","targetId"],Mk=["collectionId","parent"],Uk=["indexId","uid"],jk=["uid","sequenceNumber"],Vk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Bk=["indexId","uid","orderedDocumentKey"],zk=["userId","collectionPath","documentId"],qk=["userId","collectionPath","largestBatchId"],Kk=["userId","collectionGroup","largestBatchId"],Gk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Hk=[].concat(c(Gk),["documentOverlays"]),Wk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Qk=Wk,Yk=[].concat(Qk,["indexConfiguration","indexState","indexEntries"]),Jk=Yk,Xk=function(e){m(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).ae=e,i.currentSequenceNumber=r,i}return p(n)}(ik);function $k(e,t){var n=Ig(e);return ck.M(n.ae,t)}function Zk(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function eb(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function tb(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var nb=function(){function e(t,n){l(this,e),this.comparator=t,this.root=n||ib.EMPTY}return p(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ib.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ib.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new rb(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new rb(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new rb(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new rb(this.root,e,this.comparator,!0)}}]),e}(),rb=function(){function e(t,n,r,i){l(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return p(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),ib=function(){function e(t,n,r,i,a){l(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return p(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw xg();if(this.right.isRed())throw xg();var e=this.left.check();if(e!==this.right.check())throw xg();return e+(this.isRed()?0:1)}}]),e}();ib.EMPTY=null,ib.RED=!0,ib.BLACK=!1,ib.EMPTY=new(function(){function e(){l(this,e),this.size=0}return p(e,[{key:"key",get:function(){throw xg()}},{key:"value",get:function(){throw xg()}},{key:"color",get:function(){throw xg()}},{key:"left",get:function(){throw xg()}},{key:"right",get:function(){throw xg()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ib(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var ab=function(){function e(t){l(this,e),this.comparator=t,this.data=new nb(this.comparator)}return p(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ob(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ob(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ob=function(){function e(t){l(this,e),this.iter=t}return p(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function ub(e){return e.hasNext()?e.getNext():void 0}var sb=function(){function e(t){l(this,e),this.fields=t,t.sort(Hg.comparator)}return p(e,[{key:"unionWith",value:function(t){var n,r=new ab(Hg.comparator),i=C(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=C(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=C(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return jg(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),cb=function(e){m(n,e);var t=w(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return p(n)}(_(Error));var lb=function(e){function t(e){l(this,t),this.binaryString=e}return p(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Ug(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new cb("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();lb.EMPTY_BYTE_STRING=new lb("");var fb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hb(e){if(_g(!!e),"string"==typeof e){var t=0,n=fb.exec(e);if(_g(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:db(e.seconds),nanos:db(e.nanos)}}function db(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function pb(e){return"string"==typeof e?lb.fromBase64String(e):lb.fromUint8Array(e)}function vb(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function mb(e){var t=e.mapValue.fields.__previous_value__;return vb(t)?mb(t):t}function yb(e){var t=hb(e.mapValue.fields.__local_write_time__.timestampValue);return new Bg(t.seconds,t.nanos)}var gb=p((function e(t,n,r,i,a,o,u,s,c){l(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=c})),kb=function(){function e(t,n){l(this,e),this.projectId=t,this.database=n||"(default)"}return p(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),bb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},wb={nullValue:"NULL_VALUE"};function xb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vb(e)?4:Fb(e)?9007199254740991:10:xg()}function _b(e,t){if(e===t)return!0;var n=xb(e);if(n!==xb(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return yb(e).isEqual(yb(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=hb(e.timestampValue),r=hb(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return pb(e.bytesValue).isEqual(pb(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return db(e.geoPointValue.latitude)===db(t.geoPointValue.latitude)&&db(e.geoPointValue.longitude)===db(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return db(e.integerValue)===db(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=db(e.doubleValue),r=db(t.doubleValue);return n===r?wk(n)===wk(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return jg(e.arrayValue.values||[],t.arrayValue.values||[],_b);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Zk(n)!==Zk(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!_b(n[i],r[i])))return!1;return!0}(e,t);default:return xg()}}function Ib(e,t){return void 0!==(e.values||[]).find((function(e){return _b(e,t)}))}function Sb(e,t){if(e===t)return 0;var n=xb(e),r=xb(t);if(n!==r)return Ug(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ug(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=db(e.integerValue||e.doubleValue),r=db(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Eb(e.timestampValue,t.timestampValue);case 4:return Eb(yb(e),yb(t));case 5:return Ug(e.stringValue,t.stringValue);case 6:return function(e,t){var n=pb(e),r=pb(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Ug(n[i],r[i]);if(0!==a)return a}return Ug(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ug(db(e.latitude),db(t.latitude));return 0!==n?n:Ug(db(e.longitude),db(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Sb(n[i],r[i]);if(a)return a}return Ug(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===bb.mapValue&&t===bb.mapValue)return 0;if(e===bb.mapValue)return 1;if(t===bb.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Ug(r[o],a[o]);if(0!==u)return u;var s=Sb(n[r[o]],i[a[o]]);if(0!==s)return s}return Ug(r.length,a.length)}(e.mapValue,t.mapValue);default:throw xg()}}function Eb(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ug(e,t);var n=hb(e),r=hb(t),i=Ug(n.seconds,r.seconds);return 0!==i?i:Ug(n.nanos,r.nanos)}function Tb(e){return Cb(e)}function Cb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=hb(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return pb(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Wg.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=C(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Cb(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=C(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Cb(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):xg()}function Ab(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Nb(e){return!!e&&"integerValue"in e}function Db(e){return!!e&&"arrayValue"in e}function Rb(e){return!!e&&"nullValue"in e}function Pb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ob(e){return!!e&&"mapValue"in e}function Lb(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return eb(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Lb(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Lb(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Fb(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Mb(e){return"nullValue"in e?wb:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Ab(kb.empty(),Wg.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:xg()}function Ub(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Ab(kb.empty(),Wg.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?bb:xg()}function jb(e,t){var n=Sb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Vb(e,t){var n=Sb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Bb=function(){function e(t){l(this,e),this.value=t}return p(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ob(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lb(t)}},{key:"setAll",value:function(e){var t=this,n=Hg.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Lb(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ob(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return _b(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ob(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){eb(t,(function(t,n){return e[t]=n}));var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Lb(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function zb(e){var t=[];return eb(e.fields,(function(e,n){var r=new Hg([e]);if(Ob(n)){var i=zb(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=C(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new sb(t)}var qb=function(){function e(t,n,r,i,a,o,u){l(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return p(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(zg.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Bb.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Bb.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=zg.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,zg.min(),zg.min(),zg.min(),Bb.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,zg.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,zg.min(),zg.min(),Bb.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,zg.min(),zg.min(),Bb.empty(),2)}}]),e}(),Kb=p((function e(t,n){l(this,e),this.position=t,this.inclusive=n}));function Gb(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Wg.comparator(Wg.fromName(o.referenceValue),n.key):Sb(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Hb(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!_b(e.position[n],t.position[n]))return!1;return!0}var Wb=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";l(this,e),this.field=t,this.dir=n}));function Qb(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Yb=p((function e(){l(this,e)})),Jb=function(e){m(n,e);var t=w(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Sb(t,this.value)):null!==t&&xb(this.value)===xb(t)&&this.matchesComparison(Sb(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xg()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new ow(e,t,r):"array-contains"===t?new lw(e,r):"in"===t?new fw(e,r):"not-in"===t?new hw(e,r):"array-contains-any"===t?new dw(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new uw(e,n):new sw(e,n)}}]),n}(Yb),Xb=function(e){m(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).filters=e,i.op=r,i.ue=null,i}return p(n,[{key:"matches",value:function(e){return $b(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ue||(this.ue=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ue}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Yb);function $b(e){return"and"===e.op}function Zb(e){return"or"===e.op}function ew(e){return tw(e)&&$b(e)}function tw(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Xb)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function nw(e){if(e instanceof Jb)return e.field.canonicalString()+e.op.toString()+Tb(e.value);if(ew(e))return e.filters.map((function(e){return nw(e)})).join(",");var t=e.filters.map((function(e){return nw(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function rw(e,t){return e instanceof Jb?function(e,t){return t instanceof Jb&&e.op===t.op&&e.field.isEqual(t.field)&&_b(e.value,t.value)}(e,t):e instanceof Xb?function(e,t){return t instanceof Xb&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&rw(n,t.filters[r])}),!0)}(e,t):void xg()}function iw(e,t){var n=e.filters.concat(t);return Xb.create(n,e.op)}function aw(e){return e instanceof Jb?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Tb(e.value))}(e):e instanceof Xb?function(e){return e.op.toString()+" {"+e.getFilters().map(aw).join(" ,")+"}"}(e):"Filter"}var ow=function(e){m(n,e);var t=w(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,e,r,i)).key=Wg.fromName(i.referenceValue),a}return p(n,[{key:"matches",value:function(e){var t=Wg.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Jb),uw=function(e){m(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,"in",r)).keys=cw("in",r),i}return p(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Jb),sw=function(e){m(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,"not-in",r)).keys=cw("not-in",r),i}return p(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Jb);function cw(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Wg.fromName(e.referenceValue)}))}var lw=function(e){m(n,e);var t=w(n);function n(e,r){return l(this,n),t.call(this,e,"array-contains",r)}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Db(t)&&Ib(t.arrayValue,this.value)}}]),n}(Jb),fw=function(e){m(n,e);var t=w(n);function n(e,r){return l(this,n),t.call(this,e,"in",r)}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ib(this.value.arrayValue,t)}}]),n}(Jb),hw=function(e){m(n,e);var t=w(n);function n(e,r){return l(this,n),t.call(this,e,"not-in",r)}return p(n,[{key:"matches",value:function(e){if(Ib(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ib(this.value.arrayValue,t)}}]),n}(Jb),dw=function(e){m(n,e);var t=w(n);function n(e,r){return l(this,n),t.call(this,e,"array-contains-any",r)}return p(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Db(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ib(t.value.arrayValue,e)}))}}]),n}(Jb),pw=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;l(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ce=null}));function vw(e){return new pw(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function mw(e){var t=Ig(e);if(null===t.ce){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return nw(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),bk(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Tb(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Tb(e)})).join(",")),t.ce=n}return t.ce}function yw(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Qb(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!rw(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Hb(e.startAt,t.startAt)&&Hb(e.endAt,t.endAt)}function gw(e){return Wg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function kw(e,t){return e.filters.filter((function(e){return e instanceof Jb&&e.field.isEqual(t)}))}function bw(e,t,n){var r,i=wb,a=!0,o=C(kw(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=wb,c=!0;switch(u.op){case"<":case"<=":s=Mb(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=wb}jb({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];jb({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function ww(e,t,n){var r,i=bb,a=!0,o=C(kw(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=bb,c=!0;switch(u.op){case">=":case">":s=Ub(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=bb}Vb({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Vb({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var xw=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;l(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}));function _w(e,t,n,r,i,a,o,u){return new xw(e,t,n,r,i,a,o,u)}function Iw(e){return new xw(e)}function Sw(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ew(e){return null!==e.collectionGroup}function Tw(e){var t=Ig(e);if(null===t.le){t.le=[];var n,r=new Set,i=C(t.explicitOrderBy);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.le.push(a),r.add(a.field.canonicalString())}}catch(s){i.e(s)}finally{i.f()}var o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",u=function(e){var t=new ab(Hg.comparator);return e.filters.forEach((function(e){e.getFlattenedFilters().forEach((function(e){e.isInequality()&&(t=t.add(e.field))}))})),t}(t);u.forEach((function(e){r.has(e.canonicalString())||e.isKeyField()||t.le.push(new Wb(e,o))})),r.has(Hg.keyField().canonicalString())||t.le.push(new Wb(Hg.keyField(),o))}return t.le}function Cw(e){var t=Ig(e);return t.he||(t.he=Aw(t,Tw(e))),t.he}function Aw(e,t){if("F"===e.limitType)return vw(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new Wb(e.field,t)}));var n=e.endAt?new Kb(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Kb(e.startAt.position,e.startAt.inclusive):null;return vw(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function Nw(e,t){var n=e.filters.concat([t]);return new xw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Dw(e,t,n){return new xw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Rw(e,t){return yw(Cw(e),Cw(t))&&e.limitType===t.limitType}function Pw(e){return"".concat(mw(Cw(e)),"|lt:").concat(e.limitType)}function Ow(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return aw(e)})).join(", "),"]")),bk(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Tb(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Tb(e)})).join(",")),"Target(".concat(t,")")}(Cw(e)),"; limitType=").concat(e.limitType,")")}function Lw(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Wg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=C(Tw(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=C(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Gb(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Tw(e),t))&&!(e.endAt&&!function(e,t,n){var r=Gb(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Tw(e),t))}(e,t)}function Fw(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Mw(e){return function(t,n){var r,i=!1,a=C(Tw(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Uw(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Uw(e,t,n){var r=e.field.isKeyField()?Wg.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Sb(r,i):xg()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return xg()}}var jw=function(){function e(t,n){l(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return p(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=E(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){eb(this.inner,(function(t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=E(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return tb(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Vw=new nb(Wg.comparator);function Bw(){return Vw}var zw=new nb(Wg.comparator);function qw(){for(var e=zw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Kw(e){var t=zw;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Gw(){return Ww()}function Hw(){return Ww()}function Ww(){return new jw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Qw=new nb(Wg.comparator),Yw=new ab(Wg.comparator);function Jw(){for(var e=Yw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Xw=new ab(Ug);function $w(){return Xw}function Zw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wk(t)?"-0":t}}function ex(e){return{integerValue:""+e}}function tx(e,t){return xk(t)?ex(t):Zw(e,t)}var nx=p((function e(){l(this,e),this._=void 0}));function rx(e,t,n){return e instanceof ox?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&vb(t)&&(t=mb(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ux?sx(e,t):e instanceof cx?lx(e,t):function(e,t){var n=ax(e,t),r=hx(n)+hx(e.Ie);return Nb(n)&&Nb(e.Ie)?ex(r):Zw(e.serializer,r)}(e,t)}function ix(e,t,n){return e instanceof ux?sx(e,t):e instanceof cx?lx(e,t):n}function ax(e,t){return e instanceof fx?function(e){return Nb(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var ox=function(e){m(n,e);var t=w(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n)}(nx),ux=function(e){m(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this)).elements=e,r}return p(n)}(nx);function sx(e,t){var n,r=dx(t),i=C(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return _b(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var cx=function(e){m(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this)).elements=e,r}return p(n)}(nx);function lx(e,t){var n,r=dx(t),i=C(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!_b(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var fx=function(e){m(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).serializer=e,i.Ie=r,i}return p(n)}(nx);function hx(e){return db(e.integerValue||e.doubleValue)}function dx(e){return Db(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var px=p((function e(t,n){l(this,e),this.field=t,this.transform=n}));var vx=p((function e(t,n){l(this,e),this.version=t,this.transformResults=n})),mx=function(){function e(t,n){l(this,e),this.updateTime=t,this.exists=n}return p(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function yx(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var gx=p((function e(){l(this,e)}));function kx(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Dx(e.key,mx.none()):new Ix(e.key,e.data,mx.none());var n,r=e.data,i=Bb.empty(),a=new ab(Hg.comparator),o=C(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Sx(e.key,i,new sb(a.toArray()),mx.none())}function bx(e,t,n){e instanceof Ix?function(e,t,n){var r=e.value.clone(),i=Tx(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Sx?function(e,t,n){if(yx(e.precondition,t)){var r=Tx(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ex(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function wx(e,t,n,r){return e instanceof Ix?function(e,t,n,r){if(!yx(e.precondition,t))return n;var i=e.value.clone(),a=Cx(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Sx?function(e,t,n,r){if(!yx(e.precondition,t))return n;var i=Cx(e.fieldTransforms,r,t),a=t.data;return a.setAll(Ex(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return yx(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function xx(e,t){var n,r=null,i=C(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=ax(a.transform,o||null);null!=u&&(null===r&&(r=Bb.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function _x(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&jg(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ux&&t instanceof ux||e instanceof cx&&t instanceof cx?jg(e.elements,t.elements,_b):e instanceof fx&&t instanceof fx?_b(e.Ie,t.Ie):e instanceof ox&&t instanceof ox}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Ix=function(e){m(n,e);var t=w(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return l(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(gx),Sx=function(e){m(n,e);var t=w(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return l(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return p(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(gx);function Ex(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Tx(e,t,n){var r=new Map;_g(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,ix(o,u,n[i]))}return r}function Cx(e,t,n){var r,i=new Map,a=C(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,rx(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Ax,Nx,Dx=function(e){m(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(gx),Rx=function(e){m(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(gx),Px=function(){function e(t,n,r,i){l(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return p(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&bx(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=C(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=wx(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=C(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=wx(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Hw();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=kx(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(zg.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Jw())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&jg(this.mutations,e.mutations,(function(e,t){return _x(e,t)}))&&jg(this.baseMutations,e.baseMutations,(function(e,t){return _x(e,t)}))}}]),e}(),Ox=function(){function e(t,n,r,i){l(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return p(e,null,[{key:"from",value:function(t,n,r){_g(t.mutations.length===r.length);for(var i=Qw,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Lx=function(){function e(t,n){l(this,e),this.largestBatchId=t,this.mutation=n}return p(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Fx=p((function e(t,n){l(this,e),this.count=t,this.unchangedNames=n}));function Mx(e){switch(e){default:return xg();case Sg.CANCELLED:case Sg.UNKNOWN:case Sg.DEADLINE_EXCEEDED:case Sg.RESOURCE_EXHAUSTED:case Sg.INTERNAL:case Sg.UNAVAILABLE:case Sg.UNAUTHENTICATED:return!1;case Sg.INVALID_ARGUMENT:case Sg.NOT_FOUND:case Sg.ALREADY_EXISTS:case Sg.PERMISSION_DENIED:case Sg.FAILED_PRECONDITION:case Sg.ABORTED:case Sg.OUT_OF_RANGE:case Sg.UNIMPLEMENTED:case Sg.DATA_LOSS:return!0}}function Ux(e){if(void 0===e)return kg("GRPC error has no .code"),Sg.UNKNOWN;switch(e){case Ax.OK:return Sg.OK;case Ax.CANCELLED:return Sg.CANCELLED;case Ax.UNKNOWN:return Sg.UNKNOWN;case Ax.DEADLINE_EXCEEDED:return Sg.DEADLINE_EXCEEDED;case Ax.RESOURCE_EXHAUSTED:return Sg.RESOURCE_EXHAUSTED;case Ax.INTERNAL:return Sg.INTERNAL;case Ax.UNAVAILABLE:return Sg.UNAVAILABLE;case Ax.UNAUTHENTICATED:return Sg.UNAUTHENTICATED;case Ax.INVALID_ARGUMENT:return Sg.INVALID_ARGUMENT;case Ax.NOT_FOUND:return Sg.NOT_FOUND;case Ax.ALREADY_EXISTS:return Sg.ALREADY_EXISTS;case Ax.PERMISSION_DENIED:return Sg.PERMISSION_DENIED;case Ax.FAILED_PRECONDITION:return Sg.FAILED_PRECONDITION;case Ax.ABORTED:return Sg.ABORTED;case Ax.OUT_OF_RANGE:return Sg.OUT_OF_RANGE;case Ax.UNIMPLEMENTED:return Sg.UNIMPLEMENTED;case Ax.DATA_LOSS:return Sg.DATA_LOSS;default:return xg()}}(Nx=Ax||(Ax={}))[Nx.OK=0]="OK",Nx[Nx.CANCELLED=1]="CANCELLED",Nx[Nx.UNKNOWN=2]="UNKNOWN",Nx[Nx.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nx[Nx.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nx[Nx.NOT_FOUND=5]="NOT_FOUND",Nx[Nx.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nx[Nx.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nx[Nx.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nx[Nx.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nx[Nx.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nx[Nx.ABORTED=10]="ABORTED",Nx[Nx.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nx[Nx.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nx[Nx.INTERNAL=13]="INTERNAL",Nx[Nx.UNAVAILABLE=14]="UNAVAILABLE",Nx[Nx.DATA_LOSS=15]="DATA_LOSS";var jx=null;function Vx(){return new TextEncoder}var Bx=new hg([4294967295,4294967295],0);function zx(e){var t=Vx().encode(e),n=new fg;return n.update(t),new Uint8Array(n.digest())}function qx(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new hg([n,r],0),new hg([i,a],0)]}var Kx=function(){function e(t,n,r){if(l(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gx("Invalid padding: ".concat(n));if(r<0)throw new Gx("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Gx("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Gx("Invalid padding when bitmap length is 0: ".concat(n));this.Te=8*t.length-n,this.Ee=hg.fromNumber(this.Te)}return p(e,[{key:"de",value:function(e,t,n){var r=e.add(t.multiply(hg.fromNumber(n)));return 1===r.compare(Bx)&&(r=new hg([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}},{key:"Ae",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Te)return!1;for(var t=E(qx(zx(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.de(n,r,i);if(!this.Ae(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Te)for(var t=E(qx(zx(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.de(n,r,i);this.Re(a)}}},{key:"Re",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Gx=function(e){m(n,e);var t=w(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return p(n)}(_(Error)),Hx=function(){function e(t,n,r,i,a){l(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return p(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Wx.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(zg.min(),i,new nb(Ug),Bw(),Jw())}}]),e}(),Wx=function(){function e(t,n,r,i,a){l(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return p(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Jw(),Jw(),Jw())}}]),e}(),Qx=p((function e(t,n,r,i){l(this,e),this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i})),Yx=p((function e(t,n){l(this,e),this.targetId=t,this.fe=n})),Jx=p((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lb.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;l(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Xx=function(){function e(){l(this,e),this.ge=0,this.pe=e_(),this.ye=lb.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}return p(e,[{key:"current",get:function(){return this.we}},{key:"resumeToken",get:function(){return this.ye}},{key:"be",get:function(){return 0!==this.ge}},{key:"De",get:function(){return this.Se}},{key:"Ce",value:function(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}},{key:"ve",value:function(){var e=Jw(),t=Jw(),n=Jw();return this.pe.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:xg()}})),new Wx(this.ye,this.we,e,t,n)}},{key:"Fe",value:function(){this.Se=!1,this.pe=e_()}},{key:"Me",value:function(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}},{key:"xe",value:function(e){this.Se=!0,this.pe=this.pe.remove(e)}},{key:"Oe",value:function(){this.ge+=1}},{key:"Ne",value:function(){this.ge-=1,_g(this.ge>=0)}},{key:"Le",value:function(){this.Se=!0,this.we=!0}}]),e}(),$x=function(){function e(t){l(this,e),this.Be=t,this.ke=new Map,this.qe=Bw(),this.Qe=Zx(),this.Ke=new nb(Ug)}return p(e,[{key:"$e",value:function(e){var t,n=C(e.Ve);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me)}}catch(u){n.e(u)}finally{n.f()}var i,a=C(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.We(o,e.key,e.me)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Ge",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ze(n);switch(e.state){case 0:t.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||t.removeTarget(n);break;case 3:t.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:t.je(n)&&(t.He(n),r.Ce(e.resumeToken));break;default:xg()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((function(e,r){n.je(r)&&t(r)}))}},{key:"Je",value:function(e){var t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){var i=r.target;if(gw(i))if(0===n){var a=new Wg(i.path);this.We(t,a,qb.newNoDocument(a,zg.min()))}else _g(1===n);else{var o=this.Ze(t);if(o!==n){var u=this.Xe(e),s=u?this.et(u,e,o):1;if(0!==s){this.He(t);var c=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,c)}null==jx||jx.tt(function(e,t,n,r,i){var a,o,u,s,c,l,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(s=null===(u=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===u?void 0:u.length)&&void 0!==s?s:0,padding:null!==(l=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(o,e.fe,this.Be.nt(),u,s))}}}}},{key:"Xe",value:function(e){var t=e.fe.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,u=i.padding,s=void 0===u?0:u,c=t.hashCount,l=void 0===c?0:c;try{n=pb(o).toUint8Array()}catch(e){if(e instanceof cb)return bg("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new Kx(n,s,l)}catch(e){return bg(e instanceof Gx?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Te?null:r}},{key:"et",value:function(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}},{key:"rt",value:function(e,t){var n=this,r=this.Be.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Be.nt(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.We(t,r,null),i++)})),i}},{key:"it",value:function(e){var t=this,n=new Map;this.ke.forEach((function(r,i){var a=t.Ye(i);if(a){if(r.current&&gw(a.target)){var o=new Wg(a.target.path);null!==t.qe.get(o)||t.st(i,o)||t.We(i,o,qb.newNoDocument(o,e))}r.De&&(n.set(i,r.ve()),r.Fe())}}));var r=Jw();this.Qe.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ye(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.qe.forEach((function(t,n){return n.setReadTime(e)}));var i=new Hx(e,n,this.Ke,this.qe,r);return this.qe=Bw(),this.Qe=Zx(),this.Ke=new nb(Ug),i}},{key:"Ue",value:function(e,t){if(this.je(e)){var n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}}},{key:"We",value:function(e,t,n){if(this.je(e)){var r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}}},{key:"removeTarget",value:function(e){this.ke.delete(e)}},{key:"Ze",value:function(e){var t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Oe",value:function(e){this.ze(e).Oe()}},{key:"ze",value:function(e){var t=this.ke.get(e);return t||(t=new Xx,this.ke.set(e,t)),t}},{key:"ot",value:function(e){var t=this.Qe.get(e);return t||(t=new ab(Ug),this.Qe=this.Qe.insert(e,t)),t}},{key:"je",value:function(e){var t=null!==this.Ye(e);return t||gg("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ye",value:function(e){var t=this.ke.get(e);return t&&t.be?null:this.Be._t(e)}},{key:"He",value:function(e){var t=this;this.ke.set(e,new Xx),this.Be.getRemoteKeysForTarget(e).forEach((function(n){t.We(e,n,null)}))}},{key:"st",value:function(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}]),e}();function Zx(){return new nb(Wg.comparator)}function e_(){return new nb(Wg.comparator)}var t_={asc:"ASCENDING",desc:"DESCENDING"},n_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r_={and:"AND",or:"OR"},i_=p((function e(t,n){l(this,e),this.databaseId=t,this.useProto3Json=n}));function a_(e,t){return e.useProto3Json||bk(t)?t:{value:t}}function o_(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function u_(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function s_(e,t){return o_(e,t.toTimestamp())}function c_(e){return _g(!!e),zg.fromTimestamp(function(e){var t=hb(e);return new Bg(t.seconds,t.nanos)}(e))}function l_(e,t){return f_(e,t).canonicalString()}function f_(e,t){var n=function(e){return new Kg(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function h_(e){var t=Kg.fromString(e);return _g(L_(t)),t}function d_(e,t){return l_(e.databaseId,t.path)}function p_(e,t){var n=h_(t);if(n.get(1)!==e.databaseId.projectId)throw new Eg(Sg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Eg(Sg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Wg(g_(n))}function v_(e,t){return l_(e.databaseId,t)}function m_(e){var t=h_(e);return 4===t.length?Kg.emptyPath():g_(t)}function y_(e){return new Kg(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function g_(e){return _g(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function k_(e,t,n){return{name:d_(e,t),fields:n.value.mapValue.fields}}function b_(e,t,n){var r=p_(e,t.name),i=c_(t.updateTime),a=t.createTime?c_(t.createTime):zg.min(),o=new Bb({mapValue:{fields:t.fields}}),u=qb.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function w_(e,t){return"found"in t?function(e,t){_g(!!t.found),t.found.name,t.found.updateTime;var n=p_(e,t.found.name),r=c_(t.found.updateTime),i=t.found.createTime?c_(t.found.createTime):zg.min(),a=new Bb({mapValue:{fields:t.found.fields}});return qb.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){_g(!!t.missing),_g(!!t.readTime);var n=p_(e,t.missing),r=c_(t.readTime);return qb.newNoDocument(n,r)}(e,t):xg()}function x_(e,t){var n;if(t instanceof Ix)n={update:k_(e,t.key,t.value)};else if(t instanceof Dx)n={delete:d_(e,t.key)};else if(t instanceof Sx)n={update:k_(e,t.key,t.data),updateMask:O_(t.fieldMask)};else{if(!(t instanceof Rx))return xg();n={verify:d_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof ox)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ux)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof cx)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof fx)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw xg()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:s_(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:xg()}(e,t.precondition)),n}function __(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?mx.updateTime(c_(e.updateTime)):void 0!==e.exists?mx.exists(e.exists):mx.none()}(t.currentDocument):mx.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)_g("REQUEST_TIME"===t.setToServerValue),n=new ox;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ux(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new cx(i)}else"increment"in t?n=new fx(e,t.increment):xg();var a=Hg.fromServerFormat(t.fieldPath);return new px(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=p_(e,t.update.name),a=new Bb({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new sb(t.map((function(e){return Hg.fromServerFormat(e)})))}(t.updateMask);return new Sx(i,a,o,n,r)}return new Ix(i,a,n,r)}if(t.delete){var u=p_(e,t.delete);return new Dx(u,n)}if(t.verify){var s=p_(e,t.verify);return new Rx(s,n)}return xg()}function I_(e,t){return{documents:[v_(e,t.path)]}}function S_(e,t){var n,r={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(n=i,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n=i.popLast(),r.structuredQuery.from=[{collectionId:i.lastSegment()}]),r.parent=v_(e,n);var a=function(e){if(0!==e.length)return P_(Xb.create(e,"and"))}(t.filters);a&&(r.structuredQuery.where=a);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:D_(e.field),direction:C_(e.dir)}}(e)}))}(t.orderBy);o&&(r.structuredQuery.orderBy=o);var u=a_(e,t.limit);return null!==u&&(r.structuredQuery.limit=u),t.startAt&&(r.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:r,parent:n}}function E_(e){var t=m_(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_g(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=T_(e);return t instanceof Xb&&ew(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=function(e){return e.map((function(e){return function(e){return new Wb(R_(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var s=null;n.limit&&(s=function(e){var t;return bk(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Kb(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Kb(n,t)}(n.endAt)),_w(t,i,u,o,s,"F",c,l)}function T_(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=R_(e.unaryFilter.field);return Jb.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=R_(e.unaryFilter.field);return Jb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=R_(e.unaryFilter.field);return Jb.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=R_(e.unaryFilter.field);return Jb.create(i,"!=",{nullValue:"NULL_VALUE"});default:return xg()}}(e):void 0!==e.fieldFilter?function(e){return Jb.create(R_(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xg()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Xb.create(e.compositeFilter.filters.map((function(e){return T_(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return xg()}}(e.compositeFilter.op))}(e):xg()}function C_(e){return t_[e]}function A_(e){return n_[e]}function N_(e){return r_[e]}function D_(e){return{fieldPath:e.canonicalString()}}function R_(e){return Hg.fromServerFormat(e.fieldPath)}function P_(e){return e instanceof Jb?function(e){if("=="===e.op){if(Pb(e.value))return{unaryFilter:{field:D_(e.field),op:"IS_NAN"}};if(Rb(e.value))return{unaryFilter:{field:D_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Pb(e.value))return{unaryFilter:{field:D_(e.field),op:"IS_NOT_NAN"}};if(Rb(e.value))return{unaryFilter:{field:D_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:D_(e.field),op:A_(e.op),value:e.value}}}(e):e instanceof Xb?function(e){var t=e.getFilters().map((function(e){return P_(e)}));return 1===t.length?t[0]:{compositeFilter:{op:N_(e.op),filters:t}}}(e):xg()}function O_(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function L_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var F_=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:zg.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:zg.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:lb.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;l(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return p(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),M_=p((function e(t){l(this,e),this.ct=t}));function U_(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:j_(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:d_(e,t.key),fields:t.data.value.mapValue.fields,updateTime:o_(e,t.version.toTimestamp()),createTime:o_(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:V_(t.version)};else{if(!t.isUnknownDocument())return xg();r.unknownDocument={path:n.path.toArray(),version:V_(t.version)}}return r}function j_(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function V_(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function B_(e){var t=new Bg(e.seconds,e.nanoseconds);return zg.fromTimestamp(t)}function z_(e,t){for(var n=(t.baseMutations||[]).map((function(t){return __(e.ct,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return __(e.ct,t)})),u=Bg.fromMillis(t.localWriteTimeMs);return new Px(t.batchId,u,n,o)}function q_(e){var t,n=B_(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?B_(e.lastLimboFreeSnapshotVersion):zg.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return _g(1===e.documents.length),Cw(Iw(m_(e.documents[0])))}(e.query):function(e){return Cw(E_(e))}(e.query),new F_(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,lb.fromBase64String(e.resumeToken))}function K_(e,t){var n,r=V_(t.snapshotVersion),i=V_(t.lastLimboFreeSnapshotVersion);n=gw(t.target)?I_(e.ct,t.target):S_(e.ct,t.target).ut;var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:mw(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function G_(e){var t=E_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Dw(t,t.limit,"L"):t}function H_(e,t){return new Lx(t.largestBatchId,__(e.ct,t.overlayMutation))}function W_(e,t){var n=t.path.lastSegment();return[e,_k(t.path.popLast()),n]}function Q_(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:V_(r.readTime),documentKey:_k(r.documentKey.path),largestBatchId:r.largestBatchId}}var Y_=function(){function e(){l(this,e)}return p(e,[{key:"getBundleMetadata",value:function(e,t){return J_(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:B_(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return J_(e).put(function(e){return{bundleId:e.id,createTime:V_(c_(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return X_(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:G_(e.bundledQuery),readTime:B_(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return X_(e).put(function(e){return{name:e.name,readTime:V_(c_(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function J_(e){return $k(e,"bundles")}function X_(e){return $k(e,"namedQueries")}var $_=function(){function e(t,n){l(this,e),this.serializer=t,this.userId=n}return p(e,[{key:"getOverlay",value:function(e,t){var n=this;return Z_(e).get(W_(this.userId,t)).next((function(e){return e?H_(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Gw();return uk.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Lx(t,a);i.push(r.ht(e,o))})),uk.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(_k(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Z_(e).H("collectionPathOverlayIndex",i))})),uk.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Gw(),a=_k(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Z_(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=H_(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Gw(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Z_(e).Y({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=H_(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ht",value:function(e,t){return Z_(e).put(function(e,t,n){var r=E(W_(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:x_(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"lt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Z_(e){return $k(e,"documentOverlays")}var eI=function(){function e(){l(this,e)}return p(e,[{key:"Pt",value:function(e,t){this.It(e,t),t.Tt()}},{key:"It",value:function(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(db(e.integerValue));else if("doubleValue"in e){var n=db(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),wk(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Et(t,20),"string"==typeof r&&(r=hb(r)),t.At("".concat(r.seconds||"")),t.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(pb(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?Fb(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):xg()}},{key:"Rt",value:function(e,t){this.Et(t,25),this.St(e,t)}},{key:"St",value:function(e,t){t.At(e)}},{key:"yt",value:function(e,t){var n=e.fields||{};this.Et(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Rt(a,t),this.It(n[a],t)}}},{key:"wt",value:function(e,t){var n=e.values||[];this.Et(t,50);var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.It(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"gt",value:function(e,t){var n=this;this.Et(t,37),Wg.fromName(e).path.forEach((function(e){n.Et(t,60),n.St(e,t)}))}},{key:"Et",value:function(e,t){e.dt(t)}},{key:"Vt",value:function(e){e.dt(2)}}]),e}();function tI(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function nI(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=tI(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}eI.bt=new eI;var rI=function(){function e(){l(this,e),this.buffer=new Uint8Array(1024),this.position=0}return p(e,[{key:"Dt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ct(n.value),n=t.next();this.vt()}},{key:"Ft",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Mt(n.value),n=t.next();this.xt()}},{key:"Ot",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ct(i);else if(i<2048)this.Ct(960|i>>>6),this.Ct(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i);else{var a=r.codePointAt(0);this.Ct(240|a>>>18),this.Ct(128|63&a>>>12),this.Ct(128|63&a>>>6),this.Ct(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.vt()}},{key:"Nt",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Mt(i);else if(i<2048)this.Mt(960|i>>>6),this.Mt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i);else{var a=r.codePointAt(0);this.Mt(240|a>>>18),this.Mt(128|63&a>>>12),this.Mt(128|63&a>>>6),this.Mt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.xt()}},{key:"Lt",value:function(e){var t=this.Bt(e),n=nI(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"qt",value:function(e){var t=this.Bt(e),n=nI(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Qt",value:function(){this.Kt(255),this.Kt(255)}},{key:"$t",value:function(){this.Ut(255),this.Ut(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Wt",value:function(){return this.buffer.slice(0,this.position)}},{key:"Bt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ct",value:function(e){var t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}},{key:"Mt",value:function(e){var t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}},{key:"vt",value:function(){this.Kt(0),this.Kt(1)}},{key:"xt",value:function(){this.Ut(0),this.Ut(1)}},{key:"Kt",value:function(e){this.kt(1),this.buffer[this.position++]=e}},{key:"Ut",value:function(e){this.kt(1),this.buffer[this.position++]=~e}},{key:"kt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),iI=function(){function e(t){l(this,e),this.Gt=t}return p(e,[{key:"ft",value:function(e){this.Gt.Dt(e)}},{key:"At",value:function(e){this.Gt.Ot(e)}},{key:"dt",value:function(e){this.Gt.Lt(e)}},{key:"Tt",value:function(){this.Gt.Qt()}}]),e}(),aI=function(){function e(t){l(this,e),this.Gt=t}return p(e,[{key:"ft",value:function(e){this.Gt.Ft(e)}},{key:"At",value:function(e){this.Gt.Nt(e)}},{key:"dt",value:function(e){this.Gt.qt(e)}},{key:"Tt",value:function(){this.Gt.$t()}}]),e}(),oI=function(){function e(){l(this,e),this.Gt=new rI,this.zt=new iI(this.Gt),this.jt=new aI(this.Gt)}return p(e,[{key:"seed",value:function(e){this.Gt.seed(e)}},{key:"Ht",value:function(e){return 0===e?this.zt:this.jt}},{key:"Wt",value:function(){return this.Gt.Wt()}},{key:"reset",value:function(){this.Gt.reset()}}]),e}(),uI=function(){function e(t,n,r,i){l(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return p(e,[{key:"Jt",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function sI(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=cI(e.arrayValue,t.arrayValue))?n:0!==(n=cI(e.directionalValue,t.directionalValue))?n:Wg.comparator(e.documentKey,t.documentKey)}function cI(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var lI=function(){function e(t){l(this,e),this.Yt=new ab((function(e,t){return Hg.comparator(e.field,t.field)})),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Zt=t.orderBy,this.Xt=[];var n,r=C(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Yt=this.Yt.add(i):this.Xt.push(i)}}catch(a){r.e(a)}finally{r.f()}}return p(e,[{key:"en",get:function(){return this.Yt.size>1}},{key:"tn",value:function(e){if(_g(e.collectionGroup===this.collectionId),this.en)return!1;var t=Yg(e);if(void 0!==t&&!this.nn(t))return!1;for(var n=Jg(e),r=new Set,i=0,a=0;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){var o=this.Yt.getIterator().getNext();if(!r.has(o.field.canonicalString())){var u=n[i];if(!this.rn(o,u)||!this.sn(this.Zt[a++],u))return!1}++i}for(;i<n.length;++i){var s=n[i];if(a>=this.Zt.length||!this.sn(this.Zt[a++],s))return!1}return!0}},{key:"on",value:function(){if(this.en)return null;var e,t=new ab(Hg.comparator),n=[],r=C(this.Xt);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)n.push(new Xg(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),n.push(new Xg(i.field,0))}}}catch(s){r.e(s)}finally{r.f()}var a,o=C(this.Zt);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||t.has(u.field)||(t=t.add(u.field),n.push(new Xg(u.field,"asc"===u.dir?0:1)))}}catch(s){o.e(s)}finally{o.f()}return new Qg(Qg.UNKNOWN_ID,this.collectionId,n,$g.empty())}},{key:"nn",value:function(e){var t,n=C(this.Xt);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.rn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"rn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function fI(e){var t,n;if(_g(e instanceof Jb||e instanceof Xb),e instanceof Jb){if(e instanceof fw){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Jb.create(e.field,"==",t)})))||[];return Xb.create(r,"or")}return e}var i=e.filters.map((function(e){return fI(e)}));return Xb.create(i,e.op)}function hI(e){if(0===e.getFilters().length)return[];var t=mI(fI(e));return _g(vI(t)),dI(t)||pI(t)?[t]:t.getFilters()}function dI(e){return e instanceof Jb}function pI(e){return e instanceof Xb&&ew(e)}function vI(e){return dI(e)||pI(e)||function(e){if(e instanceof Xb&&Zb(e)){var t,n=C(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!dI(r)&&!pI(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function mI(e){if(_g(e instanceof Jb||e instanceof Xb),e instanceof Jb)return e;if(1===e.filters.length)return mI(e.filters[0]);var t=e.filters.map((function(e){return mI(e)})),n=Xb.create(t,e.op);return vI(n=kI(n))?n:(_g(n instanceof Xb),_g($b(n)),_g(n.filters.length>1),n.filters.reduce((function(e,t){return yI(e,t)})))}function yI(e,t){var n;return _g(e instanceof Jb||e instanceof Xb),_g(t instanceof Jb||t instanceof Xb),n=e instanceof Jb?t instanceof Jb?function(e,t){return Xb.create([e,t],"and")}(e,t):gI(e,t):t instanceof Jb?gI(t,e):function(e,t){if(_g(e.filters.length>0&&t.filters.length>0),$b(e)&&$b(t))return iw(e,t.getFilters());var n=Zb(e)?e:t,r=Zb(e)?t:e,i=n.filters.map((function(e){return yI(e,r)}));return Xb.create(i,"or")}(e,t),kI(n)}function gI(e,t){if($b(t))return iw(t,e.getFilters());var n=t.filters.map((function(t){return yI(e,t)}));return Xb.create(n,"or")}function kI(e){if(_g(e instanceof Jb||e instanceof Xb),e instanceof Jb)return e;var t=e.getFilters();if(1===t.length)return kI(t[0]);if(tw(e))return e;var n=t.map((function(e){return kI(e)})),r=[];return n.forEach((function(t){t instanceof Jb?r.push(t):t instanceof Xb&&(t.op===e.op?r.push.apply(r,c(t.filters)):r.push(t))})),1===r.length?r[0]:Xb.create(r,e.op)}var bI=function(){function e(){l(this,e),this._n=new wI}return p(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this._n.add(t),uk.resolve()}},{key:"getCollectionParents",value:function(e,t){return uk.resolve(this._n.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return uk.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return uk.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return uk.resolve()}},{key:"createTargetIndexes",value:function(e,t){return uk.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return uk.resolve(null)}},{key:"getIndexType",value:function(e,t){return uk.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return uk.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return uk.resolve(null)}},{key:"getMinOffset",value:function(e,t){return uk.resolve(tk.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return uk.resolve(tk.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return uk.resolve()}},{key:"updateIndexEntries",value:function(e,t){return uk.resolve()}}]),e}(),wI=function(){function e(){l(this,e),this.index={}}return p(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ab(Kg.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new ab(Kg.comparator)).toArray()}}]),e}(),xI=new Uint8Array(0),_I=function(){function e(t,n){l(this,e),this.databaseId=n,this.an=new wI,this.un=new jw((function(e){return mw(e)}),(function(e,t){return yw(e,t)})),this.uid=t.uid||""}return p(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.an.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.an.add(t)}));var a={collectionId:r,parent:_k(i)};return II(e).put(a)}return uk.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Vg(t),""],!1,!0);return II(e).W(r).next((function(e){var r,i=C(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Ek(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=EI(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=TI(e);return a.next((function(e){o.put(Q_(e,n.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=EI(e),r=TI(e),i=SI(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"deleteAllFieldIndexes",value:function(e){var t=EI(e),n=SI(e),r=TI(e);return t.H().next((function(){return n.H()})).next((function(){return r.H()}))}},{key:"createTargetIndexes",value:function(e,t){var n=this;return uk.forEach(this.cn(t),(function(t){return n.getIndexType(e,t).next((function(r){if(0===r||1===r){var i=new lI(t).on();if(null!=i)return n.addFieldIndex(e,i)}}))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=SI(e),i=!0,a=new Map;return uk.forEach(this.cn(t),(function(t){return n.ln(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Jw(),o=[];return uk.forEach(a,(function(i,a){gg("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(mw(t)));var u=function(e,t){var n=Yg(t);if(void 0===n)return null;var r,i=C(kw(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=C(Jg(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=C(kw(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=C(Jg(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?bw(e,o.fieldPath,e.startAt):ww(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Kb(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=C(Jg(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?ww(e,o.fieldPath,e.endAt):bw(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Kb(r,i)}(a,i),f=n.hn(i,a,c),h=n.hn(i,a,l),d=n.Pn(i,a,s),p=n.In(i.indexId,u,f,c.inclusive,h,l.inclusive,d);return uk.forEach(p,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=Wg.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return uk.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:hI(Xb.create(e.filters,"and")).map((function(t){return vw(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"In",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),l=s/(null!=t?t.length:1),f=[],h=function(){var s=t?u.Tn(t[d/l]):xI,h=u.En(e,s,n[d%l],r),p=u.dn(e,s,i[d%l],a),v=o.map((function(t){return u.En(e,s,t,!0)}));f.push.apply(f,c(u.createRange(h,p,v)))},d=0;d<s;++d)h();return f}},{key:"En",value:function(e,t,n,r){var i=new uI(e,Wg.empty(),t,n);return r?i:i.Jt()}},{key:"dn",value:function(e,t,n,r){var i=new uI(e,Wg.empty(),t,n);return r?i.Jt():i}},{key:"ln",value:function(e,t){var n=new lI(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return uk.forEach(i,(function(t){return n.ln(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new ab(Hg.comparator),r=!1,i=C(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=C(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=C(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"An",value:function(e,t){var n,r=new oI,i=C(Jg(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ht(a.kind);eI.bt.Pt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Wt()}},{key:"Tn",value:function(e){var t=new oI;return eI.bt.Pt(e,t.Ht(0)),t.Wt()}},{key:"Rn",value:function(e,t){var n=new oI;return eI.bt.Pt(Ab(this.databaseId,t),n.Ht(function(e){var t=Jg(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}},{key:"Pn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new oI);var i,a=0,o=C(Jg(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=C(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.Vn(t,s.fieldPath)&&Db(c))r=this.mn(r,s,c);else{var h=f.Ht(s.kind);eI.bt.Pt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"hn",value:function(e,t,n){return this.Pn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Wt();return t}},{key:"mn",value:function(e,t,n){var r,i=c(e),a=[],o=C(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,l=C(i);try{for(l.s();!(u=l.n()).done;){var f=u.value,h=new oI;h.seed(f.Wt()),eI.bt.Pt(s,h.Ht(t.kind)),a.push(h)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"Vn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Jb&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=EI(e),i=TI(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return uk.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new $g(t.sequenceNumber,new tk(B_(t.readTime),new Wg(Ek(t.documentKey)),t.largestBatchId)):$g.empty(),r=e.fields.map((function(e){var t=E(e,2),n=t[0],r=t[1];return new Xg(Hg.fromServerFormat(n),r)}));return new Qg(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ug(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=EI(e),a=TI(e);return this.gn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return uk.forEach(t,(function(t){return a.put(Q_(t.indexId,r.uid,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return uk.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?uk.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),uk.forEach(a,(function(r){return n.pn(e,t,r).next((function(t){var a=n.yn(i,r);return t.isEqual(a)?uk.resolve():n.wn(e,i,r,t,a)}))}))}))}))}},{key:"Sn",value:function(e,t,n,r){return SI(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"bn",value:function(e,t,n,r){return SI(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}},{key:"pn",value:function(e,t,n){var r=SI(e),i=new ab(sI);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},(function(e,r){i=i.add(new uI(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"yn",value:function(e,t){var n=new ab(sI),r=this.An(t,e);if(null==r)return n;var i=Yg(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Db(a)){var o,u=C(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new uI(t.indexId,e.key,this.Tn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new uI(t.indexId,e.key,xI,r));return n}},{key:"wn",value:function(e,t,n,r,i){var a=this;gg("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=ub(a),s=ub(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=ub(o)):l?(i(u),u=ub(a)):(u=ub(a),s=ub(o))}}(r,i,sI,(function(r){o.push(a.Sn(e,t,n,r))}),(function(r){o.push(a.bn(e,t,n,r))})),uk.waitFor(o)}},{key:"gn",value:function(e){var t=1;return TI(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return sI(e,t)})).filter((function(e,t,n){return!t||0!==sI(e,n[t-1])}));var r=[];r.push(e);var i,a=C(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=sI(o,e),s=sI(o,t);if(0===u)r[0]=e.Jt();else if(u>0&&s<0)r.push(o),r.push(o.Jt());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Dn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,xI,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,xI,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"Dn",value:function(e,t){return sI(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(CI)}},{key:"getMinOffset",value:function(e,t){var n=this;return uk.mapArray(this.cn(t),(function(t){return n.ln(e,t).next((function(e){return e||xg()}))})).next(CI)}}]),e}();function II(e){return $k(e,"collectionParents")}function SI(e){return $k(e,"indexEntries")}function EI(e){return $k(e,"indexConfiguration")}function TI(e){return $k(e,"indexState")}function CI(e){_g(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;nk(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new tk(t.readTime,t.documentKey,n)}var AI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NI=function(){function e(t,n,r){l(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return p(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function DI(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Y({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){_g(1===u)})));var c,l=[],f=C(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Ak(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return uk.waitFor(a).next((function(){return l}))}function RI(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw xg();t=e.noDocument}return JSON.stringify(t).length}NI.DEFAULT_COLLECTION_PERCENTILE=10,NI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,NI.DEFAULT=new NI(41943040,NI.DEFAULT_COLLECTION_PERCENTILE,NI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),NI.DISABLED=new NI(-1,0,0);var PI=function(){function e(t,n,r,i){l(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}return p(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return LI(e).Y({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=FI(e),o=LI(e);return o.add({}).next((function(u){_g("number"==typeof u);var s,c=new Px(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return x_(e.ct,t)})),i=n.mutations.map((function(t){return x_(e.ct,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new ab((function(e,t){return Ug(e.canonicalString(),t.canonicalString())})),d=C(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Ak(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Nk))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Cn[u]=c.keys()})),uk.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return LI(e).get(t).next((function(e){return e?(_g(e.userId===n.userId),z_(n.serializer,e)):null}))}},{key:"vn",value:function(e,t){var n=this;return this.Cn[t]?uk.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Cn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return LI(e).Y({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(_g(t.batchId>=r),a=z_(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return LI(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return LI(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return z_(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Ck(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return FI(e).Y({range:i},(function(r,i,o){var u=E(r,3),s=u[0],c=u[1],l=u[2],f=Ek(c);if(s===n.userId&&t.path.isEqual(f))return LI(e).get(l).next((function(e){if(!e)throw xg();_g(e.userId===n.userId),a.push(z_(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ab(Ug),i=[];return t.forEach((function(t){var a=Ck(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=FI(e).Y({range:o},(function(e,i,a){var o=E(e,3),u=o[0],s=o[1],c=o[2],l=Ek(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),uk.waitFor(i).next((function(){return n.Fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Ck(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new ab(Ug);return FI(e).Y({range:o},(function(e,t,a){var o=E(e,3),s=o[0],c=o[1],l=o[2],f=Ek(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.Fn(e,u)}))}},{key:"Fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(LI(e).get(t).next((function(e){if(null===e)throw xg();_g(e.userId===n.userId),r.push(z_(n.serializer,e))})))})),uk.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return DI(e.ae,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Mn(t.batchId)})),uk.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Mn",value:function(e){delete this.Cn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return uk.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return FI(e).Y({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Ek(e[1]);i.push(a)}else r.done()})).next((function(){_g(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return OI(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return MI(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"lt",value:function(t,n,r,i){return _g(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function OI(e,t,n){var r=Ck(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return FI(e).Y({range:a,J:!0},(function(e,n,r){var a=E(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function LI(e){return $k(e,"mutations")}function FI(e){return $k(e,"documentMutations")}function MI(e){return $k(e,"mutationQueues")}var UI=function(){function e(t){l(this,e),this.On=t}return p(e,[{key:"next",value:function(){return this.On+=2,this.On}}],[{key:"Nn",value:function(){return new e(0)}},{key:"Ln",value:function(){return new e(-1)}}]),e}(),jI=function(){function e(t,n){l(this,e),this.referenceDelegate=t,this.serializer=n}return p(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Bn(e).next((function(n){var r=new UI(n.highestTargetId);return n.highestTargetId=r.next(),t.kn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Bn(e).next((function(e){return zg.fromTimestamp(new Bg(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.kn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.qn(e,t).next((function(){return n.Bn(e).next((function(r){return r.targetCount+=1,n.Qn(t,r),n.kn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.qn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return VI(e).delete(t.targetId)})).next((function(){return n.Bn(e)})).next((function(t){return _g(t.targetCount>0),t.targetCount-=1,n.kn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return VI(e).Y((function(o,u){var s=q_(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return uk.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return VI(e).Y((function(e,n){var r=q_(n);t(r)}))}},{key:"Bn",value:function(e){return BI(e).get("targetGlobalKey").next((function(e){return _g(null!==e),e}))}},{key:"kn",value:function(e,t){return BI(e).put("targetGlobalKey",t)}},{key:"qn",value:function(e,t){return VI(e).put(K_(this.serializer,t))}},{key:"Qn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=mw(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return VI(e).Y({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=q_(n);yw(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=zI(e);return t.forEach((function(t){var o=_k(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),uk.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=zI(e);return uk.forEach(t,(function(t){var a=_k(t.path);return uk.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=zI(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=zI(e),i=Jw();return r.Y({range:n,J:!0},(function(e,t,n){var r=Ek(e[1]),a=new Wg(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=_k(t.path),r=IDBKeyRange.bound([n],[Vg(n)],!1,!0),i=0;return zI(e).Y({index:"documentTargetsIndex",J:!0,range:r},(function(e,t,n){var r=E(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"_t",value:function(e,t){return VI(e).get(t).next((function(e){return e?q_(e):null}))}}]),e}();function VI(e){return $k(e,"targets")}function BI(e){return $k(e,"targetGlobal")}function zI(e){return $k(e,"targetDocuments")}function qI(e,t){var n=E(e,2),r=n[0],i=n[1],a=E(t,2),o=a[0],u=a[1],s=Ug(r,o);return 0===s?Ug(i,u):s}var KI=function(){function e(t){l(this,e),this.Kn=t,this.buffer=new ab(qI),this.$n=0}return p(e,[{key:"Un",value:function(){return++this.$n}},{key:"Wn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();qI(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),GI=function(){function e(t,n,r){l(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return p(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"zn",value:function(e){var t=this;gg("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!hk(e.t0)){e.next=12;break}gg("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,ak(e.t0);case 14:return e.next=16,t.zn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),HI=function(){function e(t,n){l(this,e),this.jn=t,this.params=n}return p(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.Hn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return uk.resolve(kk._e);var r=new KI(t);return this.jn.forEachTarget(e,(function(e){return r.Wn(e.sequenceNumber)})).next((function(){return n.jn.Jn(e,(function(e){return r.Wn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(gg("LruGarbageCollector","Garbage collection skipped; disabled"),uk.resolve(AI)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(gg("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),AI):n.Yn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Yn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(gg("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),yg()<=wn.DEBUG&&gg("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),uk.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function WI(e,t){return new HI(e,t)}var QI=function(){function e(t,n){l(this,e),this.db=t,this.garbageCollector=WI(this,n)}return p(e,[{key:"Hn",value:function(e){var t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Zn",value:function(e){var t=0;return this.Jn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Jn",value:function(e,t){return this.Xn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return YI(e,n)}},{key:"removeReference",value:function(e,t,n){return YI(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return YI(e,t)}},{key:"er",value:function(e,t){return function(e,t){var n=!1;return MI(e).Z((function(r){return OI(e,r,t).next((function(e){return e&&(n=!0),uk.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Xn(e,(function(o,u){if(u<=t){var s=n.er(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,zg.min()),zI(e).delete(function(e){return[0,_k(e.path)]}(o))}))}));i.push(s)}})).next((function(){return uk.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return YI(e,t)}},{key:"Xn",value:function(e,t){var n,r=zI(e),i=kk._e;return r.Y({index:"documentTargetsIndex"},(function(e,r){var a=E(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==kk._e&&t(new Wg(Ek(n)),i),i=s,n=u):i=kk._e})).next((function(){i!==kk._e&&t(new Wg(Ek(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function YI(e,t){return zI(e).put(function(e,t){return{targetId:0,path:_k(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var JI=function(){function e(){l(this,e),this.changes=new jw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return p(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,qb.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?uk.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),XI=function(){function e(t){l(this,e),this.serializer=t}return p(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return tS(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return tS(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],j_(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.tr(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=qb.newInvalidDocument(t);return tS(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(nS(t))},(function(e,i){r=n.nr(t,i)})).next((function(){return r}))}},{key:"rr",value:function(e,t){var n=this,r={size:0,document:qb.newInvalidDocument(t)};return tS(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(nS(t))},(function(e,i){r={document:n.nr(t,i),size:RI(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Bw();return this.ir(e,t,(function(e,t){var i=n.nr(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"sr",value:function(e,t){var n=this,r=Bw(),i=new nb(Wg.comparator);return this.ir(e,t,(function(e,t){var a=n.nr(e,t);r=r.insert(e,a),i=i.insert(e,RI(t))})).next((function(){return{documents:r,_r:i}}))}},{key:"ir",value:function(e,t,n){if(t.isEmpty())return uk.resolve();var r=new ab(iS);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(nS(r.first()),nS(r.last())),a=r.getIterator(),o=a.getNext();return tS(e).Y({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Wg.fromSegments([].concat(c(t.prefixPath),[t.collectionGroup,t.documentId]));o&&iS(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.U(nS(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r,i){var a=this,o=t.path,u=[o.popLast().toArray(),o.lastSegment(),j_(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return tS(e).W(IDBKeyRange.bound(u,s,!0)).next((function(e){null==i||i.incrementDocumentReadCount(e.length);var n,o=Bw(),u=C(e);try{for(u.s();!(n=u.n()).done;){var s=n.value,c=a.nr(Wg.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);c.isFoundDocument()&&(Lw(t,c)||r.has(c.key))&&(o=o.insert(c.key,c))}}catch(l){u.e(l)}finally{u.f()}return o}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Bw(),o=rS(t,n),u=rS(t,tk.max());return tS(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.nr(Wg.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new ZI(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return eS(e).get("remoteDocumentGlobalKey").next((function(e){return _g(!!e),e}))}},{key:"tr",value:function(e,t){return eS(e).put("remoteDocumentGlobalKey",t)}},{key:"nr",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=b_(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Wg.fromSegments(t.noDocument.path),i=B_(t.noDocument.readTime);n=qb.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return xg();var a=Wg.fromSegments(t.unknownDocument.path),o=B_(t.unknownDocument.version);n=qb.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Bg(e[0],e[1]);return zg.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(zg.min()))return n}return qb.newInvalidDocument(e)}}]),e}();function $I(e){return new XI(e)}var ZI=function(e){m(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).ar=e,i.trackRemovals=r,i.ur=new jw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return p(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new ab((function(e,t){return Ug(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.ur.get(a);if(n.push(t.ar.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=U_(t.ar.serializer,o);i=i.add(a.path.popLast());var c=RI(s);r+=c-u.size,n.push(t.ar.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=U_(t.ar.serializer,o.convertToNoDocument(zg.min()));n.push(t.ar.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.ar.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.ar.updateMetadata(e,r)),uk.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.ar.rr(e,t).next((function(e){return n.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.ar.sr(e,t).next((function(e){var t=e.documents;return e._r.forEach((function(e,r){n.ur.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(JI);function eS(e){return $k(e,"remoteDocumentGlobal")}function tS(e){return $k(e,"remoteDocumentsV14")}function nS(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function rS(e,t){var n=t.documentKey.path.toArray();return[e,j_(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function iS(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Ug(n[a],r[a]))return i;return(i=Ug(n.length,r.length))||((i=Ug(n[n.length-2],r[r.length-2]))||Ug(n[n.length-1],r[r.length-1]))}var aS=p((function e(t,n){l(this,e),this.overlayedDocument=t,this.mutatedFields=n})),oS=function(){function e(t,n,r,i){l(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return p(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&wx(r.mutation,e,sb.empty(),Bg.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Jw()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jw(),i=Gw();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=qw();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Gw();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Jw())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Bw(),a=Ww(),o=Ww();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Sx)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),wx(o.mutation,t,o.mutation.getFieldMask(),Bg.now())):a.set(t.key,sb.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new aS(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Ww(),i=new nb((function(e,t){return e-t})),a=Jw();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=C(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||sb.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Jw()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Hw();c.forEach((function(e){if(!a.has(e)){var n=kx(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return uk.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return Wg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ew(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):uk.resolve(Gw()),u=-1,s=a;return o.next((function(t){return uk.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?uk.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Jw())})).next((function(e){return{batchId:u,changes:Kw(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Wg(t)).next((function(e){var t=qw();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=qw();return this.indexManager.getCollectionParents(e,a).next((function(u){return uk.forEach(u,(function(u){var s=function(e,t){return new xw(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,u.child(a));return i.getDocumentsMatchingCollectionQuery(e,s,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,qb.newInvalidDocument(r)))}));var n=qw();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&wx(a.mutation,r,sb.empty(),Bg.now()),Lw(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),uS=function(){function e(t){l(this,e),this.serializer=t,this.cr=new Map,this.lr=new Map}return p(e,[{key:"getBundleMetadata",value:function(e,t){return uk.resolve(this.cr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:c_(e.createTime)}}(t)),uk.resolve()}},{key:"getNamedQuery",value:function(e,t){return uk.resolve(this.lr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:G_(e.bundledQuery),readTime:c_(e.readTime)}}(t)),uk.resolve()}}]),e}(),sS=function(){function e(){l(this,e),this.overlays=new nb(Wg.comparator),this.hr=new Map}return p(e,[{key:"getOverlay",value:function(e,t){return uk.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Gw();return uk.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ht(e,t,i)})),uk.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.hr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.hr.delete(n)),uk.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Gw(),i=t.length+1,a=new Wg(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return uk.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new nb((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Gw(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Gw(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return uk.resolve(s)}},{key:"ht",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Lx(t,n));var a=this.hr.get(t);void 0===a&&(a=Jw(),this.hr.set(t,a)),this.hr.set(t,a.add(n.key))}}]),e}(),cS=function(){function e(){l(this,e),this.Pr=new ab(lS.Ir),this.Tr=new ab(lS.Er)}return p(e,[{key:"isEmpty",value:function(){return this.Pr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new lS(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}},{key:"dr",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ar(new lS(e,t))}},{key:"Rr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Vr",value:function(e){var t=this,n=new Wg(new Kg([])),r=new lS(n,e),i=new lS(n,e+1),a=[];return this.Tr.forEachInRange([r,i],(function(e){t.Ar(e),a.push(e.key)})),a}},{key:"mr",value:function(){var e=this;this.Pr.forEach((function(t){return e.Ar(t)}))}},{key:"Ar",value:function(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}},{key:"gr",value:function(e){var t=new Wg(new Kg([])),n=new lS(t,e),r=new lS(t,e+1),i=Jw();return this.Tr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new lS(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),lS=function(){function e(t,n){l(this,e),this.key=t,this.pr=n}return p(e,null,[{key:"Ir",value:function(e,t){return Wg.comparator(e.key,t.key)||Ug(e.pr,t.pr)}},{key:"Er",value:function(e,t){return Ug(e.pr,t.pr)||Wg.comparator(e.key,t.key)}}]),e}(),fS=function(){function e(t,n){l(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ab(lS.Ir)}return p(e,[{key:"checkEmpty",value:function(e){return uk.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Px(i,t,n,r);this.mutationQueue.push(a);var o,u=C(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.wr=this.wr.add(new lS(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return uk.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return uk.resolve(this.Sr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.br(n),i=r<0?0:r;return uk.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return uk.resolve(0===this.mutationQueue.length?-1:this.yr-1)}},{key:"getAllMutationBatches",value:function(e){return uk.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new lS(t,0),i=new lS(t,Number.POSITIVE_INFINITY),a=[];return this.wr.forEachInRange([r,i],(function(e){var t=n.Sr(e.pr);a.push(t)})),uk.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ab(Ug);return t.forEach((function(e){var t=new lS(e,0),i=new lS(e,Number.POSITIVE_INFINITY);n.wr.forEachInRange([t,i],(function(e){r=r.add(e.pr)}))})),uk.resolve(this.Dr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Wg.isDocumentKey(i)||(i=i.child(""));var a=new lS(new Wg(i),0),o=new ab(Ug);return this.wr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),a),uk.resolve(this.Dr(o))}},{key:"Dr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Sr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;_g(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.wr;return uk.forEach(t.mutations,(function(i){var a=new lS(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.wr=r}))}},{key:"Mn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new lS(t,0),r=this.wr.firstAfterOrEqual(n);return uk.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,uk.resolve()}},{key:"Cr",value:function(e,t){return this.br(e)}},{key:"br",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Sr",value:function(e){var t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),hS=function(){function e(t){l(this,e),this.vr=t,this.docs=new nb(Wg.comparator),this.size=0}return p(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return uk.resolve(n?n.document.mutableCopy():qb.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Bw();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():qb.newInvalidDocument(e))})),uk.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Bw(),a=t.path,o=new Wg(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||nk(ek(l),n)<=0||(r.has(l.key)||Lw(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return uk.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){xg()}},{key:"Fr",value:function(e,t){return uk.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new dS(this)}},{key:"getSize",value:function(e){return uk.resolve(this.size)}}]),e}(),dS=function(e){m(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this)).ar=e,r}return p(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.ar.addEntry(e,i)):t.ar.removeEntry(r)})),uk.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.ar.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.ar.getEntries(e,t)}}]),n}(JI),pS=function(){function e(t){l(this,e),this.persistence=t,this.Mr=new jw((function(e){return mw(e)}),yw),this.lastRemoteSnapshotVersion=zg.min(),this.highestTargetId=0,this.Or=0,this.Nr=new cS,this.targetCount=0,this.Lr=UI.Nn()}return p(e,[{key:"forEachTarget",value:function(e,t){return this.Mr.forEach((function(e,n){return t(n)})),uk.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return uk.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return uk.resolve(this.Or)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Lr.next(),uk.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),uk.resolve()}},{key:"qn",value:function(e){this.Mr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Lr=new UI(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.qn(t),this.targetCount+=1,uk.resolve()}},{key:"updateTargetData",value:function(e,t){return this.qn(t),uk.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,uk.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Mr.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Mr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),uk.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return uk.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Mr.get(t)||null;return uk.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Nr.dr(t,n),uk.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Nr.Rr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),uk.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Nr.Vr(t),uk.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Nr.gr(t);return uk.resolve(n)}},{key:"containsKey",value:function(e,t){return uk.resolve(this.Nr.containsKey(t))}}]),e}(),vS=function(){function e(t,n){var r=this;l(this,e),this.Br={},this.overlays={},this.kr=new kk(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new pS(this),this.indexManager=new bI,this.remoteDocumentCache=function(e){return new hS(e)}((function(e){return r.referenceDelegate.Kr(e)})),this.serializer=new M_(n),this.$r=new uS(this.serializer)}return p(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.qr=!1,Promise.resolve()}},{key:"started",get:function(){return this.qr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new sS,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Br[e.toKey()];return n||(n=new fS(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,n){var r=this;gg("MemoryPersistence","Starting transaction:",e);var i=new mS(this.kr.next());return this.referenceDelegate.Ur(),n(i).next((function(e){return r.referenceDelegate.Wr(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gr",value:function(e,t){return uk.or(Object.values(this.Br).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),mS=function(e){m(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return p(n)}(ik),yS=function(){function e(t){l(this,e),this.persistence=t,this.zr=new cS,this.jr=null}return p(e,[{key:"Jr",get:function(){if(this.jr)return this.jr;throw xg()}},{key:"addReference",value:function(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),uk.resolve()}},{key:"removeReference",value:function(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),uk.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Jr.add(t.toString()),uk.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.zr.Vr(t.targetId).forEach((function(e){return n.Jr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Jr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ur",value:function(){this.jr=new Set}},{key:"Wr",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return uk.forEach(this.Jr,(function(r){var i=Wg.fromPath(r);return t.Yr(e,i).next((function(e){e||n.removeEntry(i,zg.min())}))})).next((function(){return t.jr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Yr(e,t).next((function(e){e?n.Jr.delete(t.toString()):n.Jr.add(t.toString())}))}},{key:"Kr",value:function(e){return 0}},{key:"Yr",value:function(e,t){var n=this;return uk.or([function(){return uk.resolve(n.zr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gr(e,t)}])}}],[{key:"Hr",value:function(t){return new e(t)}}]),e}(),gS=function(){function e(t){l(this,e),this.serializer=t}return p(e,[{key:"N",value:function(e,t,n,r){var i=this,a=new sk("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Tk,{unique:!0}),e.createObjectStore("documentMutations")}(e),kS(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=uk.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),kS(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:zg.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Tk,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return uk.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Xr(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.ei(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.ti(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ni(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ri(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:zk});t.createIndex("collectionPathOverlayIndex",qk,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Kk,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Dk});t.createIndex("documentKeyIndex",Rk),t.createIndex("collectionGroupIndex",Pk)}(e)})).next((function(){return i.ii(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Uk}).createIndex("sequenceNumberIndex",jk,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Vk}).createIndex("documentKeyIndex",Bk,{unique:!1})}(e)}))),n<16&&r>=16&&(o=o.next((function(){t.objectStore("indexState").clear()})).next((function(){t.objectStore("indexEntries").clear()}))),o}},{key:"ei",value:function(e){var t=0;return e.store("remoteDocuments").Y((function(e,n){t+=RI(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Xr",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return uk.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return uk.forEach(r,(function(r){_g(r.userId===n.userId);var i=z_(t.serializer,r);return DI(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"ti",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Y((function(n,i){var a=new Kg(n),o=function(e){return[0,_k(e)]}(a);r.push(t.get(o).next((function(n){return n?uk.resolve():function(n){return t.put({targetId:0,path:_k(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return uk.waitFor(r)}))}))}},{key:"ni",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Mk});var n=t.store("collectionParents"),r=new wI,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:_k(i)})}};return t.store("remoteDocuments").Y({J:!0},(function(e,t){var n=new Kg(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Y({J:!0},(function(e,t){var n=E(e,3),r=(n[0],n[1]),a=(n[2],Ek(r));return i(a.popLast())}))}))}},{key:"ri",value:function(e){var t=this,n=e.store("targets");return n.Y((function(e,r){var i=q_(r),a=K_(t.serializer,i);return n.put(a)}))}},{key:"ii",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Y((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new Wg(Kg.fromString(e.document.name).popFirst(5)):e.noDocument?Wg.fromSegments(e.noDocument.path):e.unknownDocument?Wg.fromSegments(e.unknownDocument.path):xg()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return uk.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=$I(this.serializer),a=new vS(yS.Hr,this.serializer.ct);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Jw();z_(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),uk.forEach(r,(function(e,r){var o=new pg(r),u=$_.lt(n.serializer,o),s=a.getIndexManager(o),c=PI.lt(o,n.serializer,s,a.referenceDelegate);return new oS(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Xk(t,kk._e),e).next()}))}))}}]),e}();function kS(e){e.createObjectStore("targetDocuments",{keyPath:Lk}).createIndex("documentTargetsIndex",Fk,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ok,{unique:!0}),e.createObjectStore("targetGlobal")}var bS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",wS=function(){function e(t,n,r,i,a,o,u,s,c,f){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:16;if(l(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.oi=a,this.window=o,this.document=u,this._i=c,this.ai=f,this.ui=h,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=function(e){return Promise.resolve()},!e.D())throw new Eg(Sg.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new QI(this,i),this.Ti=n+"main",this.serializer=new M_(s),this.Ei=new ck(this.Ti,this.ui,new gS(this.serializer)),this.Qr=new jI(this.referenceDelegate,this.serializer),this.remoteDocumentCache=$I(this.serializer),this.$r=new Y_,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===f&&kg("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return p(e,[{key:"start",value:function(){var e=this;return this.Ai().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Eg(Sg.FAILED_PRECONDITION,bS);return e.Ri(),e.Vi(),e.mi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Qr.getHighestSequenceNumber(t)}))})).then((function(t){e.kr=new kk(t,e._i)})).then((function(){e.qr=!0})).catch((function(t){return e.Ei&&e.Ei.close(),Promise.reject(t)}))}},{key:"fi",value:function(e){var t=this;return this.Ii=function(){var n=yt(vt().mark((function n(r){return vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ei.B(function(){var t=yt(vt().mark((function t(n){return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ai();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ai",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return _S(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.gi(t).next((function(t){t||(e.isPrimary=!1,e.oi.enqueueRetryable((function(){return e.Ii(!1)})))}))})).next((function(){return e.pi(t)})).next((function(n){return e.isPrimary&&!n?e.yi(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(hk(t))return gg("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return gg("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.oi.enqueueRetryable((function(){return e.Ii(t)})),e.isPrimary=t}))}},{key:"gi",value:function(e){var t=this;return xS(e).get("owner").next((function(e){return uk.resolve(t.Si(e))}))}},{key:"bi",value:function(e){return _S(e).delete(this.clientId)}},{key:"Di",value:function(){var e=yt(vt().mark((function e(){var t,n,r,i,a=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ci(this.Pi,18e5)){e.next=6;break}return this.Pi=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=$k(e,"clientMetadata");return t.W().next((function(e){var n=a.vi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return uk.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.di){n=C(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.di.removeItem(this.Fi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mi",value:function(){var e=this;this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ai().then((function(){return e.Di()})).then((function(){return e.mi()}))}))}},{key:"Si",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"pi",value:function(e){var t=this;return this.ai?uk.resolve(!0):xS(e).get("owner").next((function(n){if(null!==n&&t.Ci(n.leaseTimestampMs,5e3)&&!t.Mi(n.ownerId)){if(t.Si(n)&&t.networkEnabled)return!0;if(!t.Si(n)){if(!n.allowTabSynchronization)throw new Eg(Sg.FAILED_PRECONDITION,bS);return!1}}return!(!t.networkEnabled||!t.inForeground)||_S(e).W().next((function(e){return void 0===t.vi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&gg("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=yt(vt().mark((function e(){var t=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),e.next=7,this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Xk(e,kk._e);return t.yi(n).next((function(){return t.bi(n)}))}));case 7:this.Ei.close(),this.Li();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vi",value:function(e,t){var n=this;return e.filter((function(e){return n.Ci(e.updateTimeMs,t)&&!n.Mi(e.clientId)}))}},{key:"Bi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return _S(t).W().next((function(t){return e.vi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.qr}},{key:"getMutationQueue",value:function(e,t){return PI.lt(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new _I(e,this.serializer.ct.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return $_.lt(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,n){var r=this;gg("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 16===e?Jk:15===e?Yk:14===e?Qk:13===e?Wk:12===e?Hk:11===e?Gk:void xg()}(this.ui);return this.Ei.runTransaction(e,a,o,(function(a){return i=new Xk(a,r.kr?r.kr.next():kk._e),"readwrite-primary"===t?r.gi(i).next((function(e){return!!e||r.pi(i)})).next((function(t){if(!t)throw kg("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.oi.enqueueRetryable((function(){return r.Ii(!1)})),new Eg(Sg.FAILED_PRECONDITION,rk);return n(i)})).next((function(e){return r.wi(i).next((function(){return e}))})):r.ki(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"ki",value:function(e){var t=this;return xS(e).get("owner").next((function(e){if(null!==e&&t.Ci(e.leaseTimestampMs,5e3)&&!t.Mi(e.ownerId)&&!t.Si(e)&&!(t.ai||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Eg(Sg.FAILED_PRECONDITION,bS)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xS(e).put("owner",t)}},{key:"yi",value:function(e){var t=this,n=xS(e);return n.get("owner").next((function(e){return t.Si(e)?(gg("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):uk.resolve()}))}},{key:"Ci",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(kg("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=function(){e.oi.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ai()}))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}},{key:"Oi",value:function(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}},{key:"Vi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;en()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.oi.enterRestrictedMode(!0),t.oi.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"Ni",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Mi",value:function(e){var t;try{var n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return gg("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return kg("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){kg("Failed to set zombie client id.",e)}}},{key:"Li",value:function(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(e){}}},{key:"Fi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return ck.D()}}]),e}();function xS(e){return $k(e,"owner")}function _S(e){return $k(e,"clientMetadata")}function IS(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var SS=function(){function e(t,n,r,i){l(this,e),this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}return p(e,null,[{key:"Ki",value:function(t,n){var r,i=Jw(),a=Jw(),o=C(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),ES=function(){function e(){l(this,e),this._documentReadCount=0}return p(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),TS=function(){function e(){l(this,e),this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=en()?8:ck.v(Qt())>0?6:4}return p(e,[{key:"initialize",value:function(e,t){this.zi=e,this.indexManager=t,this.$i=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.ji(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.Hi(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new ES;return i.Ji(e,t,n).next((function(r){if(a.result=r,i.Ui)return i.Yi(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"Yi",value:function(e,t,n,r){return n.documentReadCount<this.Wi?(yg()<=wn.DEBUG&&gg("QueryEngine","SDK will not create cache indexes for query:",Ow(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),uk.resolve()):(yg()<=wn.DEBUG&&gg("QueryEngine","Query:",Ow(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(yg()<=wn.DEBUG&&gg("QueryEngine","The SDK decides to create cache indexes for query:",Ow(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cw(t))):uk.resolve())}},{key:"ji",value:function(e,t){var n=this;if(Sw(t))return uk.resolve(null);var r=Cw(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Dw(t,null,"F"),r=Cw(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Jw.apply(void 0,c(i));return n.zi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Zi(t,i);return n.Xi(t,o,a,r.readTime)?n.ji(e,Dw(t,null,"F")):n.es(e,o,t,r)}))}))})))}))}},{key:"Hi",value:function(e,t,n,r){var i=this;return Sw(t)||r.isEqual(zg.min())?uk.resolve(null):this.zi.getDocuments(e,n).next((function(a){var o=i.Zi(t,a);return i.Xi(t,o,n,r)?uk.resolve(null):(yg()<=wn.DEBUG&&gg("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ow(t)),i.es(e,o,t,Zg(r,-1)).next((function(e){return e})))}))}},{key:"Zi",value:function(e,t){var n=new ab(Mw(e));return t.forEach((function(t,r){Lw(e,r)&&(n=n.add(r))})),n}},{key:"Xi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ji",value:function(e,t,n){return yg()<=wn.DEBUG&&gg("QueryEngine","Using full collection scan to execute query:",Ow(t)),this.zi.getDocumentsMatchingQuery(e,t,tk.min(),n)}},{key:"es",value:function(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),CS=function(){function e(t,n,r,i){l(this,e),this.persistence=t,this.ts=n,this.serializer=i,this.ns=new nb(Ug),this.rs=new jw((function(e){return mw(e)}),yw),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}return p(e,[{key:"_s",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oS(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ns)}))}}]),e}();function AS(e,t,n,r){return new CS(e,t,n,r)}function NS(e,t){return DS.apply(this,arguments)}function DS(){return DS=yt(vt().mark((function e(t,n){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ig(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r._s(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Jw(),s=C(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=C(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=C(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=C(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{us:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),DS.apply(this,arguments)}function RS(e,t){var n=Ig(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=uk.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);_g(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Jw(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function PS(e){var t=Ig(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Qr.getLastRemoteSnapshotVersion(e)}))}function OS(e,t){var n=Ig(e),r=t.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Qr.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Qr.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken(lb.EMPTY_BYTE_STRING,zg.min()).withLastLimboFreeSnapshotVersion(zg.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Qr.updateTargetData(e,c))}}));var u=Bw(),s=Jw();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(LS(e,a,t.documentUpdates).next((function(e){u=e.cs,s=e.ls}))),!r.isEqual(zg.min())){var c=n.Qr.getLastRemoteSnapshotVersion(e).next((function(t){return n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return uk.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.ns=i,e}))}function LS(e,t,n){var r=Jw(),i=Jw();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Bw();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(zg.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):gg("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{cs:r,ls:i}}))}function FS(e,t){var n=Ig(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function MS(e,t){var n=Ig(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Qr.getTargetData(e,t).next((function(i){return i?(r=i,uk.resolve(r)):n.Qr.allocateTargetId(e).next((function(i){return r=new F_(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}function US(e,t,n){return jS.apply(this,arguments)}function jS(){return jS=yt(vt().mark((function e(t,n,r){var i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ig(t),a=i.ns.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),hk(e.t1)){e.next=12;break}throw e.t1;case 12:gg("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ns=i.ns.remove(n),i.rs.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),jS.apply(this,arguments)}function VS(e,t,n){var r=Ig(e),i=zg.min(),a=Jw();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=Ig(e),i=r.rs.get(n);return void 0!==i?uk.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Cw(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ts.getDocumentsMatchingQuery(e,t,n?i:zg.min(),n?a:Jw())})).next((function(e){return qS(r,Fw(t),e),{documents:e,hs:a}}))}))}function BS(e,t){var n=Ig(e),r=Ig(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r._t(e,t).next((function(e){return e?e.target:null}))}))}function zS(e,t){var n=Ig(e),r=n.ss.get(t)||zg.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.os.getAllFromCollectionGroup(e,t,Zg(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return qS(n,t,e),e}))}function qS(e,t,n){var r=e.ss.get(t)||zg.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}function KS(e,t,n,r){return GS.apply(this,arguments)}function GS(){return GS=yt(vt().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Ig(t),o=Jw(),u=Bw(),s=C(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ps(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Is(l)).setReadTime(n.Ts(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.os.newChangeBuffer({trackRemovals:!0}),e.next=7,MS(a,function(e){return Cw(Iw(Kg.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return LS(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Qr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Qr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls)})).next((function(){return t.cs}))}))})));case 9:case"end":return e.stop()}}),e)}))),GS.apply(this,arguments)}function HS(e,t){return WS.apply(this,arguments)}function WS(){return WS=yt(vt().mark((function e(t,n){var r,i,a,o=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Jw(),e.next=3,MS(t,Cw(G_(n.bundledQuery)));case 3:return i=e.sent,a=Ig(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=c_(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.$r.saveNamedQuery(e,n);var o=i.withResumeToken(lb.EMPTY_BYTE_STRING,t);return a.ns=a.ns.insert(o.targetId,o),a.Qr.updateTargetData(e,o).next((function(){return a.Qr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Qr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.$r.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),WS.apply(this,arguments)}function QS(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function YS(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function JS(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var XS=function(){function e(t,n,r,i){l(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return p(e,[{key:"ds",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Es",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Eg(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(kg("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),$S=function(){function e(t,n,r){l(this,e),this.targetId=t,this.state=n,this.error=r}return p(e,[{key:"ds",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Es",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Eg(i.error.code,i.error.message))),a?new e(t,i.state,r):(kg("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),ZS=function(){function e(t,n){l(this,e),this.clientId=t,this.activeTargetIds=n}return p(e,null,[{key:"Es",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=$w(),o=0;i&&o<r.activeTargetIds.length;++o)i=xk(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(kg("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),eE=function(){function e(t,n){l(this,e),this.clientId=t,this.onlineState=n}return p(e,null,[{key:"Es",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(kg("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),tE=function(){function e(){l(this,e),this.activeTargetIds=$w()}return p(e,[{key:"As",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Rs",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ds",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),nE=function(){function e(t,n,r,i,a){l(this,e),this.window=t,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new nb(Ug),this.started=!1,this.ys=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ws=QS(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new tE),this.bs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}return p(e,[{key:"start",value:function(){var e=yt(vt().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Bi();case 2:t=e.sent,n=C(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Vs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(QS(this.persistenceKey,i)))&&(o=ZS.Es(i,a))&&(this.ps=this.ps.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Ms(),(u=this.storage.getItem(this.vs))&&(s=this.xs(u))&&this.Os(s),c=C(this.ys);try{for(c.s();!(l=c.n()).done;)f=l.value,this.gs(f)}catch(d){c.e(d)}finally{c.f()}this.ys=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ss,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ns(this.ps)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ps.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ls(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ls(e,t,n),this.Bs(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(JS(this.persistenceKey,e));if(n){var r=$S.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ks.Rs(e),this.Ms()}},{key:"isLocalQueryTarget",value:function(e){return this.ks.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(JS(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.qs(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Bs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Qs(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ks(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return gg("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){gg("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){gg("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"gs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(gg("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void kg("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(yt(vt().mark((function e(){var r,i,a,o,u,s,c;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.bs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.$s(n.key),e.abrupt("return",t.Us(r,null));case 6:if(!(i=t.Ws(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Us(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Ds.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Gs(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.zs(a));case 16:e.next=41;break;case 18:if(!t.Cs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.js(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Hs(o));case 23:e.next=41;break;case 25:if(n.key!==t.vs){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.xs(n.newValue))){e.next=30;break}return e.abrupt("return",t.Os(u));case 30:e.next=41;break;case 32:if(n.key!==t.Ss){e.next=37;break}s=function(e){var t=kk._e;if(null!=e)try{var n=JSON.parse(e);_g("number"==typeof n),t=n}catch(e){kg("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==kk._e&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.Fs){e.next=41;break}return c=t.Js(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Ys(e)})));case 41:e.next=44;break;case 43:t.ys.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"ks",get:function(){return this.ps.get(this.Vs)}},{key:"Ms",value:function(){this.setItem(this.ws,this.ks.ds())}},{key:"Ls",value:function(e,t,n){var r=new XS(this.currentUser,e,t,n),i=YS(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}},{key:"Bs",value:function(e){var t=YS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Qs",value:function(e){var t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}},{key:"qs",value:function(e,t,n){var r=JS(this.persistenceKey,e),i=new $S(e,t,n);this.setItem(r,i.ds())}},{key:"Ks",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}},{key:"$s",value:function(e){var t=this.bs.exec(e);return t?t[1]:null}},{key:"Ws",value:function(e,t){var n=this.$s(e);return ZS.Es(n,t)}},{key:"Gs",value:function(e,t){var n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return XS.Es(new pg(i),r,t)}},{key:"js",value:function(e,t){var n=this.Cs.exec(e),r=Number(n[1]);return $S.Es(r,t)}},{key:"xs",value:function(e){return eE.Es(e)}},{key:"Js",value:function(e){return JSON.parse(e)}},{key:"zs",value:function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Zs(t.batchId,t.state,t.error));case 2:gg("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Hs",value:function(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}},{key:"Us",value:function(e,t){var n=this,r=t?this.ps.insert(e,t):this.ps.remove(e),i=this.Ns(this.ps),a=this.Ns(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.eo(o,u).then((function(){n.ps=r}))}},{key:"Os",value:function(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ns",value:function(e){var t=$w();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),rE=function(){function e(){l(this,e),this.no=new tE,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return p(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.no.As(e),this.ro[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.ro[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.no.Rs(e)}},{key:"isLocalQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.ro[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.no.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"start",value:function(){return this.no=new tE,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),iE=function(){function e(){l(this,e)}return p(e,[{key:"io",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),aE=function(){function e(){var t=this;l(this,e),this.so=function(){return t.oo()},this._o=function(){return t.ao()},this.uo=[],this.co()}return p(e,[{key:"io",value:function(e){this.uo.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}},{key:"co",value:function(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}},{key:"oo",value:function(){gg("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=C(this.uo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"ao",value:function(){gg("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=C(this.uo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),oE=null;function uE(){return null===oE?oE=268435456+Math.round(2147483648*Math.random()):oE++,"0x"+oE.toString(16)}var sE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},cE=function(){function e(t){l(this,e),this.lo=t.lo,this.ho=t.ho}return p(e,[{key:"Po",value:function(e){this.Io=e}},{key:"To",value:function(e){this.Eo=e}},{key:"onMessage",value:function(e){this.Ao=e}},{key:"close",value:function(){this.ho()}},{key:"send",value:function(e){this.lo(e)}},{key:"Ro",value:function(){this.Io()}},{key:"Vo",value:function(e){this.Eo(e)}},{key:"mo",value:function(e){this.Ao(e)}}]),e}(),lE="WebChannelConnection",fE=function(e){m(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return p(n,[{key:"Co",value:function(e,t,n,r){var i=uE();return new Promise((function(a,o){var u=new lg;u.setWithCredentials(!0),u.listenOnce(og.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case ag.NO_ERROR:var t=u.getResponseJson();gg(lE,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case ag.TIMEOUT:gg(lE,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Eg(Sg.DEADLINE_EXCEEDED,"Request time out"));break;case ag.HTTP_ERROR:var n=u.getStatus();if(gg(lE,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Sg).indexOf(t)>=0?t:Sg.UNKNOWN}(s.status);o(new Eg(c,s.message))}else o(new Eg(Sg.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new Eg(Sg.UNAVAILABLE,"Connection failed."));break;default:xg()}}finally{gg(lE,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);gg(lE,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"Fo",value:function(e,t,n){var r=uE(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=rg(),o=ig(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var c=i.join("");gg(lE,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),u);var l=a.createWebChannel(c,u),f=!1,h=!1,d=new cE({lo:function(t){h?gg(lE,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(gg(lE,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),gg(lE,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},ho:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,cg.EventType.OPEN,(function(){h||gg(lE,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,cg.EventType.CLOSE,(function(){h||(h=!0,gg(lE,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Vo())})),p(l,cg.EventType.ERROR,(function(t){h||(h=!0,bg(lE,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Vo(new Eg(Sg.UNAVAILABLE,"The operation could not be completed")))})),p(l,cg.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];_g(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){gg(lE,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=Ax[e];if(void 0!==t)return Ux(t)}(u),c=o.message;void 0===s&&(s=Sg.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),h=!0,d.Vo(new Eg(s,c)),l.close()}else gg(lE,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.mo(i)}})),p(o,ug.STAT_EVENT,(function(t){t.stat===sg.PROXY?gg(lE,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===sg.NOPROXY&&gg(lE,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Ro()}),0),d}}]),n}(function(){function e(t){l(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=n+"://"+t.host,this.po="projects/".concat(r,"/databases/").concat(i),this.yo="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return p(e,[{key:"wo",get:function(){return!1}},{key:"So",value:function(e,t,n,r,i){var a=uE(),o=this.bo(e,t.toUriEncodedString());gg("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,r,i),this.Co(e,o,u,n).then((function(t){return gg("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw bg("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.So(e,t,n,r,i)}},{key:"Do",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+vg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"bo",value:function(e,t){var n=sE[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}},{key:"terminate",value:function(){}}]),e}());function hE(){return"undefined"!=typeof window?window:null}function dE(){return"undefined"!=typeof document?document:null}function pE(e){return new i_(e,!0)}var vE=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;l(this,e),this.oi=t,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=a,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}return p(e,[{key:"reset",value:function(){this.No=0}},{key:"ko",value:function(){this.No=this.Oo}},{key:"qo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&gg("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,(function(){return t.Bo=Date.now(),e()})),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}},{key:"Ko",value:function(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}},{key:"cancel",value:function(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"Qo",value:function(){return(Math.random()-.5)*this.No}}]),e}(),mE=function(){function e(t,n,r,i,a,o,u,s){l(this,e),this.oi=t,this.$o=r,this.Uo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new vE(t,n)}return p(e,[{key:"Ho",value:function(){return 1===this.state||5===this.state||this.Jo()}},{key:"Jo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Yo()}},{key:"stop",value:function(){var e=yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Ho(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zo",value:function(){this.state=0,this.jo.reset()}},{key:"Xo",value:function(){var e=this;this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(function(){return e.e_()})))}},{key:"t_",value:function(e){this.n_(),this.stream.send(e)}},{key:"e_",value:function(){var e=yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Jo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"n_",value:function(){this.Go&&(this.Go.cancel(),this.Go=null)}},{key:"r_",value:function(){this.zo&&(this.zo.cancel(),this.zo=null)}},{key:"close",value:function(){var e=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==t?this.jo.reset():n&&n.code===Sg.RESOURCE_EXHAUSTED?(kg(n.toString()),kg("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===Sg.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.To(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"i_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=E(t,2),i=r[0],a=r[1];e.Wo===n&&e.o_(i,a)}),(function(n){t((function(){var t=new Eg(Sg.UNKNOWN,"Fetching auth token failed: "+n.message);return e.__(t)}))}))}},{key:"o_",value:function(e,t){var n=this,r=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((function(){r((function(){return n.state=2,n.zo=n.oi.enqueueAfterDelay(n.Uo,1e4,(function(){return n.Jo()&&(n.state=3),Promise.resolve()})),n.listener.Po()}))})),this.stream.To((function(e){r((function(){return n.__(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Yo",value:function(){var e=this;this.state=5,this.jo.qo(yt(vt().mark((function t(){return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"__",value:function(e){return gg("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"s_",value:function(e){var t=this;return function(n){t.oi.enqueueAndForget((function(){return t.Wo===e?n():(gg("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),yE=function(e){m(n,e);var t=w(n);function n(e,r,i,a,o,u){var s;return l(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return p(n,[{key:"a_",value:function(e,t){return this.connection.Fo("Listen",e,t)}},{key:"onMessage",value:function(e){this.jo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:xg()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(_g(void 0===t||"string"==typeof t),lb.fromBase64String(t||"")):(_g(void 0===t||t instanceof Buffer||t instanceof Uint8Array),lb.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Sg.UNKNOWN:Ux(e.code);return new Eg(t,e.message||"")}(o);n=new Jx(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=p_(e,s.document.name),l=c_(s.document.updateTime),f=s.document.createTime?c_(s.document.createTime):zg.min(),h=new Bb({mapValue:{fields:s.document.fields}}),d=qb.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Qx(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=p_(e,m.document),g=m.readTime?c_(m.readTime):zg.min(),k=qb.newNoDocument(y,g),b=m.removedTargetIds||[];n=new Qx([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=p_(e,w.document),_=w.removedTargetIds||[];n=new Qx([],_,x,null)}else{if(!("filter"in t))return xg();t.filter;var I=t.filter;I.targetId;var S=I.count,E=void 0===S?0:S,T=I.unchangedNames,C=new Fx(E,T),A=I.targetId;n=new Yx(A,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return zg.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?zg.min():t.readTime?c_(t.readTime):zg.min()}(e);return this.listener.u_(t,n)}},{key:"c_",value:function(e){var t={};t.database=y_(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=gw(r)?{documents:I_(e,r)}:{query:S_(e,r).ut}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=u_(e,t.resumeToken);var i=a_(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(zg.min())>0){n.readTime=o_(e,t.snapshotVersion.toTimestamp());var a=a_(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xg()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}},{key:"l_",value:function(e){var t={};t.database=y_(this.serializer),t.removeTarget=e,this.t_(t)}}]),n}(mE),gE=function(e){m(n,e);var t=w(n);function n(e,r,i,a,o,u){var s;return l(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.h_=!1,s}return p(n,[{key:"P_",get:function(){return this.h_}},{key:"start",value:function(){this.h_=!1,this.lastStreamToken=void 0,Rt(y(n.prototype),"start",this).call(this)}},{key:"i_",value:function(){this.h_&&this.I_([])}},{key:"a_",value:function(e,t){return this.connection.Fo("Write",e,t)}},{key:"onMessage",value:function(e){if(_g(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();var t=function(e,t){return e&&e.length>0?(_g(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?c_(e.updateTime):c_(t);return n.isEqual(zg.min())&&(n=c_(t)),new vx(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=c_(e.commitTime);return this.listener.T_(n,t)}return _g(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}},{key:"d_",value:function(){var e={};e.database=y_(this.serializer),this.t_(e)}},{key:"I_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return x_(t.serializer,e)}))};this.t_(n)}}]),n}(mE),kE=function(e){m(n,e);var t=w(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.A_=!1,o}return p(n,[{key:"R_",value:function(){if(this.A_)throw new Eg(Sg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"So",value:function(e,t,n,r){var i=this;return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=E(a,2),u=o[0],s=o[1];return i.connection.So(e,f_(t,n),r,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Sg.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Eg(Sg.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r,i){var a=this;return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var u=E(o,2),s=u[0],c=u[1];return a.connection.vo(e,f_(t,n),r,s,c,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Sg.UNAUTHENTICATED&&(a.authCredentials.invalidateToken(),a.appCheckCredentials.invalidateToken()),e):new Eg(Sg.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.A_=!0,this.connection.terminate()}}]),n}(p((function e(){l(this,e)})));var bE=function(){function e(t,n){l(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}return p(e,[{key:"p_",value:function(){var e=this;0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.f_=null,e.w_("Backend didn't respond within 10 seconds."),e.y_("Offline"),Promise.resolve()})))}},{key:"S_",value:function(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}},{key:"set",value:function(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}},{key:"y_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"w_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(kg(t),this.g_=!1):gg("OnlineStateTracker",t)}},{key:"b_",value:function(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}]),e}(),wE=p((function e(t,n,r,i,a){var o=this;l(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=a,this.M_.io((function(e){r.enqueueAndForget(yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=RE(o),!e.t0){e.next=5;break}return gg("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=yt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ig(t)).v_.add(4),e.next=4,IE(n);case 4:return n.x_.set("Unknown"),n.v_.delete(4),e.next=8,xE(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.x_=new bE(r,i)}));function xE(e){return _E.apply(this,arguments)}function _E(){return(_E=yt(vt().mark((function e(t){var n,r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!RE(t)){e.next=18;break}n=C(t.F_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function IE(e){return SE.apply(this,arguments)}function SE(){return(SE=yt(vt().mark((function e(t){var n,r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=C(t.F_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function EE(e,t){var n=Ig(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),DE(n)?NE(n):uT(n).Jo()&&CE(n,t))}function TE(e,t){var n=Ig(e),r=uT(n);n.C_.delete(t),r.Jo()&&AE(n,t),0===n.C_.size&&(r.Jo()?r.Xo():RE(n)&&n.x_.set("Unknown"))}function CE(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(zg.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}uT(e).c_(t)}function AE(e,t){e.O_.Oe(t),uT(e).l_(t)}function NE(e){e.O_=new $x({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},_t:function(t){return e.C_.get(t)||null},nt:function(){return e.datastore.serializer.databaseId}}),uT(e).start(),e.x_.p_()}function DE(e){return RE(e)&&!uT(e).Ho()&&e.C_.size>0}function RE(e){return 0===Ig(e).v_.size}function PE(e){e.O_=void 0}function OE(e){return LE.apply(this,arguments)}function LE(){return(LE=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.C_.forEach((function(e,n){CE(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FE(e,t){return ME.apply(this,arguments)}function ME(){return(ME=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:PE(t),DE(t)?(t.x_.S_(n),NE(t)):t.x_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UE(e,t,n){return jE.apply(this,arguments)}function jE(){return jE=yt(vt().mark((function e(t,n,r){var i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.x_.set("Online"),!(n instanceof Jx&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=yt(vt().mark((function e(t,n){var r,i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=C(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.C_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.C_.delete(o),t.O_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),gg("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,VE(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Qx?t.O_.$e(n):n instanceof Yx?t.O_.Je(n):t.O_.Ge(n),r.isEqual(zg.min())){e.next=29;break}return e.prev=14,e.next=17,PS(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.O_.it(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.C_.get(t);if(r){e.C_.set(t,r.withResumeToken(lb.EMPTY_BYTE_STRING,r.snapshotVersion)),AE(e,t);var i=new F_(r.target,t,n,r.sequenceNumber);CE(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),gg("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,VE(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),jE.apply(this,arguments)}function VE(e,t,n){return BE.apply(this,arguments)}function BE(){return(BE=yt(vt().mark((function e(t,n,r){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hk(n)){e.next=2;break}throw n;case 2:return t.v_.add(1),e.next=5,IE(t);case 5:t.x_.set("Offline"),r||(r=function(){return PS(t.localStore)}),t.asyncQueue.enqueueRetryable(yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gg("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.v_.delete(1),e.next=6,xE(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zE(e,t){return t().catch((function(n){return VE(e,n,t)}))}function qE(e){return KE.apply(this,arguments)}function KE(){return KE=yt(vt().mark((function e(t){var n,r,i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ig(t),r=sT(n),i=n.D_.length>0?n.D_[n.D_.length-1].batchId:-1;case 2:if(!GE(n)){e.next=19;break}return e.prev=3,e.next=6,FS(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.D_.length&&r.Xo(),e.abrupt("break",19);case 10:i=a.batchId,HE(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,VE(n,e.t0);case 17:e.next=2;break;case 19:WE(n)&&QE(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),KE.apply(this,arguments)}function GE(e){return RE(e)&&e.D_.length<10}function HE(e,t){e.D_.push(t);var n=sT(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function WE(e){return RE(e)&&!sT(e).Ho()&&e.D_.length>0}function QE(e){sT(e).start()}function YE(e){return JE.apply(this,arguments)}function JE(){return(JE=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sT(t).d_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XE(e){return $E.apply(this,arguments)}function $E(){return($E=yt(vt().mark((function e(t){var n,r,i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=sT(t),r=C(t.D_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.I_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZE(e,t,n){return eT.apply(this,arguments)}function eT(){return eT=yt(vt().mark((function e(t,n,r){var i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.D_.shift(),a=Ox.from(i,n,r),e.next=3,zE(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,qE(t);case 5:case"end":return e.stop()}}),e)}))),eT.apply(this,arguments)}function tT(e,t){return nT.apply(this,arguments)}function nT(){return nT=yt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&sT(t).P_,!e.t0){e.next=4;break}return e.next=4,function(){var e=yt(vt().mark((function e(t,n){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return Mx(e)&&e!==Sg.ABORTED}(n.code)){e.next=7;break}return r=t.D_.shift(),sT(t).Zo(),e.next=5,zE(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,qE(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:WE(t)&&QE(t);case 5:case"end":return e.stop()}}),e)}))),nT.apply(this,arguments)}function rT(e,t){return iT.apply(this,arguments)}function iT(){return iT=yt(vt().mark((function e(t,n){var r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ig(t)).asyncQueue.verifyOperationInProgress(),gg("RemoteStore","RemoteStore received new credentials"),i=RE(r),r.v_.add(3),e.next=6,IE(r);case 6:return i&&r.x_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.v_.delete(3),e.next=12,xE(r);case 12:case"end":return e.stop()}}),e)}))),iT.apply(this,arguments)}function aT(e,t){return oT.apply(this,arguments)}function oT(){return(oT=yt(vt().mark((function e(t,n){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ig(t),!n){e.next=7;break}return r.v_.delete(2),e.next=5,xE(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.v_.add(2),e.next=12,IE(r);case 12:r.x_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uT(e){return e.N_||(e.N_=function(e,t,n){var r=Ig(e);return r.R_(),new yE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:OE.bind(null,e),To:FE.bind(null,e),u_:UE.bind(null,e)}),e.F_.push(function(){var t=yt(vt().mark((function t(n){return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.N_.Zo(),DE(e)?NE(e):e.x_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.N_.stop();case 6:PE(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.N_}function sT(e){return e.L_||(e.L_=function(e,t,n){var r=Ig(e);return r.R_(),new gE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:YE.bind(null,e),To:tT.bind(null,e),E_:XE.bind(null,e),T_:ZE.bind(null,e)}),e.F_.push(function(){var t=yt(vt().mark((function t(n){return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.L_.Zo(),t.next=4,qE(e);case 4:t.next=9;break;case 6:return t.next=8,e.L_.stop();case 8:e.D_.length>0&&(gg("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.L_}var cT=function(){function e(t,n,r,i,a){l(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Tg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return p(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Eg(Sg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function lT(e,t){if(kg("AsyncQueue","".concat(t,": ").concat(e)),hk(e))return new Eg(Sg.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var fT,hT,dT=function(){function e(t){l(this,e),this.comparator=t?function(e,n){return t(e,n)||Wg.comparator(e.key,n.key)}:function(e,t){return Wg.comparator(e.key,t.key)},this.keyedMap=qw(),this.sortedSet=new nb(this.comparator)}return p(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),pT=function(){function e(){l(this,e),this.B_=new nb(Wg.comparator)}return p(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):xg():this.B_=this.B_.insert(t,e)}},{key:"k_",value:function(){var e=[];return this.B_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),vT=function(){function e(t,n,r,i,a,o,u,s,c){l(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return p(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,dT.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),mT=function(){function e(){l(this,e),this.q_=void 0,this.Q_=[]}return p(e,[{key:"K_",value:function(){return this.Q_.some((function(e){return e.U_()}))}}]),e}(),yT=p((function e(){l(this,e),this.queries=new jw((function(e){return Pw(e)}),Rw),this.onlineState="Unknown",this.W_=new Set}));function gT(e,t){return kT.apply(this,arguments)}function kT(){return kT=yt(vt().mark((function e(t,n){var r,i,a,o,u;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Ig(t),i=3,a=n.query,(o=r.queries.get(a))?!o.K_()&&n.U_()&&(i=2):(o=new mT,i=n.U_()?0:1),e.prev=5,e.t0=i,e.next=0===e.t0?9:1===e.t0?13:2===e.t0?17:19;break;case 9:return e.next=11,r.onListen(a,!0);case 11:return o.q_=e.sent,e.abrupt("break",19);case 13:return e.next=15,r.onListen(a,!1);case 15:return o.q_=e.sent,e.abrupt("break",19);case 17:return e.next=19,r.onFirstRemoteStoreListen(a);case 19:e.next=25;break;case 21:return e.prev=21,e.t1=e.catch(5),u=lT(e.t1,"Initialization of query '".concat(Ow(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 25:r.queries.set(a,o),o.Q_.push(n),n.G_(r.onlineState),o.q_&&n.z_(o.q_)&&IT(r);case 26:case"end":return e.stop()}}),e,null,[[5,21]])}))),kT.apply(this,arguments)}function bT(e,t){return wT.apply(this,arguments)}function wT(){return wT=yt(vt().mark((function e(t,n){var r,i,a,o,u;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Ig(t),i=n.query,a=3,(o=r.queries.get(i))&&(u=o.Q_.indexOf(n))>=0&&(o.Q_.splice(u,1),0===o.Q_.length?a=n.U_()?0:1:!o.K_()&&n.U_()&&(a=2)),e.t0=a,e.next=0===e.t0?7:1===e.t0?8:2===e.t0?9:10;break;case 7:return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i,!0)));case 8:return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i,!1)));case 9:return e.abrupt("return",r.onLastRemoteStoreUnlisten(i));case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e)}))),wT.apply(this,arguments)}function xT(e,t){var n,r=Ig(e),i=!1,a=C(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=C(s.Q_);try{for(l.s();!(c=l.n()).done;){c.value.z_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.q_=o}}}catch(f){a.e(f)}finally{a.f()}i&&IT(r)}function _T(e,t,n){var r=Ig(e),i=r.queries.get(t);if(i){var a,o=C(i.Q_);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function IT(e){e.W_.forEach((function(e){e.next()}))}(hT=fT||(fT={})).j_="default",hT.Cache="cache";var ST=function(){function e(t,n,r){l(this,e),this.query=t,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}return p(e,[{key:"z_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=C(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new vT(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),a=!0):this.X_(e,this.onlineState)&&(this.ea(e),a=!0),this.Y_=e,a}},{key:"onError",value:function(e){this.H_.error(e)}},{key:"G_",value:function(e){this.onlineState=e;var t=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),t=!0),t}},{key:"X_",value:function(e,t){if(!e.fromCache)return!0;if(!this.U_())return!0;var n="Offline"!==t;return(!this.options.ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Z_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"ea",value:function(e){e=vT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}},{key:"U_",value:function(){return this.options.source!==fT.Cache}}]),e}(),ET=function(){function e(t,n){l(this,e),this.na=t,this.byteLength=n}return p(e,[{key:"ra",value:function(){return"metadata"in this.na}}]),e}(),TT=function(){function e(t){l(this,e),this.serializer=t}return p(e,[{key:"Ps",value:function(e){return p_(this.serializer,e)}},{key:"Is",value:function(e){return e.metadata.exists?b_(this.serializer,e.document,!1):qb.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}},{key:"Ts",value:function(e){return c_(e)}}]),e}(),CT=function(){function e(t,n,r){l(this,e),this.ia=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=AT(t)}return p(e,[{key:"sa",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++t;var n=Kg.fromString(e.na.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"oa",value:function(e){var t,n=new Map,r=new TT(this.serializer),i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ps(a.metadata.name),s=C(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Jw()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=yt(vt().mark((function e(){var t,n,r,i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,KS(this.localStore,new TT(this.serializer),this.documents,this.ia.id);case 2:t=e.sent,n=this.oa(this.documents),r=C(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,HS(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,_a:this.collectionGroups,aa:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function AT(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var NT=p((function e(t){l(this,e),this.key=t})),DT=p((function e(t){l(this,e),this.key=t})),RT=function(){function e(t,n){l(this,e),this.query=t,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Jw(),this.mutatedKeys=Jw(),this.ha=Mw(t),this.Pa=new dT(this.ha)}return p(e,[{key:"Ia",get:function(){return this.ua}},{key:"Ta",value:function(e,t){var n=this,r=t?t.Ea:new pT,i=t?t.Pa:this.Pa,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Lw(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.da(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.ha(f,s)>0||c&&n.ha(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Pa:o,Ea:r,Xi:u,mutatedKeys:a}}},{key:"da",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n,r){var i=this,a=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;var o=e.Ea.k_();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xg()}};return n(e)-n(t)}(e.type,t.type)||i.ha(e.doc,t.doc)})),this.Aa(n),r=null!=r&&r;var u=t&&!r?this.Ra():[],s=0===this.la.size&&this.current&&!r?1:0,c=s!==this.ca;return this.ca=s,0!==o.length||c?{snapshot:new vT(this.query,e.Pa,a,o,e.mutatedKeys,0===s,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Va:u}:{Va:u}}},{key:"G_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new pT,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}},{key:"ma",value:function(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}},{key:"Aa",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ua=t.ua.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ua=t.ua.delete(e)})),this.current=e.current)}},{key:"Ra",value:function(){var e=this;if(!this.current)return[];var t=this.la;this.la=Jw(),this.Pa.forEach((function(t){e.ma(t.key)&&(e.la=e.la.add(t.key))}));var n=[];return t.forEach((function(t){e.la.has(t)||n.push(new DT(t))})),this.la.forEach((function(e){t.has(e)||n.push(new NT(e))})),n}},{key:"fa",value:function(e){this.ua=e.hs,this.la=Jw();var t=this.Ta(e.documents);return this.applyChanges(t,!0)}},{key:"ga",value:function(){return vT.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}]),e}(),PT=p((function e(t,n,r){l(this,e),this.query=t,this.targetId=n,this.view=r})),OT=p((function e(t){l(this,e),this.key=t,this.pa=!1})),LT=function(){function e(t,n,r,i,a,o){l(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new jw((function(e){return Pw(e)}),Rw),this.Sa=new Map,this.ba=new Set,this.Da=new nb(Wg.comparator),this.Ca=new Map,this.va=new cS,this.Fa={},this.Ma=new Map,this.xa=UI.Ln(),this.onlineState="Unknown",this.Oa=void 0}return p(e,[{key:"isPrimaryClient",get:function(){return!0===this.Oa}}]),e}();function FT(e,t){return MT.apply(this,arguments)}function MT(){return MT=yt(vt().mark((function e(t,n){var r,i,a,o,u=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!(u.length>2&&void 0!==u[2])||u[2],i=LC(t),!(o=i.wa.get(n))){e.next=7;break}i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.ga(),e.next=10;break;case 7:return e.next=9,VT(i,n,r,!0);case 9:a=e.sent;case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)}))),MT.apply(this,arguments)}function UT(e,t){return jT.apply(this,arguments)}function jT(){return(jT=yt(vt().mark((function e(t,n){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=LC(t),e.next=3,VT(r,n,!0,!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VT(e,t,n,r){return BT.apply(this,arguments)}function BT(){return BT=yt(vt().mark((function e(t,n,r,i){var a,o,u,s;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,MS(t.localStore,Cw(n));case 2:if(a=e.sent,o=a.targetId,u=r?t.sharedClientState.addLocalQueryTarget(o):"not-current",e.t0=i,!e.t0){e.next=10;break}return e.next=9,zT(t,n,o,"current"===u,a.resumeToken);case 9:s=e.sent;case 10:return t.isPrimaryClient&&r&&EE(t.remoteStore,a),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)}))),BT.apply(this,arguments)}function zT(e,t,n,r,i){return qT.apply(this,arguments)}function qT(){return qT=yt(vt().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Na=function(e,n,r){return function(){var e=yt(vt().mark((function e(t,n,r,i){var a,o,u,s;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ta(r),e.t0=a.Xi,!e.t0){e.next=6;break}return e.next=5,VS(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ta(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=i&&null!=i.targetMismatches.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o,u),e.abrupt("return",(fC(t,n.targetId,s.Va),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,VS(t.localStore,n,!0);case 3:return o=e.sent,u=new RT(n,o.hs),s=u.Ta(o.documents),c=Wx.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),fC(t,r,l.Va),f=new PT(n,r,u),e.abrupt("return",(t.wa.set(n,f),t.Sa.has(r)?t.Sa.get(r).push(n):t.Sa.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),qT.apply(this,arguments)}function KT(e,t,n){return GT.apply(this,arguments)}function GT(){return GT=yt(vt().mark((function e(t,n,r){var i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ig(t),a=i.wa.get(n),!((o=i.Sa.get(a.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(i.Sa.set(a.targetId,o.filter((function(e){return!Rw(e,n)}))),void i.wa.delete(n)));case 3:if(!i.isPrimaryClient){e.next=11;break}if(i.sharedClientState.removeLocalQueryTarget(a.targetId),e.t0=i.sharedClientState.isActiveQueryTarget(a.targetId),e.t0){e.next=9;break}return e.next=9,US(i.localStore,a.targetId,!1).then((function(){i.sharedClientState.clearQueryState(a.targetId),r&&TE(i.remoteStore,a.targetId),cC(i,a.targetId)})).catch(ak);case 9:e.next=14;break;case 11:return cC(i,a.targetId),e.next=14,US(i.localStore,a.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),GT.apply(this,arguments)}function HT(e,t){return WT.apply(this,arguments)}function WT(){return WT=yt(vt().mark((function e(t,n){var r,i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Ig(t),i=r.wa.get(n),a=r.Sa.get(i.targetId),r.isPrimaryClient&&1===a.length&&(r.sharedClientState.removeLocalQueryTarget(i.targetId),TE(r.remoteStore,i.targetId));case 2:case"end":return e.stop()}}),e)}))),WT.apply(this,arguments)}function QT(e,t,n){return YT.apply(this,arguments)}function YT(){return YT=yt(vt().mark((function e(t,n,r){var i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=FC(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Ig(e),a=Bg.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Jw());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Bw(),s=Jw();return i.os.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=C(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=xx(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Sx(c.key,l,zb(l.value.mapValue),mx.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Kw(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Fa[e.currentUser.toKey()];r||(r=new nb(Ug)),r=r.insert(t,n),e.Fa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,pC(i,a.changes);case 9:return e.next=11,qE(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=lT(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),YT.apply(this,arguments)}function JT(e,t){return XT.apply(this,arguments)}function XT(){return XT=yt(vt().mark((function e(t,n){var r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ig(t),e.prev=1,e.next=4,OS(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Ca.get(t);n&&(_g(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.pa=!0:e.modifiedDocuments.size>0?_g(n.pa):e.removedDocuments.size>0&&(_g(n.pa),n.pa=!1))})),e.next=8,pC(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,ak(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),XT.apply(this,arguments)}function $T(e,t,n){var r=Ig(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wa.forEach((function(e,n){var r=n.view.G_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ig(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=C(n.Q_);try{for(a.s();!(i=a.n()).done;){i.value.G_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&IT(n)}(r.eventManager,t),i.length&&r.ya.u_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ZT(e,t,n){return eC.apply(this,arguments)}function eC(){return eC=yt(vt().mark((function e(t,n,r){var i,a,o,u,s,c;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Ig(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Ca.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new nb(Wg.comparator)).insert(o,qb.newNoDocument(o,zg.min())),s=Jw().add(o),c=new Hx(zg.min(),new Map,new nb(Ug),u,s),e.next=9,JT(i,c);case 9:i.Da=i.Da.remove(o),i.Ca.delete(n),dC(i),e.next=16;break;case 14:return e.next=16,US(i.localStore,n,!1).then((function(){return cC(i,n,r)})).catch(ak);case 16:case"end":return e.stop()}}),e)}))),eC.apply(this,arguments)}function tC(e,t){return nC.apply(this,arguments)}function nC(){return nC=yt(vt().mark((function e(t,n){var r,i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ig(t),i=n.batch.batchId,e.prev=1,e.next=4,RS(r.localStore,n);case 4:return a=e.sent,sC(r,i,null),uC(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,pC(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ak(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),nC.apply(this,arguments)}function rC(e,t,n){return iC.apply(this,arguments)}function iC(){return iC=yt(vt().mark((function e(t,n,r){var i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ig(t),e.prev=1,e.next=4,function(e,t){var n=Ig(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return _g(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,sC(i,n,r),uC(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,pC(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ak(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),iC.apply(this,arguments)}function aC(e,t){return oC.apply(this,arguments)}function oC(){return oC=yt(vt().mark((function e(t,n){var r,i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return RE((r=Ig(t)).remoteStore)||gg("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Ig(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ma.get(i)||[]).push(n),r.Ma.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=lT(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),oC.apply(this,arguments)}function uC(e,t){(e.Ma.get(t)||[]).forEach((function(e){e.resolve()})),e.Ma.delete(t)}function sC(e,t,n){var r=Ig(e),i=r.Fa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Fa[r.currentUser.toKey()]=i}}function cC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=C(e.Sa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wa.delete(a),n&&e.ya.La(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Sa.delete(t),e.isPrimaryClient&&e.va.Vr(t).forEach((function(t){e.va.containsKey(t)||lC(e,t)}))}function lC(e,t){e.ba.delete(t.path.canonicalString());var n=e.Da.get(t);null!==n&&(TE(e.remoteStore,n),e.Da=e.Da.remove(t),e.Ca.delete(n),dC(e))}function fC(e,t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof NT?(e.va.addReference(a.key,t),hC(e,a)):a instanceof DT?(gg("SyncEngine","Document no longer in limbo: "+a.key),e.va.removeReference(a.key,t),e.va.containsKey(a.key)||lC(e,a.key)):xg()}}catch(o){i.e(o)}finally{i.f()}}function hC(e,t){var n=t.key,r=n.path.canonicalString();e.Da.get(n)||e.ba.has(r)||(gg("SyncEngine","New document in limbo: "+n),e.ba.add(r),dC(e))}function dC(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){var t=e.ba.values().next().value;e.ba.delete(t);var n=new Wg(Kg.fromString(t)),r=e.xa.next();e.Ca.set(r,new OT(n)),e.Da=e.Da.insert(n,r),EE(e.remoteStore,new F_(Cw(Iw(n.path)),r,"TargetPurposeLimboResolution",kk._e))}}function pC(e,t,n){return vC.apply(this,arguments)}function vC(){return vC=yt(vt().mark((function e(t,n,r){var i,a,o,u;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ig(t),a=[],o=[],u=[],e.t0=i.wa.isEmpty(),e.t0){e.next=9;break}return i.wa.forEach((function(e,t){u.push(i.Na(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=SS.Ki(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.ya.u_(a),e.next=9,function(){var e=yt(vt().mark((function e(t,n){var r,i,a,o,u,s,c,l;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ig(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return uk.forEach(n,(function(t){return uk.forEach(t.qi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return uk.forEach(t.Qi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),hk(e.t0)){e.next=10;break}throw e.t0;case 10:gg("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=C(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ns.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.ns=r.ns.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),vC.apply(this,arguments)}function mC(e,t){return yC.apply(this,arguments)}function yC(){return(yC=yt(vt().mark((function e(t,n){var r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Ig(t)).currentUser.isEqual(n)){e.next=11;break}return gg("SyncEngine","User change. New user:",n.toKey()),e.next=5,NS(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ma.forEach((function(e){e.forEach((function(e){e.reject(new Eg(Sg.CANCELLED,t))}))})),e.Ma.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,pC(r,i.us);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gC(e,t){var n=Ig(e),r=n.Ca.get(t);if(r&&r.pa)return Jw().add(r.key);var i=Jw(),a=n.Sa.get(t);if(!a)return i;var o,u=C(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.wa.get(s);i=i.unionWith(c.view.Ia)}}catch(l){u.e(l)}finally{u.f()}return i}function kC(e,t){return bC.apply(this,arguments)}function bC(){return bC=yt(vt().mark((function e(t,n){var r,i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ig(t),e.next=3,VS(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.fa(i),e.abrupt("return",(r.isPrimaryClient&&fC(r,n.targetId,a.Va),a));case 6:case"end":return e.stop()}}),e)}))),bC.apply(this,arguments)}function wC(e,t){return xC.apply(this,arguments)}function xC(){return(xC=yt(vt().mark((function e(t,n){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ig(t),e.abrupt("return",zS(r.localStore,n).then((function(e){return pC(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _C(e,t,n,r){return IC.apply(this,arguments)}function IC(){return IC=yt(vt().mark((function e(t,n,r,i){var a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ig(t),e.next=3,function(e,t){var n=Ig(e),r=Ig(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.vn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):uk.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,qE(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(sC(a,n,i||null),uC(a,n),function(e,t){Ig(Ig(e).mutationQueue).Mn(t)}(a.localStore,n)):xg();case 11:return e.next=13,pC(a,o);case 13:e.next=16;break;case 15:gg("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),IC.apply(this,arguments)}function SC(e,t){return EC.apply(this,arguments)}function EC(){return(EC=yt(vt().mark((function e(t,n){var r,i,a,o,u,s,c,l;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(LC(r=Ig(t)),FC(r),!0!==n||!0===r.Oa){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,TC(r,i.toArray());case 5:return a=e.sent,r.Oa=!0,e.next=9,aT(r.remoteStore,!0);case 9:o=C(a);try{for(o.s();!(u=o.n()).done;)s=u.value,EE(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Oa){e.next=25;break}return c=[],l=Promise.resolve(),r.Sa.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return cC(r,t),US(r.localStore,t,!0)})),TE(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,TC(r,c);case 21:return function(e){var t=Ig(e);t.Ca.forEach((function(e,n){TE(t.remoteStore,n)})),t.va.mr(),t.Ca=new Map,t.Da=new nb(Wg.comparator)}(r),r.Oa=!1,e.next=25,aT(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TC(e,t,n){return CC.apply(this,arguments)}function CC(){return CC=yt(vt().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Ig(t),a=[],o=[],u=C(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Sa.get(c))||0===f.length){e.next=34;break}return e.next=11,MS(i.localStore,Cw(f[0]));case 11:l=e.sent,h=C(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.wa.get(p),e.next=20,kC(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,BS(i.localStore,c);case 36:return y=e.sent,e.next=39,MS(i.localStore,y);case 39:return l=e.sent,e.next=42,zT(i,AC(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.ya.u_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),CC.apply(this,arguments)}function AC(e){return _w(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function NC(e){return function(e){return Ig(Ig(e).persistence).Bi()}(Ig(e).localStore)}function DC(e,t,n,r){return RC.apply(this,arguments)}function RC(){return RC=yt(vt().mark((function e(t,n,r,i){var a,o,u,s;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Ig(t)).Oa){e.next=3;break}return e.abrupt("return",void gg("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.Sa.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,zS(a.localStore,Fw(o[0]));case 10:return u=e.sent,s=Hx.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,lb.EMPTY_BYTE_STRING),e.next=14,pC(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,US(a.localStore,n,!0);case 17:return cC(a,n,i),e.abrupt("break",20);case 19:xg();case 20:case"end":return e.stop()}}),e)}))),RC.apply(this,arguments)}function PC(e,t,n){return OC.apply(this,arguments)}function OC(){return OC=yt(vt().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=LC(t)).Oa){e.next=45;break}a=C(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Sa.has(u)||!i.sharedClientState.isActiveQueryTarget(u)){e.next=10;break}return gg("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,BS(i.localStore,u);case 12:return s=e.sent,e.next=15,MS(i.localStore,s);case 15:return c=e.sent,e.next=18,zT(i,AC(s),c.targetId,!1,c.resumeToken);case 18:EE(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=C(r),e.prev=30,h=vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Sa.has(t),!e.t0){e.next=5;break}return e.next=5,US(i.localStore,t,!1).then((function(){TE(i.remoteStore,t),cC(i,t)})).catch(ak);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),OC.apply(this,arguments)}function LC(e){var t=Ig(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=JT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ZT.bind(null,t),t.ya.u_=xT.bind(null,t.eventManager),t.ya.La=_T.bind(null,t.eventManager),t}function FC(e){var t=Ig(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rC.bind(null,t),t}function MC(e,t,n){var r=Ig(e);(function(){var e=yt(vt().mark((function e(t,n,r){var i,a,o,u,s;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Ig(e),r=c_(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.$r.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(AT(i)),a=new CT(i,t.localStore,n.serializer),e.next=15,n.Ba();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.sa(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.Ba();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,pC(t,s.aa,void 0);case 31:return e.next=33,function(e,t){var n=Ig(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.$r.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s._a));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(bg("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var UC=function(){function e(){l(this,e),this.synchronizeTabs=!1}return p(e,[{key:"initialize",value:function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=pE(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return AS(this.persistence,new TS,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new vS(yS.Hr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new rE}},{key:"terminate",value:function(){var e=yt(vt().mark((function e(){var t,n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(n=this.indexBackfillerScheduler)||void 0===n||n.stop(),this.sharedClientState.shutdown(),e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),jC=function(e){m(n,e);var t=w(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).ka=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return p(n,[{key:"initialize",value:function(){var e=yt(vt().mark((function e(t){var r=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rt(y(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ka.initialize(this,t);case 4:return e.next=6,FC(this.ka.syncEngine);case 6:return e.next=8,qE(this.ka.remoteStore);case 8:return e.next=10,this.persistence.fi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return AS(this.persistence,new TS,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new GI(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new gk(t,this.persistence);return new yk(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=IS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?NI.withCacheSize(this.cacheSizeBytes):NI.DEFAULT;return new wS(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,hE(),dE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new rE}}]),n}(UC),VC=function(e){m(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r,!1)).ka=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return p(n,[{key:"initialize",value:function(){var e=yt(vt().mark((function e(t){var r,i=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rt(y(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ka.syncEngine,e.t0=this.sharedClientState instanceof nE,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Zs:_C.bind(null,r),Xs:DC.bind(null,r),eo:PC.bind(null,r),Bi:NC.bind(null,r),Ys:wC.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.fi(function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SC(i.ka.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=hE();if(!nE.D(t))throw new Eg(Sg.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=IS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new nE(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(jC),BC=function(){function e(){l(this,e)}return p(e,[{key:"initialize",value:function(){var e=yt(vt().mark((function e(t,n){var r=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return $T(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=mC.bind(null,this.syncEngine),e.next=12,aT(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new yT}},{key:"createDatastore",value:function(e){var t=pE(e.databaseInfo.databaseId),n=function(e){return new fE(e)}(e.databaseInfo);return function(e,t,n,r){return new kE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new wE(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return $T(t.syncEngine,e,0)}),aE.D()?new aE:new iE)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new LT(e,t,n,r,i,a);return o&&(u.Oa=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){var e=yt(vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=yt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ig(t),gg("RemoteStore","RemoteStore shutting down."),n.v_.add(5),e.next=5,IE(n);case 5:n.M_.shutdown(),n.x_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore);case 2:null===(t=this.datastore)||void 0===t||t.terminate();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function zC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return yt(vt().mark((function r(){var i;return vt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var qC=function(){function e(t){l(this,e),this.observer=t,this.muted=!1}return p(e,[{key:"next",value:function(e){this.observer.next&&this.qa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.qa(this.observer.error,e):kg("Uncaught Error in snapshot listener:",e.toString())}},{key:"Qa",value:function(){this.muted=!0}},{key:"qa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),KC=function(){function e(t,n){var r=this;l(this,e),this.Ka=t,this.serializer=n,this.metadata=new Tg,this.buffer=new Uint8Array,this.$a=new TextDecoder("utf-8"),this.Ua().then((function(e){e&&e.ra()?r.metadata.resolve(e.na.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.na))))}),(function(e){return r.metadata.reject(e)}))}return p(e,[{key:"close",value:function(){return this.Ka.cancel()}},{key:"getMetadata",value:function(){var e=yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ba",value:function(){var e=yt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ua());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ua",value:function(){var e=yt(vt().mark((function e(){var t,n,r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Wa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.$a.decode(t),r=Number(n),isNaN(r)&&this.Ga("length string (".concat(n,") is not valid number")),e.next=9,this.za(r);case 9:return i=e.sent,e.abrupt("return",new ET(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ja",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Wa",value:function(){var e=yt(vt().mark((function e(){var t,n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ja()<0)){e.next=7;break}return e.next=3,this.Ha();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.ja())<0&&this.Ga("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"za",value:function(){var e=yt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ha();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Ga("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.$a.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){throw this.Ka.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ha",value:function(){var e=yt(vt().mark((function e(){var t,n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ka.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),GC=function(){function e(t){l(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}return p(e,[{key:"lookup",value:function(){var e=yt(vt().mark((function e(t){var n,r=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw this.lastTransactionError=new Eg(Sg.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;case 2:return e.next=4,function(){var e=yt(vt().mark((function e(t,n){var r,i,a,o,u;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ig(t),i={documents:n.map((function(e){return d_(r.serializer,e)}))},e.next=4,r.vo("BatchGetDocuments",r.serializer.databaseId,Kg.emptyPath(),i,n.length);case 4:return a=e.sent,o=new Map,a.forEach((function(e){var t=w_(r.serializer,e);o.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=o.get(e.toString());_g(!!t),u.push(t)})),u));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Dx(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=yt(vt().mark((function e(){var t,n=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastTransactionError){e.next=2;break}throw this.lastTransactionError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Wg.fromPath(t);n.mutations.push(new Rx(r,n.precondition(r)))})),e.next=7,function(){var e=yt(vt().mark((function e(t,n){var r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ig(t),i={writes:n.map((function(e){return x_(r.serializer,e)}))},e.next=3,r.So("Commit",r.serializer.databaseId,Kg.emptyPath(),i);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw xg();t=zg.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Eg(Sg.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(zg.min())?mx.exists(!1):mx.updateTime(t):mx.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(zg.min()))throw new Eg(Sg.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mx.updateTime(t)}return mx.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),HC=function(){function e(t,n,r,i,a){l(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Ja=r.maxAttempts,this.jo=new vE(this.asyncQueue,"transaction_retry")}return p(e,[{key:"Ya",value:function(){this.Ja-=1,this.Za()}},{key:"Za",value:function(){var e=this;this.jo.qo(yt(vt().mark((function t(){var n,r;return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new GC(e.datastore),(r=e.Xa(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.eu(t)}))}))})).catch((function(t){e.eu(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Xa",value:function(e){try{var t=this.updateFunction(e);return!bk(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"eu",value:function(e){var t=this;this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget((function(){return t.Za(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"tu",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Mx(t)}return!1}}]),e}(),WC=function(){function e(t,n,r,i){var a=this;l(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pg.UNAUTHENTICATED,this.clientId=Mg.newId(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gg("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return gg("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return p(e,[{key:"configuration",get:function(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Eg(Sg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Tg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(yt(vt().mark((function n(){var r;return vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=lT(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function QC(e,t){return YC.apply(this,arguments)}function YC(){return YC=yt(vt().mark((function e(t,n){var r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),gg("FirestoreClient","Initializing OfflineComponentProvider"),r=t.configuration,e.next=4,n.initialize(r);case 4:i=r.initialUser,t.setCredentialChangeListener(function(){var e=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,NS(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 6:case"end":return e.stop()}}),e)}))),YC.apply(this,arguments)}function JC(e,t){return XC.apply(this,arguments)}function XC(){return(XC=yt(vt().mark((function e(t,n){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,ZC(t);case 3:return r=e.sent,gg("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,n.initialize(r,t.configuration);case 7:t.setCredentialChangeListener((function(e){return rT(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return rT(n.remoteStore,t)})),t._onlineComponents=n;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $C(e){return"FirebaseError"===e.name?e.code===Sg.FAILED_PRECONDITION||e.code===Sg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function ZC(e){return eA.apply(this,arguments)}function eA(){return(eA=yt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return gg("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,QC(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),$C(n=e.t0)){e.next=13;break}throw n;case 13:return bg("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,QC(t,new UC);case 16:e.next=21;break;case 18:return gg("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,QC(t,new UC);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function tA(e){return nA.apply(this,arguments)}function nA(){return(nA=yt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return gg("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,JC(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return gg("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,JC(t,new BC);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rA(e){return ZC(e).then((function(e){return e.persistence}))}function iA(e){return ZC(e).then((function(e){return e.localStore}))}function aA(e){return tA(e).then((function(e){return e.remoteStore}))}function oA(e){return tA(e).then((function(e){return e.syncEngine}))}function uA(e){return tA(e).then((function(e){return e.datastore}))}function sA(e){return cA.apply(this,arguments)}function cA(){return(cA=yt(vt().mark((function e(t){var n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tA(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=FT.bind(null,n.syncEngine),r.onUnlisten=KT.bind(null,n.syncEngine),r.onFirstRemoteStoreListen=UT.bind(null,n.syncEngine),r.onLastRemoteStoreUnlisten=HT.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Tg;return e.asyncQueue.enqueueAndForget(yt(vt().mark((function i(){return vt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new qC({next:function(a){t.enqueueAndForget((function(){return bT(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Eg(Sg.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Eg(Sg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new ST(Iw(n.path),a,{includeMetadataChanges:!0,ta:!0});return gT(e,o)},i.next=3,sA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function fA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Tg;return e.asyncQueue.enqueueAndForget(yt(vt().mark((function i(){return vt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new qC({next:function(n){t.enqueueAndForget((function(){return bT(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Eg(Sg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new ST(n,a,{includeMetadataChanges:!0,ta:!0});return gT(e,o)},i.next=3,sA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function hA(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var dA=new Map;function pA(e,t,n){if(!n)throw new Eg(Sg.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function vA(e,t,n,r){if(!0===t&&!0===r)throw new Eg(Sg.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function mA(e){if(!Wg.isDocumentKey(e))throw new Eg(Sg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function yA(e){if(Wg.isDocumentKey(e))throw new Eg(Sg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function gA(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":xg()}function kA(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Eg(Sg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=gA(e);throw new Eg(Sg.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function bA(e,t){if(t<=0)throw new Eg(Sg.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var wA=function(){function e(t){var n,r;if(l(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Eg(Sg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Eg(Sg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hA(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Eg(Sg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Eg(Sg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Eg(Sg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return p(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),xA=function(){function e(t,n,r,i){l(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wA({}),this._settingsFrozen=!1}return p(e,[{key:"app",get:function(){if(!this._app)throw new Eg(Sg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Eg(Sg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wA(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ag;switch(e.type){case"firstParty":return new Pg(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Eg(Sg.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=dA.get(e);t&&(gg("ComponentProvider","Removing Datastore"),dA.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function _A(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=kA(e,xA))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&bg("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=pg.MOCK_USER;else{u=Wt(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Eg(Sg.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new pg(c)}e._authCredentials=new Ng(new Cg(u,s))}}var IA=function(){function e(t,n,r){l(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return p(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),SA=function(){function e(t,n,r){l(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return p(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new EA(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),EA=function(e){m(n,e);var t=w(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,e,r,Iw(i)))._path=i,a.type="collection",a}return p(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new SA(this.firestore,null,new Wg(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(IA);function TA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=mn(e),pA("collection","path",t),e instanceof xA){var a=Kg.fromString.apply(Kg,[t].concat(r));return yA(a),new EA(e,null,a)}if(!(e instanceof SA||e instanceof EA))throw new Eg(Sg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Kg.fromString.apply(Kg,[t].concat(r)));return yA(o),new EA(e.firestore,null,o)}function CA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=mn(e),1===arguments.length&&(t=Mg.newId()),pA("doc","path",t),e instanceof xA){var a=Kg.fromString.apply(Kg,[t].concat(r));return mA(a),new SA(e,null,new Wg(a))}if(!(e instanceof SA||e instanceof EA))throw new Eg(Sg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Kg.fromString.apply(Kg,[t].concat(r)));return mA(o),new SA(e.firestore,e instanceof EA?e.converter:null,new Wg(o))}function AA(e,t){return e=mn(e),t=mn(t),(e instanceof SA||e instanceof EA)&&(t instanceof SA||t instanceof EA)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function NA(e,t){return e=mn(e),t=mn(t),e instanceof IA&&t instanceof IA&&e.firestore===t.firestore&&Rw(e._query,t._query)&&e.converter===t.converter}var DA=function(){function e(){var t=this;l(this,e),this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new vE(this,"async_queue_retry"),this.cu=function(){var e=dE();e&&gg("AsyncQueue","Visibility state changed to "+e.visibilityState),t.jo.Ko()};var n=dE();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.cu)}return p(e,[{key:"isShuttingDown",get:function(){return this.iu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.lu(),this.hu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.iu){this.iu=!0,this.au=e||!1;var t=dE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.cu)}}},{key:"enqueue",value:function(e){var t=this;if(this.lu(),this.iu)return new Promise((function(){}));var n=new Tg;return this.hu((function(){return t.iu&&t.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ru.push(e),t.Pu()}))}},{key:"Pu",value:function(){var e=yt(vt().mark((function e(){var t=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ru.length){e.next=14;break}return e.prev=1,e.next=4,this.ru[0]();case 4:this.ru.shift(),this.jo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),hk(e.t0)){e.next=12;break}throw e.t0;case 12:gg("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ru.length>0&&this.jo.qo((function(){return t.Pu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"hu",value:function(e){var t=this,n=this.nu.then((function(){return t._u=!0,e().catch((function(e){t.ou=e,t._u=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw kg("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t._u=!1,e}))}));return this.nu=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.lu(),this.uu.indexOf(e)>-1&&(t=0);var i=cT.createAndSchedule(this,e,t,n,(function(e){return r.Iu(e)}));return this.su.push(i),i}},{key:"lu",value:function(){this.ou&&xg()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Tu",value:function(){var e=yt(vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.nu,e.next=3,t;case 3:if(t!==this.nu){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Eu",value:function(e){var t,n=C(this.su);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"du",value:function(e){var t=this;return this.Tu().then((function(){t.su.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=C(t.su);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Tu()}))}},{key:"Au",value:function(e){this.uu.push(e)}},{key:"Iu",value:function(e){var t=this.su.indexOf(e);this.su.splice(t,1)}}]),e}();function RA(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=C(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var PA=function(){function e(){l(this,e),this._progressObserver={},this._taskCompletionResolver=new Tg,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return p(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),OA=function(e){m(n,e);var t=w(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new DA,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return p(n,[{key:"_terminate",value:function(){return this._firestoreClient||FA(this),this._firestoreClient.terminate()}}]),n}(xA);function LA(e){return e._firestoreClient||FA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function FA(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new gb(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,hA(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new WC(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function MA(e,t,n){var r=new Tg;return e.asyncQueue.enqueue(yt(vt().mark((function i(){var a;return vt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,QC(e,n);case 3:return i.next=5,JC(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),$C(a=i.t0)){i.next=13;break}throw a;case 13:bg("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function UA(e){return function(e){var t=new Tg;return e.asyncQueue.enqueueAndForget(yt(vt().mark((function n(){return vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=aC,n.next=3,oA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(LA(e=kA(e,OA)))}function jA(e){return function(e){return e.asyncQueue.enqueue(yt(vt().mark((function t(){var n,r;return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rA(e);case 2:return n=t.sent,t.next=5,aA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Ig(e);return t.v_.delete(0),xE(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(LA(e=kA(e,OA)))}function VA(e){return function(e){return e.asyncQueue.enqueue(yt(vt().mark((function t(){var n,r;return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rA(e);case 2:return n=t.sent,t.next=5,aA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=yt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ig(t)).v_.add(0),e.next=4,IE(n);case 4:n.x_.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(LA(e=kA(e,OA)))}function BA(e,t){var n=LA(e=kA(e,OA)),r=new PA;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new KC(e,t)}(function(e,t){if(e instanceof Uint8Array)return zC(e,t);if(e instanceof ArrayBuffer)return zC(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?Vx().encode(e):e),t)}(n,pE(t));e.asyncQueue.enqueueAndForget(yt(vt().mark((function t(){return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=MC,t.next=3,oA(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function zA(e,t){return function(e,t){return e.asyncQueue.enqueue(yt(vt().mark((function n(){return vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Ig(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.$r.getNamedQuery(e,t)}))},n.next=3,iA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(LA(e=kA(e,OA)),t).then((function(t){return t?new IA(e,null,t.query):null}))}function qA(e){if(e._initialized||e._terminated)throw new Eg(Sg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var KA=function(){function e(t){l(this,e),this._byteString=t}return p(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(lb.fromBase64String(t))}catch(t){throw new Eg(Sg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(lb.fromUint8Array(t))}}]),e}(),GA=function(){function e(){l(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Eg(Sg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hg(n)}return p(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var HA=p((function e(t){l(this,e),this._methodName=t})),WA=function(){function e(t,n){if(l(this,e),!isFinite(t)||t<-90||t>90)throw new Eg(Sg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Eg(Sg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return p(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Ug(this._lat,e._lat)||Ug(this._long,e._long)}}]),e}(),QA=/^__.*__$/,YA=function(){function e(t,n,r){l(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return p(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Sx(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ix(e,this.data,t,this.fieldTransforms)}}]),e}(),JA=function(){function e(t,n,r){l(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return p(e,[{key:"toMutation",value:function(e,t){return new Sx(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function XA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xg()}}var $A=function(){function e(t,n,r,i,a,o){l(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ru(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return p(e,[{key:"path",get:function(){return this.settings.path}},{key:"Vu",get:function(){return this.settings.Vu}},{key:"mu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"fu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.pu(e),r}},{key:"yu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.Ru(),r}},{key:"wu",value:function(e){return this.mu({path:void 0,gu:!0})}},{key:"Su",value:function(e){return gN(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ru",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.pu(this.path.get(e))}},{key:"pu",value:function(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(XA(this.Vu)&&QA.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}]),e}(),ZA=function(){function e(t,n,r){l(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||pE(t)}return p(e,[{key:"Cu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new $A({Vu:e,methodName:t,Du:n,path:Hg.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function eN(e){var t=e._freezeSettings(),n=pE(e._databaseId);return new ZA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function tN(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Cu(a.merge||a.mergeFields?2:0,t,n,i);pN("Data must be an object, but it was:",o,r);var u,s,c=hN(r,o);if(a.merge)u=new sb(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=C(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=vN(t,l.value,n);if(!o.contains(d))throw new Eg(Sg.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));kN(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new sb(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new YA(new Bb(c),u,s)}var nN=function(e){m(n,e);var t=w(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Vu)throw 1===e.Vu?e.Su("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Su("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(HA);function rN(e,t,n){return new $A({Vu:3,Du:t.settings.Du,methodName:e._methodName,gu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var iN=function(e){m(n,e);var t=w(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"_toFieldTransform",value:function(e){return new px(e.path,new ox)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(HA),aN=function(e){m(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e)).vu=r,i}return p(n,[{key:"_toFieldTransform",value:function(e){var t=rN(this,e,!0),n=this.vu.map((function(e){return fN(e,t)})),r=new ux(n);return new px(e.path,r)}},{key:"isEqual",value:function(e){return e instanceof n&&sn(this.vu,e.vu)}}]),n}(HA),oN=function(e){m(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e)).vu=r,i}return p(n,[{key:"_toFieldTransform",value:function(e){var t=rN(this,e,!0),n=this.vu.map((function(e){return fN(e,t)})),r=new cx(n);return new px(e.path,r)}},{key:"isEqual",value:function(e){return e instanceof n&&sn(this.vu,e.vu)}}]),n}(HA),uN=function(e){m(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e)).Fu=r,i}return p(n,[{key:"_toFieldTransform",value:function(e){var t=new fx(e.serializer,tx(e.serializer,this.Fu));return new px(e.path,t)}},{key:"isEqual",value:function(e){return e instanceof n&&this.Fu===e.Fu}}]),n}(HA);function sN(e,t,n,r){var i=e.Cu(1,t,n);pN("Data must be an object, but it was:",i,r);var a=[],o=Bb.empty();eb(r,(function(e,r){var u=yN(t,e,n);r=mn(r);var s=i.yu(u);if(r instanceof nN)a.push(u);else{var c=fN(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new sb(a);return new JA(o,u,i.fieldTransforms)}function cN(e,t,n,r,i,a){var o=e.Cu(1,t,n),u=[vN(t,r,n)],s=[i];if(a.length%2!=0)throw new Eg(Sg.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(vN(t,a[c])),s.push(a[c+1]);for(var l=[],f=Bb.empty(),h=u.length-1;h>=0;--h)if(!kN(l,u[h])){var d=u[h],p=s[h];p=mn(p);var v=o.yu(d);if(p instanceof nN)l.push(d);else{var m=fN(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new sb(l);return new JA(f,y,o.fieldTransforms)}function lN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return fN(n,e.Cu(r?4:3,t))}function fN(e,t){if(dN(e=mn(e)))return pN("Unsupported field value:",t,e),hN(e,t);if(e instanceof HA)return function(e,t){if(!XA(t.Vu))throw t.Su("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Su("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&4!==t.Vu)throw t.Su("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=C(e);try{for(a.s();!(n=a.n()).done;){var o=fN(n.value,t.wu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=mn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return tx(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Bg.fromDate(e);return{timestampValue:o_(t.serializer,n)}}if(e instanceof Bg){var r=new Bg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:o_(t.serializer,r)}}if(e instanceof WA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof KA)return{bytesValue:u_(t.serializer,e._byteString)};if(e instanceof SA){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Su("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:l_(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Su("Unsupported field value: ".concat(gA(e)))}(e,t)}function hN(e,t){var n={};return tb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):eb(e,(function(e,r){var i=fN(r,t.fu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function dN(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Bg||e instanceof WA||e instanceof KA||e instanceof SA||e instanceof HA)}function pN(e,t,n){if(!dN(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=gA(n);throw"an object"===r?t.Su(e+" a custom object"):t.Su(e+" "+r)}}function vN(e,t,n){if((t=mn(t))instanceof GA)return t._internalPath;if("string"==typeof t)return yN(e,t);throw gN("Field path arguments must be of type string or ",e,!1,void 0,n)}var mN=new RegExp("[~\\*/\\[\\]]");function yN(e,t,n){if(t.search(mN)>=0)throw gN("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return x(GA,c(t.split(".")))._internalPath}catch(ap){throw gN("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function gN(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Eg(Sg.INVALID_ARGUMENT,u+e+s)}function kN(e,t){return e.some((function(e){return e.isEqual(t)}))}var bN=function(){function e(t,n,r,i,a){l(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return p(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new SA(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new wN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(xN("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),wN=function(e){m(n,e);var t=w(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(){return Rt(y(n.prototype),"data",this).call(this)}}]),n}(bN);function xN(e,t){return"string"==typeof t?yN(e,t):t instanceof GA?t._internalPath:t._delegate._internalPath}function _N(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Eg(Sg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var IN=p((function e(){l(this,e)})),SN=function(e){m(n,e);var t=w(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n)}(IN);function EN(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof IN&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof CN})).length,n=e.filter((function(e){return e instanceof TN})).length;if(t>1||t>0&&n>0)throw new Eg(Sg.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=C(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var TN=function(e){m(n,e);var t=w(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return p(n,[{key:"_apply",value:function(e){var t=this._parse(e);return VN(e._query,t),new IA(e.firestore,e.converter,Nw(e._query,t))}},{key:"_parse",value:function(e){var t=eN(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Eg(Sg.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){jN(o,a);var s,c=[],l=C(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(UN(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=UN(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||jN(o,a),u=lN(n,t,o,"in"===a||"not-in"===a);return Jb.create(i,a,u)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(SN);var CN=function(e){m(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return p(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Xb.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=C(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;VN(r,a),r=Nw(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new IA(e.firestore,e.converter,Nw(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(IN);var AN=function(e){m(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return p(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Eg(Sg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Eg(Sg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wb(t,n)}(e._query,this._field,this._direction);return new IA(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new xw(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(SN);var NN=function(e){m(n,e);var t=w(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return p(n,[{key:"_apply",value:function(e){return new IA(e.firestore,e.converter,Dw(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(SN);var DN=function(e){m(n,e);var t=w(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return p(n,[{key:"_apply",value:function(e){var t=MN(e,this.type,this._docOrFields,this._inclusive);return new IA(e.firestore,e.converter,function(e,t){return new xw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(SN);function RN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return DN._create("startAt",t,!0)}function PN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return DN._create("startAfter",t,!1)}var ON=function(e){m(n,e);var t=w(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return p(n,[{key:"_apply",value:function(e){var t=MN(e,this.type,this._docOrFields,this._inclusive);return new IA(e.firestore,e.converter,function(e,t){return new xw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(SN);function LN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ON._create("endBefore",t,!1)}function FN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ON._create("endAt",t,!0)}function MN(e,t,n,r){if(n[0]=mn(n[0]),n[0]instanceof bN)return function(e,t,n,r,i){if(!r)throw new Eg(Sg.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=C(Tw(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Ab(t,r.key));else{var c=r.data.field(s.field);if(vb(c))throw new Eg(Sg.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Eg(Sg.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Kb(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=eN(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Eg(Sg.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Eg(Sg.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Ew(e)&&-1!==c.indexOf("/"))throw new Eg(Sg.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Kg.fromString(c));if(!Wg.isDocumentKey(l))throw new Eg(Sg.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Wg(l);u.push(Ab(t,f))}else{var h=lN(n,r,c);u.push(h)}}return new Kb(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function UN(e,t,n){if("string"==typeof(n=mn(n))){if(""===n)throw new Eg(Sg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ew(t)&&-1!==n.indexOf("/"))throw new Eg(Sg.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Kg.fromString(n));if(!Wg.isDocumentKey(r))throw new Eg(Sg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ab(e,new Wg(r))}if(n instanceof SA)return Ab(e,n._key);throw new Eg(Sg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(gA(n),"."))}function jN(e,t){if(!Array.isArray(e)||0===e.length)throw new Eg(Sg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function VN(e,t){var n=function(e,t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i,a=C(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Eg(Sg.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Eg(Sg.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}var BN=function(){function e(){l(this,e)}return p(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(xb(e)){case 0:return null;case 1:return e.booleanValue;case 2:return db(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pb(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw xg()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return eb(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new WA(db(e.latitude),db(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=mb(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(yb(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=hb(e);return new Bg(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Kg.fromString(e);_g(L_(n));var r=new kb(n.get(1),n.get(3)),i=new Wg(n.popFirst(5));return r.isEqual(t)||kg("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function zN(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var qN=function(e){m(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new KA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new SA(this.firestore,null,t)}}]),n}(BN);var KN=function(){function e(t,n){l(this,e),this.hasPendingWrites=t,this.fromCache=n}return p(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),GN=function(e){m(n,e);var t=w(n);function n(e,r,i,a,o,u){var s;return l(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return p(n,[{key:"exists",value:function(){return Rt(y(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new HN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(xN("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(bN),HN=function(e){m(n,e);var t=w(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Rt(y(n.prototype),"data",this).call(this,e)}}]),n}(GN),WN=function(){function e(t,n,r,i){l(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new KN(i.hasPendingWrites,i.fromCache),this.query=r}return p(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new HN(n._firestore,n._userDataWriter,r.key,r,new KN(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Eg(Sg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new HN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new KN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new HN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new KN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:QN(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function QN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xg()}}function YN(e,t){return e instanceof GN&&t instanceof GN?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof WN&&t instanceof WN&&e._firestore===t._firestore&&NA(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var JN=function(e){m(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new KA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new SA(this.firestore,null,t)}}]),n}(BN);function XN(e){e=kA(e,SA);var t=kA(e.firestore,OA),n=LA(t),r=new JN(t);return function(e,t){var n=new Tg;return e.asyncQueue.enqueueAndForget(yt(vt().mark((function r(){return vt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=yt(vt().mark((function e(t,n,r){var i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Ig(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Eg(Sg.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=lT(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,iA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new GN(t,r,e._key,n,new KN(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function $N(e){e=kA(e,IA);var t=kA(e.firestore,OA),n=LA(t),r=new JN(t);return _N(e._query),fA(n,e._query).then((function(n){return new WN(t,r,e,n)}))}function ZN(e){e=kA(e,IA);var t=kA(e.firestore,OA),n=LA(t),r=new JN(t);return function(e,t){var n=new Tg;return e.asyncQueue.enqueueAndForget(yt(vt().mark((function r(){return vt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=yt(vt().mark((function e(t,n,r){var i,a,o,u,s;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,VS(t,n,!0);case 3:i=e.sent,a=new RT(n,i.hs),o=a.Ta(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=lT(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,iA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new WN(t,r,e,n)}))}function eD(e){e=kA(e,IA);var t=kA(e.firestore,OA),n=LA(t),r=new JN(t);return fA(n,e._query,{source:"server"}).then((function(n){return new WN(t,r,e,n)}))}function tD(e,t,n){e=kA(e,SA);var r=kA(e.firestore,OA),i=zN(e.converter,t,n);return aD(r,[tN(eN(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,mx.none())])}function nD(e,t,n){e=kA(e,SA);for(var r=kA(e.firestore,OA),i=eN(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return aD(r,[("string"==typeof(t=mn(t))||t instanceof GA?cN(i,"updateDoc",e._key,t,n,o):sN(i,"updateDoc",e._key,t)).toMutation(e._key,mx.exists(!0))])}function rD(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=mn(e);var u={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof n[s]||RA(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(RA(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof SA)l=kA(e.firestore,OA),f=Iw(e._key.path),c={next:function(t){n[s]&&n[s](oD(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=kA(e,IA);l=kA(p.firestore,OA),f=p._query;var v=new JN(l);c={next:function(e){n[s]&&n[s](new WN(l,v,p,e))},error:n[s+1],complete:n[s+2]},_N(e._query)}return function(e,t,n,r){var i=new qC(r),a=new ST(t,i,n);return e.asyncQueue.enqueueAndForget(yt(vt().mark((function t(){return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=gT,t.next=3,sA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Qa(),e.asyncQueue.enqueueAndForget(yt(vt().mark((function t(){return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=bT,t.next=3,sA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(LA(l),f,h,c)}function iD(e,t){return function(e,t){var n=new qC(t);return e.asyncQueue.enqueueAndForget(yt(vt().mark((function t(){return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ig(e).W_.add(t),t.next()},t.next=3,sA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Qa(),e.asyncQueue.enqueueAndForget(yt(vt().mark((function t(){return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ig(e).W_.delete(t)},t.next=3,sA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(LA(e=kA(e,OA)),RA(t)?t:{next:t})}function aD(e,t){return function(e,t){var n=new Tg;return e.asyncQueue.enqueueAndForget(yt(vt().mark((function r(){return vt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=QT,r.next=3,oA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(LA(e),t)}function oD(e,t,n){var r=n.docs.get(t._key),i=new JN(e);return new GN(e,i,t._key,r,new KN(n.hasPendingWrites,n.fromCache),t.converter)}var uD={maxAttempts:5},sD=function(){function e(t,n){l(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=eN(t)}return p(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=cD(e,this._firestore),i=zN(r.converter,t,n),a=tN(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,mx.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=cD(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=mn(t))||t instanceof GA?cN(this._dataReader,"WriteBatch.update",i._key,t,n,o):sN(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,mx.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=cD(e,this._firestore);return this._mutations=this._mutations.concat(new Dx(t._key,mx.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Eg(Sg.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function cD(e,t){if((e=mn(e)).firestore!==t)throw new Eg(Sg.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var lD=function(e){m(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r))._firestore=e,i}return p(n,[{key:"get",value:function(e){var t=this,r=cD(e,this._firestore),i=new JN(this._firestore);return Rt(y(n.prototype),"get",this).call(this,e).then((function(e){return new GN(t._firestore,i,r._key,e._document,new KN(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){l(this,e),this._firestore=t,this._transaction=n,this._dataReader=eN(t)}return p(e,[{key:"get",value:function(e){var t=this,n=cD(e,this._firestore),r=new qN(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return xg();var i=e[0];if(i.isFoundDocument())return new bN(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new bN(t._firestore,r,n._key,null,n.converter);throw xg()}))}},{key:"set",value:function(e,t,n){var r=cD(e,this._firestore),i=zN(r.converter,t,n),a=tN(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=cD(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=mn(t))||t instanceof GA?cN(this._dataReader,"Transaction.update",i._key,t,n,o):sN(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=cD(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function fD(e,t,n){e=kA(e,OA);var r=Object.assign(Object.assign({},uD),n);return function(e){if(e.maxAttempts<1)throw new Eg(Sg.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Tg;return e.asyncQueue.enqueueAndForget(yt(vt().mark((function i(){var a;return vt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,uA(e);case 2:a=i.sent,new HC(e.asyncQueue,a,n,t,r).Ya();case 4:case"end":return i.stop()}}),i)})))),r.promise}(LA(e),(function(n){return t(new lD(e,n))}),r)}function hD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new aN("arrayUnion",t)}function dD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new oN("arrayRemove",t)}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){vg=e}(yr),ur(new yn("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new OA(new Dg(e.getProvider("auth-internal")),new Lg(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Eg(Sg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kb(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ir(dg,"4.6.0",e),Ir(dg,"4.6.0","esm2017")}();function pD(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Eg("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function vD(){if("undefined"===typeof Uint8Array)throw new Eg("unimplemented","Uint8Arrays are not available in this environment.")}function mD(){if("undefined"==typeof atob)throw new Eg("unimplemented","Blobs are unavailable in Firestore in this environment.")}var yD=function(){function e(t){l(this,e),this._delegate=t}return p(e,[{key:"toBase64",value:function(){return mD(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return vD(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return mD(),new e(KA.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return vD(),new e(KA.fromUint8Array(t))}}]),e}();function gD(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=C(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var kD=function(){function e(){l(this,e)}return p(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){qA(e=kA(e,OA));var n=LA(e);if(n._uninitializedComponentsProvider)throw new Eg(Sg.FAILED_PRECONDITION,"SDK cache is already specified.");bg("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new BC;return MA(n,i,new jC(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){qA(e=kA(e,OA));var t=LA(e);if(t._uninitializedComponentsProvider)throw new Eg(Sg.FAILED_PRECONDITION,"SDK cache is already specified.");bg("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new BC;return MA(t,r,new VC(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Eg(Sg.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Tg;return e._queue.enqueueAndForgetEvenWhileRestricted(yt(vt().mark((function n(){return vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=yt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ck.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,ck.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(IS(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),bD=function(){function e(t,n,r){var i=this;l(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof kb||(this._appCompat=t)}return p(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||bg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_A(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return jA(this._delegate)}},{key:"disableNetwork",value:function(){return VA(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&vA("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return UA(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return iD(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Eg("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new OD(this,TA(this._delegate,e))}catch(t){throw ED(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new SD(this,CA(this._delegate,e))}catch(t){throw ED(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new DD(this,function(e,t){if(e=kA(e,xA),pA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Eg(Sg.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new IA(e,null,function(e){return new xw(Kg.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw ED(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return fD(this._delegate,(function(n){return e(new xD(t,n))}))}},{key:"batch",value:function(){var e=this;return LA(this._delegate),new _D(new sD(this._delegate,(function(t){return aD(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return BA(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return zA(this._delegate,e).then((function(e){return e?new DD(t,e):null}))}}]),e}(),wD=function(e){m(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new yD(new KA(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return SD.forKey(t,this.firestore,null)}}]),n}(BN);var xD=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new wD(t)}return p(e,[{key:"get",value:function(e){var t=this,n=LD(e);return this._delegate.get(n).then((function(e){return new AD(t._firestore,new GN(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=LD(e);return n?(pD("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=LD(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=LD(e);return this._delegate.delete(t),this}}]),e}(),_D=function(){function e(t){l(this,e),this._delegate=t}return p(e,[{key:"set",value:function(e,t,n){var r=LD(e);return n?(pD("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=LD(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=LD(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),ID=function(){function e(t,n,r){l(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return p(e,[{key:"fromFirestore",value:function(e,t){var n=new HN(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ND(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new wD(t),n),i.set(n,a)),a}}]),e}();ID.INSTANCES=new WeakMap;var SD=function(){function e(t,n){l(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new wD(t)}return p(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new OD(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new OD(this.firestore,TA(this._delegate,e))}catch(t){throw ED(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=mn(e))instanceof SA&&AA(this._delegate,e)}},{key:"set",value:function(e,t){t=pD("DocumentReference.set",t);try{return t?tD(this._delegate,e,t):tD(this._delegate,e)}catch(n){throw ED(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?nD(this._delegate,e):nD.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw ED(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return aD(kA((e=this._delegate).firestore,OA),[new Dx(e._key,mx.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=TD(n),a=CD(n,(function(t){return new AD(e.firestore,new GN(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return rD(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?XN(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=kA(e,SA);var t=kA(e.firestore,OA);return lA(LA(t),e._key,{source:"server"}).then((function(n){return oD(t,e,n)}))}(this._delegate):function(e){e=kA(e,SA);var t=kA(e.firestore,OA);return lA(LA(t),e._key).then((function(n){return oD(t,e,n)}))}(this._delegate)).then((function(e){return new AD(t.firestore,new GN(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(ID.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Eg("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new SA(n._delegate,r,new Wg(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new SA(n._delegate,r,t))}}]),e}();function ED(e,t,n){return e.message=e.message.replace(t,n),e}function TD(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!gD(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function CD(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=gD(e[0])?e[0]:gD(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var AD=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n}return p(e,[{key:"ref",get:function(){return new SD(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return YN(this._delegate,e._delegate)}}]),e}(),ND=function(e){m(n,e);var t=w(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return this._delegate._converter||void 0!==t||xg(),t}}]),n}(AD),DD=function(){function e(t,n){l(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new wD(t)}return p(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,EN(this._delegate,function(e,t,n){var r=t,i=xN("where",e);return TN._create(i,r,n)}(t,n,r)))}catch(i){throw ED(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,EN(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=xN("orderBy",e);return AN._create(n,t)}(t,n)))}catch(r){throw ED(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,EN(this._delegate,(bA("limit",n=t),NN._create("limit",n,"F"))))}catch(n){throw ED(n,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,EN(this._delegate,(bA("limitToLast",n=t),NN._create("limitToLast",n,"L"))))}catch(n){throw ED(n,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,EN(this._delegate,RN.apply(void 0,arguments)))}catch(t){throw ED(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,EN(this._delegate,PN.apply(void 0,arguments)))}catch(t){throw ED(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,EN(this._delegate,LN.apply(void 0,arguments)))}catch(t){throw ED(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,EN(this._delegate,FN.apply(void 0,arguments)))}catch(t){throw ED(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return NA(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?ZN(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?eD(this._delegate):$N(this._delegate)).then((function(e){return new PD(t.firestore,new WN(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=TD(n),a=CD(n,(function(t){return new PD(e.firestore,new WN(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return rD(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(ID.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),RD=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n}return p(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new ND(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),PD=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n}return p(e,[{key:"query",get:function(){return new DD(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new ND(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new RD(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new ND(n._firestore,r))}))}},{key:"isEqual",value:function(e){return YN(this._delegate,e._delegate)}}]),e}(),OD=function(e){m(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return p(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new SD(this.firestore,e):null}},{key:"doc",value:function(e){try{return new SD(this.firestore,void 0===e?CA(this._delegate):CA(this._delegate,e))}catch(t){throw ED(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=kA(e.firestore,OA),r=CA(e),i=zN(e.converter,t);return aD(n,[tN(eN(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,mx.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new SD(t.firestore,e)}))}},{key:"isEqual",value:function(e){return AA(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(ID.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(DD);function LD(e){return kA(e,SA)}var FD=function(){function e(){l(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=x(GA,n)}return p(e,[{key:"isEqual",value:function(e){return(e=mn(e))instanceof GA&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Hg.keyField().canonicalString())}}]),e}(),MD=function(){function e(t){l(this,e),this._delegate=t}return p(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new iN("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new nN("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=hD.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=dD.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new uN("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),UD={Firestore:bD,GeoPoint:WA,Timestamp:Bg,Blob:yD,Transaction:xD,WriteBatch:_D,DocumentReference:SD,DocumentSnapshot:AD,Query:DD,QueryDocumentSnapshot:ND,QuerySnapshot:PD,CollectionReference:OD,FieldPath:FD,FieldValue:MD,setLogLevel:function(e){var t;t=e,mg.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new yn("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},UD)))}(e,(function(e,t){return new bD(e,t,new kD)})),e.registerVersion("@firebase/firestore-compat","0.3.29")}(Ul);var jD=function(){return(0,ze.jsxs)("div",{className:"fon",children:[(0,ze.jsx)(Lh,{}),(0,ze.jsxs)(Ue,{children:[(0,ze.jsx)(Fe,{path:"/",element:(0,ze.jsx)(pt,{})}),(0,ze.jsx)(Fe,{path:"/Menu",element:(0,ze.jsx)(ph,{})}),(0,ze.jsx)(Fe,{path:"/About",element:(0,ze.jsx)(Oh,{})}),(0,ze.jsx)(Fe,{path:"/form/:id",element:(0,ze.jsx)(Uh,{})}),(0,ze.jsx)(Fe,{path:"/Login",element:(0,ze.jsx)(Mh,{})})]}),(0,ze.jsx)(Fh,{})]})},VD=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};a.createRoot(document.getElementById("root")).render((0,ze.jsx)(r.StrictMode,{children:(0,ze.jsx)(Xe,{children:(0,ze.jsx)(jD,{})})})),VD()}()}();
//# sourceMappingURL=main.9924e2c4.js.map